import{_ as p,r as o,o as l,c,a as n,d as s,b as t,e}from"./app-8007fa1b.js";const i="/assets/image_6z_rPg5vfi-06673b9e.png",u="/assets/image_aTxxzrw9eO-e58ab3a9.png",r="/assets/image_b2QPM-sxTg-ce5932df.png",d="/assets/image_EhZwteiZyj-3e0232c6.png",k="/assets/image_1eSjjIde_q-e2d17d6d.png",m="/assets/image_1K6lhufTYa-39a332c8.png",v="/assets/image_HasKvwKkFt-688b1af2.png",g="/assets/image_rM7o5_JxMx-53f63ffb.png",b="/assets/image_1yTJ2l_3CU-e79e389e.png",y="/assets/image_etk1A3OTpm-e459a363.png",h="/assets/image_CCXiQR1OtY-b4bb54b0.png",q="/assets/image_KSrGd0biVQ-668cad0c.png",E="/assets/image_PoEh-9GVrR-c7ada232.png",f="/assets/image_8RlmGCLaBQ-066c9e53.png",_="/assets/image__ojXNgTyaD-b0ece869.png",A="/assets/image_eE-zzn7oRy-a8dd4fa6.png",M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkIAAADICAYAAAAEE46XAAAMDElEQVR4nO3da3KjOBQGUDw1y2H/K2E/mR+M3Q6NriQeBlnnVHVNxjEO+cLF1xKPxzAMPwPsME3T1atwW+M4Xr0KNE59pakvdno8v9AIsYftJyYf9rD9xOTDVq9t558r1wIA4EoaIQCgWxohAKBbGqFz/AzmruFIagr+UA8H0gid45F/ClBBTQGnaKER2tv16poh7ez6uHv93X39+F57tr3H4MPBYVpohAAATvHv1SsQ+Fn5uqYDLll+2ZFH30/97Nxzou+nfv5ymZL1gBp762v5Gsvlo9df+3nRY7U///21UrVzxO8PWxz53pZ6T0lt+yW1sfwZa8uXvEZT7j40fNbU2Nrjaxto6fPXls99v+T1cstc7Y7rdCd3z2fr+pXUR+3jNfVR8v0tNXw3d1+/q7Wcz5nvbd6b8lxQsUDuk+nP8HcHnPv/vevRdMfNV7vjtnnHdYJPyG373pve3Hlq7BNKh96XQ4Cf+vlwV3cYFlc/cI6uaqv3Rijaea+N+Hzy58PdLUdNP709qx84R1e11drU2Nmn0tccz7A2SuRUf1pWs/1t2VajZbbWZu1zzlwetrr7tnf39dvl+WZ+9+5v71kde88aewxlr5E6sr7ksejxtZ97Fy1sP1dqIZ+9Z67kli2tndTZZSXfj5ZLPZZbvztoYfu5Uuv5HFF778uXvM9sWabF96acX9vOV3d6nM72E5MPe9h+YvJhq9e20+oxQtHG32p3CnehvuAaau8CZ50NRUemabp6FW5rHMerV4HGqa809cVOpsYKyScmn5h8YvKJyScmnzTZxFxQEQBAIwQAdEsjBAB066xGaO2mbkc8F1BfcCb1lfaV2dxhRMgpgXAe9QXnUV9pzWQTXUdozxU7mwlgh9avaEq7bHcQ8/51jq/M5g4jQgAAl1gbEfpZ+XrrfVBSyzUxb5iwJ5+1e5etLZ/6Xul9XmruA8Xn7fn7fHt9DcP2fNQX3r9i9j0JNXdcP+t17xze0fmsHUC2Vry5/1/+N1qvM/O989/uDkr/nntfN3r8zn+jo/NRX33x/pVm3xNzQcWLRV147hMq38VoQmxLPuoL8ux7/tfqTVe/XWqIv3Z57ic3bdO7T+SjvuiRfU+CRuh+jjgbzQZ+b8tRCX+v387MR33RM/ueFaVTY+bAY2f9Dke97jdk/C0+/bdo7W//yfVVX33w/jWz70l4DpXljgDfemT5+89JPed9uO6O3emR+awNS0aPLbNZfp3K7pNntfhUEVvms/dv8+31dfRZLerru3n/SrPvif3Kp5mu7SLyicknJp+YfGLyicknTTaxVz61xwhFwd6x4/s0+bCH7ScmH/aw/aR1nc3WsybgZZqmq1fhtsZxvHoVaJz6SlNf7GRqrJB8YvKJyScmn5h8YvJJk03MBRUBADRCAEC3NEIAQLc0QgBAtzRCszMOKnOgGszUF5xDHcSK8un9XmN7NqLUFU1tmDDTAME51EGsKp/eR4Qew/EXizrjNaFF6gvOoQ5iVfn0PiK0xc/K1zZIOM4n7+UFdE4jVO/9xo120HCs3I0iAQ7V+9QYcG8+bACnMiIE3Mny/ocaIeBUGiHgbpZTY5oh4DSmxo7hOAY4hloCPqr3EaE9Z4C9D+GnDu50Vhk921oL0dSY+gJ1kFOVT++N0N4NZ215GyPMttRCbhn1BeogpyofU2MAQLeWZ2hAtWmarl6F2xrH8epVoHHqK019sdNr5EgjFJNPTD4x+cTkE5NPTD5psom98jE1BgB0SyMEAHRLIwQAdEsjBAB0q/frCA3D3weUHXF9hjNeE1qkvuA8bkGTVrWf6PnI8rXffflYKp+ax78542/+3Y7Qcz576mvPa36Tb/7djtBrPj9v/6Ln9Kpq32NqDADa8hiMBB2m96mxLRtS7h4mNk6Yba2FaEhbfQE5VfuJ3huhpZL51uf3S+dmzeHCrKQWls/JDe+rLyAn3E+YGvvjjB2qnTTMttZCtIz6AnKy+wkjQjNNEJynphaW9z9MLae+gJyi/YRGSBMEZ9pSC8upseXy6gvIKd5P9D41ltrJbnmdo18TWrelFrYcE6S+gHdV+wkjQtt3ou9D+HbMsG7vB4u1T3Tqi97lzl6mYj/ReyO0d8NZW97GCLOjD47e+prwbdRBrCqf3qfGAICOLc/QgGrTNF29Crc1juPVq0Dj1Fea+mKn18iRRigmn5h8YvKJyScmn5h80mQTc68xAACNEADQLY0QANAtjRAA0K3eryM0DH8fUHbE9RnOeE1okfqC87jdTFrVfqLnI8vXfvflY6l8ah7/5oy/+Xc7Qs/57KmvPa/5Tb75dztCr/n8vP2LntOrqn2PqTEAaMtjMBJ0mN6nxrbc1Tp3jxd3yobZ1lqIhrTVF5BTtZ/ovRF6qrlp3fM5uR2wG+HBrKYWlnWVm4JWX0BK0X7C1NjsOcx45JzqGa8JLdpTC6kdmPoCcor2Exqh387YsdpZw6ykFp7PyR0IWvOaQN/C/UTvjdAZO1A7ZZhtrYXHkP4kp76AnKr9RO+N0FHsnOEYagn4qN4Pll77xFl68OX7ssuzWlzwDbbXwvsyy+erL8ifvdy7qv1E743QMOzbeKIDOYH6Wqg5cxN6pQbyijMyNQYAdMsZF+w2TdPVq3Bb4zhevQo0Tn2lqS92mkeNpmnSCAXkE5NPTD4x+cTkkyWfNNnE3GsMAEAjBAB0SyMEAHRLIwQAdMt1hACgPS4smvczFOSiEQKAtqy9wRe96XfCvcYAgG49b9pcRCMEAG0x8nMgjRAAtM202A4aIQBolyZoJ40QALRJE3QAjRAAtEcTdBCNEAC0JXX6PBu4jhAAtEfjk/az8nVy9EwjBABtMSUWq8rH1BgA0K3HNE2G1wBozjiOV68CbZtHjjRCMfnE5BOTT0w+MflkySdNNrFXPqbGAIBuaYQAgG5phACAbmmEAIBuuY4QALRneTC0awv9VpyPRggA2pK6xYZmaFaVj6kxAKBbGiEAaIuRn5hbbABAR0yLxcJ8NEIA0C5NUCybj0YIANqkCYoV5aMRAoD2aIJixflohACgLanTw5lV5eM6QgDQHo1PrDgfjRAAtMWUWMzp8wAAJR7TNBleA6A54zhevQq0bR450gjF5BOTT0w+MfnE5JMlnzTZxF75mBoDALqlEQIAuqURAgC6pRECALrlOkIA0J7lwdCuLfRbcT4aIQBoS+oWEpqhWVU+psYAgG5phACgLUZ+YlWjZabGAKBtpsXWPY8TCrMxIgQA7dIEpT3+/xdeZVsjBABt0gSVCZshjRAAtEcTlFZ1nzWNEAC0JXV6OBs4WBoA2qPxSVubCnPWGAB8CVNiecUZmRoDALr1mKbJ8BoAzRnH8epVoG3zqJFGKCafmHxi8onJJyafLPmkySb2ysfUGADQLY0QANAtjRAA0C2NEADQLdcRAoD2FF8wsGNFtyHRCAFAW1K32NAMzdxrDADo1mNwZWkA+FpGgw5kagwA2vScAtIE7WBECADa9JwCchXpHTRCANA2zdAOGiEAaIum50AaIQCgWw6WBoC2rE2FOWD6j5+Vr5P5aIQAoD0an7SqbEyNAQDdekzT5KArAJozjuPVq0Db5pEjjVBMPjH5xOQTk09MPlnySZNN7JWPqTEAoFsaIQCgWxohAKBbGiEAoFuuIwQA7XFBxVhxPhohAGjLz/D3G/vaY72qysfUGADQLY0QALTFaFCsKgtTYwDQpuwNRRmGIdMoGhECgDY9hvU70fNHdrRMIwQAbdMMrSuaMtQIAUBbND15xcdNaYQAgG+SOn1+lYOlAaAta1NhDpj+rXjUTCMEAO3R+KRVZWNqDADo1mOaJgddAdCccRyvXgXaNo8caYRi8onJJyafmHxi8smST5psYq98TI0BAN3SCAEA3dIIAQDd0ggBAN1yHSEAaI8LKsaK89EIAUBbUreQ0AzNqvIxNQYAdEsjBABtMRoUq8rH1BgAtOl5HIwmaF1RPkaEAKBNj2H9TvTMivLRCAFA2zRDsTAfjRAAtEXTE6vKRyMEAHTLwdIA0Ja1qR4HTP9RlY9GCADao/GJFefzmKbJXCMAzRnH8epVoG1zs6QRisknJp+YfGLyicknSz5psonJBwDgP91hlk0FDeYrAAAAAElFTkSuQmCC",B="/assets/image_vfoh_vetQw-957305f8.png",x="/assets/image_sYJdBGnrob-e417f11b.png",S="/assets/image_LHdRXUdP5D-df76337f.png",w="/assets/image_fm-MFSwW33-a7b11337.png",T="/assets/image_c54BDsubkg-6ac62de2.png",L="/assets/image_7J4tAEH5JE-e9dbfee1.png",I="/assets/image_AohjPJQ-7l-f7c30b19.png",j="/assets/image_FIuODxPKf7-1340fb86.png",C="/assets/image_uRRJaZzTo8-6b1f92a0.png",N="/assets/image_xhjGu_4Ce4-7a0c8c66.png",R={},O=e('<h1 id="å››ã€mybatisæŒä¹…å±‚æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#å››ã€mybatisæŒä¹…å±‚æ¡†æ¶" aria-hidden="true">#</a> å››ã€MyBatisæŒä¹…å±‚æ¡†æ¶</h1><h2 id="ç›®å½•" tabindex="-1"><a class="header-anchor" href="#ç›®å½•" aria-hidden="true">#</a> ç›®å½•</h2><ul><li><a href="#%E4%B8%80Mybatis%E7%AE%80%E4%BB%8B">ä¸€ã€Mybatisç®€ä»‹</a><ul><li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a></li><li><a href="#2-%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94">2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”</a></li><li><a href="#3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E5%9F%BA%E4%BA%8EMybatis3%E6%96%B9%E5%BC%8F">3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰</a></li></ul></li><li><a href="#%E4%BA%8C%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E6%89%A9%E5%B1%95">äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•</a><ul><li><a href="#1-%E7%94%A8%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E6%9B%BF%E4%BB%A3sout">1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout</a></li><li><a href="#2-Java%E6%97%A5%E5%BF%97%E4%BD%93%E7%B3%BB%E6%BC%94%E5%8F%98">2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜</a></li><li><a href="#3-%E6%9C%80%E4%BD%B3%E6%8B%8D%E6%A1%A3%E7%94%A8%E6%B3%95">3. æœ€ä½³æ‹æ¡£ç”¨æ³•</a></li><li><a href="#4-Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8">4. Lombokæ’ä»¶çš„ä½¿ç”¨</a><ul><li><a href="#41-Lombok%E7%AE%80%E4%BB%8B">4.1 Lombokç®€ä»‹</a></li><li><a href="#42-Lombok%E5%AE%89%E8%A3%85">4.2 Lombokå®‰è£…</a></li><li><a href="#43-Lombok%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3">4.3 Lombokä½¿ç”¨æ³¨è§£</a></li></ul></li></ul></li><li><a href="#%E4%B8%89MyBatis%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨</a><ul><li><a href="#1-%E5%90%91SQL%E8%AF%AD%E5%8F%A5%E4%BC%A0%E5%8F%82">1. å‘SQLè¯­å¥ä¼ å‚</a><ul><li><a href="#11-mybatis%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E9%85%8D%E7%BD%AE">1.1 mybatisæ—¥å¿—è¾“å‡ºé…ç½®</a></li><li><a href="#12-%E5%BD%A2%E5%BC%8F">1.2 #{}å½¢å¼</a></li><li><a href="#13-%E5%BD%A2%E5%BC%8F">1.3 ${}å½¢å¼</a></li></ul></li><li><a href="#2-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%85%A5">2. æ•°æ®è¾“å…¥</a><ul><li><a href="#21-Mybatis%E6%80%BB%E4%BD%93%E6%9C%BA%E5%88%B6%E6%A6%82%E6%8B%AC">2.1 Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬</a></li><li><a href="#22-%E6%A6%82%E5%BF%B5%E8%AF%B4%E6%98%8E">2.2 æ¦‚å¿µè¯´æ˜</a></li><li><a href="#23-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.3 å•ä¸ªç®€å•ç±»å‹å‚æ•°</a></li><li><a href="#24-%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.4 å®ä½“ç±»ç±»å‹å‚æ•°</a></li><li><a href="#25-%E9%9B%B6%E6%95%A3%E7%9A%84%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE">2.5 é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®</a></li><li><a href="#26-Map%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">2.6 Mapç±»å‹å‚æ•°</a></li></ul></li><li><a href="#3-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA">3. æ•°æ®è¾“å‡º</a><ul><li><a href="#31-%E8%BE%93%E5%87%BA%E6%A6%82%E8%BF%B0">3.1 è¾“å‡ºæ¦‚è¿°</a></li><li><a href="#32-%E5%8D%95%E4%B8%AA%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B">3.2 å•ä¸ªç®€å•ç±»å‹</a></li><li><a href="#33-%E8%BF%94%E5%9B%9E%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%AF%B9%E8%B1%A1">3.3 è¿”å›å®ä½“ç±»å¯¹è±¡</a></li><li><a href="#34-%E8%BF%94%E5%9B%9EMap%E7%B1%BB%E5%9E%8B">3.4 è¿”å›Mapç±»å‹</a></li><li><a href="#35-%E8%BF%94%E5%9B%9EList%E7%B1%BB%E5%9E%8B">3.5 è¿”å›Listç±»å‹</a></li><li><a href="#36-%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE%E5%80%BC">3.6 è¿”å›ä¸»é”®å€¼</a></li><li><a href="#37-%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB">3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»</a></li></ul></li><li><a href="#4-CRUD%E5%BC%BA%E5%8C%96%E7%BB%83%E4%B9%A0">4. CRUDå¼ºåŒ–ç»ƒä¹ </a></li><li><a href="#5-mapperXML%E6%A0%87%E7%AD%BE%E6%80%BB%E7%BB%93">5. mapperXMLæ ‡ç­¾æ€»ç»“</a></li></ul></li><li><a href="#%E5%9B%9BMyBatis%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84">å››ã€MyBatiså¤šè¡¨æ˜ å°„</a><ul><li><a href="#1-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%A6%82%E5%BF%B5">1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ</a></li><li><a href="#2-%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84">2. å¯¹ä¸€æ˜ å°„</a></li><li><a href="#3-%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84">3. å¯¹å¤šæ˜ å°„</a></li><li><a href="#4-%E5%A4%9A%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84">4. å¤šå¯¹å¤šæ˜ å°„</a></li><li><a href="#5-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93">5. å¤šè¡¨æ˜ å°„æ€»ç»“</a><ul><li><a href="#51-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96">5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–</a></li><li><a href="#52-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84%E6%80%BB%E7%BB%93">5.2 å¤šè¡¨æ˜ å°„æ€»ç»“</a></li></ul></li></ul></li><li><a href="#%E4%BA%94MyBatis%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5">äº”ã€MyBatisåŠ¨æ€è¯­å¥</a><ul><li><a href="#1-%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5%E9%9C%80%E6%B1%82%E5%92%8C%E7%AE%80%E4%BB%8B">1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹</a></li><li><a href="#2-if%E5%92%8Cwhere%E6%A0%87%E7%AD%BE">2. ifå’Œwhereæ ‡ç­¾</a></li><li><a href="#3-set%E6%A0%87%E7%AD%BE">3. setæ ‡ç­¾</a></li><li><a href="#4-trim%E6%A0%87%E7%AD%BE%E4%BA%86%E8%A7%A3">4. trimæ ‡ç­¾(äº†è§£)</a></li><li><a href="#5-choosewhenotherwise%E6%A0%87%E7%AD%BE">5. choose/when/otherwiseæ ‡ç­¾</a></li><li><a href="#6-foreach%E6%A0%87%E7%AD%BE">6. foreachæ ‡ç­¾</a></li><li><a href="#7-sql%E7%89%87%E6%AE%B5">7. sqlç‰‡æ®µ</a></li></ul></li><li><a href="#%E5%85%ADMyBatis%E9%AB%98%E7%BA%A7%E6%89%A9%E5%B1%95">å…­ã€MyBatisé«˜çº§æ‰©å±•</a><ul><li><a href="#1-Mapper%E6%89%B9%E9%87%8F%E6%98%A0%E5%B0%84%E4%BC%98%E5%8C%96">1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–</a></li><li><a href="#2-%E6%8F%92%E4%BB%B6%E5%92%8C%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6PageHelper">2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper</a><ul><li><a href="#21-%E6%8F%92%E4%BB%B6%E6%9C%BA%E5%88%B6%E5%92%8CPageHelper%E6%8F%92%E4%BB%B6%E4%BB%8B%E7%BB%8D">2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»</a></li><li><a href="#22-PageHelper%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8">2.2 PageHelperæ’ä»¶ä½¿ç”¨</a></li></ul></li><li><a href="#3-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E5%92%8CMybatisX%E6%8F%92%E4%BB%B6">3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶</a><ul><li><a href="#31-ORM%E6%80%9D%E7%BB%B4%E4%BB%8B%E7%BB%8D">3.1 ORMæ€ç»´ä»‹ç»</a></li><li><a href="#31-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B">3.1 é€†å‘å·¥ç¨‹</a></li><li><a href="#32-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E6%8F%92%E4%BB%B6MyBatisX%E4%BD%BF%E7%94%A8">3.2 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨</a></li></ul></li></ul></li><li><a href="#%E4%B8%83MyBatis%E6%80%BB%E7%BB%93">ä¸ƒã€MyBatisæ€»ç»“</a></li></ul><h2 id="ä¸€ã€mybatisç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€mybatisç®€ä»‹" aria-hidden="true">#</a> ä¸€ã€Mybatisç®€ä»‹</h2><h3 id="_1-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-ç®€ä»‹" aria-hidden="true">#</a> 1. ç®€ä»‹</h3>',5),D={href:"https://mybatis.org/mybatis-3/zh/index.html",target:"_blank",rel:"noopener noreferrer"},P=e('<p>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</p><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p><p><img src="'+i+`" alt=""></p><blockquote><p>ç¤¾åŒºä¼šæŒç»­æ›´æ–°å¼€æºé¡¹ç›®ï¼Œç‰ˆæœ¬ä¼šä¸æ–­å˜åŒ–ï¼Œæˆ‘ä»¬ä¸å¿…æ¯ä¸ªå°ç‰ˆæœ¬éƒ½è¿½ï¼Œå…³æ³¨é‡å¤§æ›´æ–°çš„å¤§ç‰ˆæœ¬å‡çº§å³å¯ã€‚</p></blockquote><p>æœ¬è¯¾ç¨‹ä½¿ç”¨ï¼š3.5.11ç‰ˆæœ¬</p><h3 id="_2-æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_2-æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”" aria-hidden="true">#</a> 2. æŒä¹…å±‚æ¡†æ¶å¯¹æ¯”</h3><ul><li>JDBC <ul><li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</li><li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li><li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li></ul></li><li>Hibernate å’Œ JPA <ul><li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</li><li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li><li>å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆçš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li><li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</li><li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li></ul></li><li>MyBatis <ul><li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</li><li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li><li>å¼€å‘æ•ˆç‡ç¨é€Šäº Hibernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥æ”¶</li></ul></li></ul><p>å¼€å‘æ•ˆç‡ï¼šHibernate&gt;Mybatis&gt;JDBC</p><p>è¿è¡Œæ•ˆç‡ï¼šJDBC&gt;Mybatis&gt;Hibernate</p><h3 id="_3-å¿«é€Ÿå…¥é—¨-åŸºäºmybatis3æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-å¿«é€Ÿå…¥é—¨-åŸºäºmybatis3æ–¹å¼" aria-hidden="true">#</a> 3. å¿«é€Ÿå…¥é—¨ï¼ˆåŸºäºMybatis3æ–¹å¼ï¼‰</h3><ol><li><p>å‡†å¤‡æ•°æ®æ¨¡å‹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">\`</span>mybatis-example<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>

<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">\`</span>mybatis-example<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>t_emp<span class="token punctuation">\`</span></span><span class="token punctuation">(</span>
  emp_id <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  emp_name <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  emp_salary <span class="token keyword">DOUBLE</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>emp_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_emp<span class="token punctuation">\`</span></span><span class="token punctuation">(</span>emp_name<span class="token punctuation">,</span>emp_salary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span><span class="token number">200.33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_emp<span class="token punctuation">\`</span></span><span class="token punctuation">(</span>emp_name<span class="token punctuation">,</span>emp_salary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;jerry&quot;</span><span class="token punctuation">,</span><span class="token number">666.66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_emp<span class="token punctuation">\`</span></span><span class="token punctuation">(</span>emp_name<span class="token punctuation">,</span>emp_salary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;andy&quot;</span><span class="token punctuation">,</span><span class="token number">777.77</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é¡¹ç›®æ­å»ºå’Œå‡†å¤‡</p><ol><li><p>é¡¹ç›®æ­å»º</p><p><img src="`+u+`" alt=""></p></li><li><p>ä¾èµ–å¯¼å…¥</p><p>pom.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- mybatisä¾èµ– --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- MySQLé©±åŠ¨ mybatisåº•å±‚ä¾èµ–jdbcé©±åŠ¨å®ç°,æœ¬æ¬¡ä¸éœ€è¦å¯¼å…¥è¿æ¥æ± ,mybatisè‡ªå¸¦! --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--junit5æµ‹è¯•--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.jupiter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-jupiter-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®ä½“ç±»å‡†å¤‡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> empId<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> empName<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Double</span> empSalary<span class="token punctuation">;</span>
    
    <span class="token comment">//getter | setter</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>å‡†å¤‡Mapperæ¥å£å’ŒMapperXMLæ–‡ä»¶</p><p>MyBatis æ¡†æ¶ä¸‹ï¼ŒSQLè¯­å¥ç¼–å†™ä½ç½®å‘ç”Ÿæ”¹å˜ï¼Œä»åŸæ¥çš„Javaç±»ï¼Œæ”¹æˆXMLæˆ–è€…æ³¨è§£å®šä¹‰ï¼</p><p>æ¨èåœ¨XMLæ–‡ä»¶ä¸­ç¼–å†™SQLè¯­å¥ï¼Œè®©ç”¨æˆ·èƒ½æ›´ä¸“æ³¨äº SQL ä»£ç ï¼Œä¸ç”¨å…³æ³¨å…¶ä»–çš„JDBCä»£ç ã€‚</p><p>å¦‚æœæ‹¿å®ƒè·Ÿå…·æœ‰ç›¸åŒåŠŸèƒ½çš„ JDBC ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œä½ ä¼šç«‹å³å‘ç°çœæ‰äº†å°†è¿‘ 95% çš„ä»£ç ï¼ï¼</p><p>ä¸€èˆ¬ç¼–å†™SQLè¯­å¥çš„æ–‡ä»¶å‘½åï¼šXxxMapper.xml Xxxä¸€èˆ¬å–è¡¨åï¼ï¼</p><p>Mybatis ä¸­çš„ Mapper æ¥å£ç›¸å½“äºä»¥å‰çš„ Daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼ŒMapper ä»…ä»…åªæ˜¯å»ºæ¥å£å³å¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»ï¼Œå…·ä½“çš„SQLå†™åˆ°å¯¹åº”çš„Mapperæ–‡ä»¶ï¼Œè¯¥ç”¨æ³•çš„æ€è·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="`+r+`" alt=""></p><ol><li><p>å®šä¹‰mapperæ¥å£</p><p>åŒ…ï¼šcom.atguigu.mapper</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Employee</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * t_empè¡¨å¯¹åº”æ•°æ®åº“SQLè¯­å¥æ˜ å°„æ¥å£!
 *    æ¥å£åªè§„å®šæ–¹æ³•,å‚æ•°å’Œè¿”å›å€¼!
 *    mapper.xmlä¸­ç¼–å†™å…·ä½“SQLè¯­å¥!
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EmployeeMapper</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * æ ¹æ®å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥æ•°æ®æ–¹æ³•
     * <span class="token keyword">@param</span> <span class="token parameter">empId</span>  å‘˜å·¥id
     * <span class="token keyword">@return</span> å‘˜å·¥å®ä½“å¯¹è±¡
     */</span>
    <span class="token class-name">Employee</span> <span class="token function">selectEmployee</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> empId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰mapper xml</p><p>ä½ç½®ï¼š resources/mappers/EmployeeMapper.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- namespaceç­‰äºmapperæ¥å£ç±»çš„å…¨é™å®šå,è¿™æ ·å®ç°å¯¹åº” --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mapper.EmployeeMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- æŸ¥è¯¢ä½¿ç”¨ selectæ ‡ç­¾
            id = æ–¹æ³•å
            resultType = è¿”å›å€¼ç±»å‹
            æ ‡ç­¾å†…ç¼–å†™SQLè¯­å¥
     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.pojo.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- #{empId}ä»£è¡¨åŠ¨æ€ä¼ å…¥çš„å‚æ•°,å¹¶ä¸”è¿›è¡Œèµ‹å€¼!åé¢è¯¦ç»†è®²è§£ --&gt;</span>
        select emp_id empId,emp_name empName, emp_salary empSalary from 
           t_emp where emp_id = #{empId}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>æ–¹æ³•åå’ŒSQLçš„idä¸€è‡´</li><li>æ–¹æ³•è¿”å›å€¼å’ŒresultTypeä¸€è‡´</li><li>æ–¹æ³•çš„å‚æ•°å’ŒSQLçš„å‚æ•°ä¸€è‡´</li><li>æ¥å£çš„å…¨ç±»åå’Œæ˜ å°„é…ç½®æ–‡ä»¶çš„åç§°ç©ºé—´ä¸€è‡´</li></ul></li></ol></li><li><p>å‡†å¤‡MyBatisé…ç½®æ–‡ä»¶</p><p>mybatisæ¡†æ¶é…ç½®æ–‡ä»¶ï¼š æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œæ€§èƒ½é…ç½®ï¼Œmapper.xmlé…ç½®ç­‰ï¼</p><p>ä¹ æƒ¯ä¸Šå‘½åä¸º mybatis-config.xmlï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆ Spring ä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
  <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
  <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/mybatis-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Mapperæ³¨å†Œï¼šæŒ‡å®šMybatisæ˜ å°„æ–‡ä»¶çš„å…·ä½“ä½ç½® --&gt;</span>
    <span class="token comment">&lt;!-- mapperæ ‡ç­¾ï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„Mapperæ˜ å°„æ–‡ä»¶ --&gt;</span>
    <span class="token comment">&lt;!-- resourceå±æ€§ï¼šæŒ‡å®šMapperæ˜ å°„æ–‡ä»¶çš„å®é™…å­˜å‚¨ä½ç½®ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥ç±»è·¯å¾„æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span>
    <span class="token comment">&lt;!--    å¯¹Mavenå·¥ç¨‹çš„ç›®å½•ç»“æ„æ¥è¯´ï¼Œresourcesç›®å½•ä¸‹çš„å†…å®¹ä¼šç›´æ¥æ”¾å…¥ç±»è·¯å¾„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»¥resourcesç›®å½•ä¸ºåŸºå‡† --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/EmployeeMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è¿è¡Œå’Œæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.test
 *
 * description: æµ‹è¯•ç±»
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectEmployee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span>
        <span class="token comment">// â‘ å£°æ˜Mybatiså…¨å±€é…ç½®æ–‡ä»¶çš„è·¯å¾„</span>
        <span class="token class-name">String</span> mybatisConfigFilePath <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¡ä»¥è¾“å…¥æµçš„å½¢å¼åŠ è½½Mybatisé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>mybatisConfigFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¢åŸºäºè¯»å–Mybatisé…ç½®æ–‡ä»¶çš„è¾“å…¥æµåˆ›å»ºSqlSessionFactoryå¯¹è±¡</span>
        <span class="token class-name">SqlSessionFactory</span> sessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.ä½¿ç”¨SqlSessionFactoryå¯¹è±¡å¼€å¯ä¸€ä¸ªä¼šè¯</span>
        <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> sessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.æ ¹æ®EmployeeMapperæ¥å£çš„Classå¯¹è±¡è·å–Mapperæ¥å£ç±»å‹çš„å¯¹è±¡(åŠ¨æ€ä»£ç†æŠ€æœ¯)</span>
        <span class="token class-name">EmployeeMapper</span> employeeMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4. è°ƒç”¨ä»£ç†ç±»æ–¹æ³•æ—¢å¯ä»¥è§¦å‘å¯¹åº”çš„SQLè¯­å¥</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">selectEmployee</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;employee = &quot;</span> <span class="token operator">+</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.å…³é—­SqlSession</span>
        session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æäº¤äº‹åŠ¡ [DQLä¸éœ€è¦,å…¶ä»–éœ€è¦]</span>
        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å…³é—­ä¼šè¯</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯´æ˜ï¼š</p><ul><li>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li><li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€ã€‚</li><li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚</li></ul></li><li><p>SqlSessionå’ŒHttpSessionåŒºåˆ«</p><ul><li>HttpSessionï¼šå·¥ä½œåœ¨WebæœåŠ¡å™¨ä¸Šï¼Œå±äºè¡¨è¿°å±‚ã€‚ <ul><li>ä»£è¡¨æµè§ˆå™¨å’ŒWebæœåŠ¡å™¨ä¹‹é—´çš„ä¼šè¯ã€‚</li></ul></li><li>SqlSessionï¼šä¸ä¾èµ–WebæœåŠ¡å™¨ï¼Œå±äºæŒä¹…åŒ–å±‚ã€‚ <ul><li>ä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ <img src="`+d+'" alt=""></li></ul></li></ul></li></ol><h2 id="äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•" aria-hidden="true">#</a> äºŒã€æ—¥å¿—æ¡†æ¶æ‰©å±•</h2><h3 id="_1-ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout" tabindex="-1"><a class="header-anchor" href="#_1-ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout" aria-hidden="true">#</a> 1. ç”¨æ—¥å¿—æ‰“å°æ›¿ä»£sout</h3><ol><li>soutæœ‰ä»€ä¹ˆé—®é¢˜ <ol><li><p>é—®é¢˜1ï¼šI/Oå½±å“æ€§èƒ½</p><p>System.outå¯¹è±¡æ˜¯ä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡ï¼Œæ‰€ä»¥æ§åˆ¶å°è¾“å‡ºä¿¡æ¯æœ¬è´¨ä¸Šæ˜¯I/Oæ“ä½œã€‚è€ŒI/Oæ“ä½œæ˜¯é¡¹ç›®è¿è¡Œè¿‡ç¨‹ä¸­ä¸¤å¤§æ€§èƒ½ç“¶é¢ˆä¹‹ä¸€ã€‚</p><p><img src="'+k+'" alt=""></p></li><li><p>é—®é¢˜2ï¼šæ— æ³•ç»Ÿä¸€ç®¡ç†</p><p>é¡¹ç›®ä¸Šçº¿æ—¶ï¼Œå¸Œæœ›æŠŠæ‰€æœ‰ï¼ˆæˆ–ä¸€éƒ¨åˆ†ï¼‰soutæ‰“å°å…³é—­ï¼Œä½†æ˜¯åªèƒ½æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªæŸ¥æ‰¾ï¼Œè€—è´¹å¼€å‘äººå‘˜çš„æå¤§ç²¾åŠ›ï¼Œå› ä¸ºsoutçš„æ— åº¦ä½¿ç”¨ä¼šä½¿å®ƒåˆ†æ•£åœ¨é¡¹ç›®çš„å„ä¸ªè§’è½ã€‚</p></li><li><p>é—®é¢˜3ï¼šæ˜¾å¾—ä½ å¾ˆlow</p><p>æƒ³çœ‹æŸä¸ªå˜é‡çš„å€¼ï¼Œåªä¼šä½¿ç”¨soutåœ¨æ§åˆ¶å°æ‰“å°å‡ºæ¥ï¼Œä¸ä¼šdebugï¼Œè¿™åªèƒ½è¢«äººé„™è§†ã€‚</p></li></ol></li><li>ä½¿ç”¨[æ—¥å¿—æ¡†æ¶]çš„å¥½å¤„ <ol><li><p>è®¾å®šçº§åˆ«ï¼Œç»Ÿä¸€ç®¡ç†</p><p>æ—¥å¿—æ¡†æ¶ä¼šæŒ‰ç…§äº‹ä»¶çš„ä¸¥é‡ç¨‹åº¦æ¥åˆ’åˆ†çº§åˆ«ï¼Œä¾‹å¦‚ï¼š</p><ul><li>é”™è¯¯ï¼ˆErrorï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œå‡ºé”™ï¼Œæ¯”å¦‚æŠ›å¼‚å¸¸ç­‰æƒ…å†µã€‚</li><li>è­¦å‘Šï¼ˆWarningï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æœ‰æ½œåœ¨é£é™©ï¼Œä½†æ­¤æ—¶å¹¶æ²¡æœ‰æŠ¥é”™ã€‚</li><li>ä¿¡æ¯ï¼ˆInfoï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å®Œæˆäº†ä¸€ä¸ªå…³é”®åŠ¨ä½œï¼Œéœ€è¦ä»¥ç¨‹åºè¿è¡Œä¿¡æ¯çš„å½¢å¼å‘ŠçŸ¥å¼€å‘è€…ã€‚</li><li>è°ƒè¯•ï¼ˆDebugï¼‰ï¼šè¡¨ç¤ºç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ›´åŠ ç»†è‡´çš„ä¿¡æ¯ï¼ŒååŠ©ç¨‹åºå‘˜è°ƒè¯•ç¨‹åºã€‚</li></ul><blockquote><p>ğŸ“ŒTipsï¼šå„ç§ä¸åŒçš„å…·ä½“æ—¥å¿—ç³»ç»Ÿä¼šä½¿ç”¨ä¸åŒçš„æ—¥å¿—çº§åˆ«åç§°ï¼Œä¹Ÿå¯èƒ½æœ‰æ›´å¤šä¸ªçº§åˆ«è®¾å®šã€‚ä½†æ˜¯æ€æƒ³æ˜¯ä¸€è‡´çš„ã€‚ é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæŸä¸€ä¸ªæ—¥å¿—çº§åˆ«æ¥æ§åˆ¶ç³»ç»Ÿè¦æ‰“å°çš„å†…å®¹ã€‚æ—¥å¿—æ¡†æ¶ä¼šæ‰“å°<strong>å½“å‰æŒ‡å®šçº§åˆ«</strong>çš„æ—¥å¿—å’Œæ¯”å½“å‰æŒ‡å®šçº§åˆ«<strong>æ›´ä¸¥é‡</strong>çš„çº§åˆ«çš„æ—¥å¿—ã€‚ ä¾‹å¦‚åœ¨å¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬æŒ‡å®šdebugçº§åˆ«ï¼Œé¡¹ç›®ä¸Šçº¿ä¿®æ”¹æˆinfoçº§åˆ«ï¼Œé‚£ä¹ˆæ‰€æœ‰debugçº§åˆ«çš„æ—¥å¿—å°±éƒ½ä¸æ‰“å°äº†ï¼Œä¸éœ€è¦åˆ°é¡¹ç›®ä»£ç ä¸­ä¸€ä¸ªä¸€ä¸ªä¿®æ”¹ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p></blockquote></li><li><p>çµæ´»æŒ‡å®šè¾“å‡ºä½ç½®</p><p>ä½¿ç”¨æ—¥å¿—æ¡†æ¶ä¸ä¸€å®šæ˜¯æ‰“å°åˆ°æ§åˆ¶å°ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ–‡ä»¶ä¸­æˆ–è€…ä¿å­˜åˆ°æ•°æ®åº“ã€‚è¿™å°±çœ‹å…·ä½“çš„é¡¹ç›®ç»´æŠ¤éœ€æ±‚ã€‚</p></li><li><p>è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼</p><p>æ‰“å°æ—¥å¿—æ•°æ®å¯ä»¥ä½¿ç”¨æ—¥å¿—æ¡†æ¶çš„é»˜è®¤æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶ã€‚</p><p><img src="'+m+`" alt=""></p></li><li><p>åŸºäºæ—¥å¿—åˆ†æé—®é¢˜</p><p>å°†æ¥æˆ‘ä»¬å¼€å‘çš„åº”ç”¨ç³»ç»Ÿä¸­ï¼Œä¸ä»…åŒ…å«Javaä»£ç ï¼Œè¿˜æœ‰å¾ˆå¤šä¸­é—´ä»¶æœåŠ¡å™¨ã€‚ä»»ä½•å­ç³»ç»Ÿå‡ºç°æ•…éšœæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡æ—¥å¿—æ¥å®šä½é—®é¢˜ã€åˆ†ææ•…éšœåŸå› ã€‚ç”šè‡³æ›´å¤æ‚çš„ç³»ç»Ÿè¿˜ä¼šä¸“é—¨å¼€å‘æ—¥å¿—å­ç³»ç»Ÿï¼Œåœ¨ä¸»ç³»ç»Ÿå‡ºç°é—®é¢˜æ—¶æŠ“å–æ—¥å¿—æ•°æ®ä¾›ç»´æŠ¤äººå‘˜å‚è€ƒã€‚</p><p>è€Œæ—¥å¿—æ•°æ®å¿…é¡»è¦æœ‰ç¡®å®šæ ¼å¼æ‰ä¾¿äºæ ¼å¼åŒ–å’ŒæŠ“å–ï¼Œè¿™è‚¯å®šä¸æ˜¯éšæ„å†™soutå°±èƒ½å®ç°çš„ã€‚</p></li></ol></li></ol><h3 id="_2-javaæ—¥å¿—ä½“ç³»æ¼”å˜" tabindex="-1"><a class="header-anchor" href="#_2-javaæ—¥å¿—ä½“ç³»æ¼”å˜" aria-hidden="true">#</a> 2. Javaæ—¥å¿—ä½“ç³»æ¼”å˜</h3><p>1996å¹´æ—©æœŸï¼Œæ¬§æ´²å®‰å…¨ç”µå­å¸‚åœºé¡¹ç›®ç»„å†³å®šç¼–å†™å®ƒè‡ªå·±çš„ç¨‹åºè·Ÿè¸ªAPI(Tracing API)ã€‚ç»è¿‡ä¸æ–­çš„å®Œå–„ï¼Œè¿™ä¸ªAPIç»ˆäºæˆä¸ºä¸€ä¸ªååˆ†å—æ¬¢è¿çš„Javaæ—¥å¿—è½¯ä»¶åŒ…ï¼Œå³Log4jï¼ˆç”±Cekiåˆ›å»ºï¼‰ã€‚åæ¥Log4jæˆä¸ºApacheåŸºé‡‘ä¼šé¡¹ç›®ä¸­çš„ä¸€å‘˜,Cekiä¹ŸåŠ å…¥Apacheç»„ç»‡ã€‚â€‹ åæ¥Log4jè¿‘ä¹æˆäº†Javaç¤¾åŒºçš„æ—¥å¿—æ ‡å‡†ã€‚æ®è¯´ApacheåŸºé‡‘ä¼šè¿˜æ›¾ç»å»ºè®®Sunå¼•å…¥Log4jåˆ°javaçš„æ ‡å‡†åº“ä¸­ï¼Œä½†Sunæ‹’ç»äº†ã€‚â€‹ 2002å¹´Java1.4å‘å¸ƒï¼ŒSunæ¨å‡ºäº†è‡ªå·±çš„æ—¥å¿—åº“JUL(Java Util Logging),å…¶å®ç°åŸºæœ¬æ¨¡ä»¿äº†Log4jçš„å®ç°ã€‚åœ¨JULå‡ºæ¥ä»¥å‰ï¼ŒLog4jå°±å·²ç»æˆä¸ºä¸€é¡¹æˆç†Ÿçš„æŠ€æœ¯ï¼Œä½¿å¾—Log4jåœ¨é€‰æ‹©ä¸Šå æ®äº†ä¸€å®šçš„ä¼˜åŠ¿ã€‚â€‹ æ¥ç€ï¼ŒApacheæ¨å‡ºäº†Jakarta Commons Loggingé—¨é¢ï¼Œçœ‹æ¥Apacheæƒ³ç»Ÿä¸€æ—¥å¿—æ±Ÿæ¹–äº†ï¼ŒJCLåªæ˜¯å®šä¹‰äº†ä¸€å¥—æ—¥å¿—æ¥å£(å…¶å†…éƒ¨ä¹Ÿæä¾›ä¸€ä¸ªSimple Logçš„ç®€å•å®ç°)ï¼Œæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ—¥å¿—ç»„ä»¶çš„å®ç°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½ åº”ç”¨ä»£ç é‡Œï¼Œåªéœ€è°ƒç”¨Commons Loggingçš„æ¥å£ï¼Œåº•å±‚å®ç°å¯ä»¥æ˜¯Log4jï¼Œä¹Ÿå¯ä»¥æ˜¯JUL(Javaå®ç°)ã€‚â€‹ åæ¥(2006å¹´)ï¼ŒCekiä¸é€‚åº”Apacheçš„å·¥ä½œæ–¹å¼ï¼Œç¦»å¼€äº†Apacheã€‚ç„¶åå…ˆååˆ›å»ºäº†Slf4j(æ—¥å¿—é—¨é¢æ¥å£ï¼Œç±»ä¼¼äºCommons Logging)å’ŒLogback(Slf4jçš„å®ç°)ä¸¤ä¸ªé¡¹ç›®ï¼Œå¹¶å›ç‘å…¸åˆ›å»ºäº†QOSå…¬å¸ï¼ŒQOSå®˜ç½‘ä¸Šæ˜¯è¿™æ ·æè¿°Logbackçš„ï¼šThe Genericï¼ŒReliable Fast&amp;Flexible Logging Framework(ä¸€ä¸ªé€šç”¨ï¼Œå¯é ï¼Œå¿«é€Ÿä¸”çµæ´»çš„æ—¥å¿—æ¡†æ¶)ã€‚</p><p>é—¨é¢ï¼šç±»ä¼¼äºæ ‡å‡†å±‚ã€æ¥å£å±‚</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>JCLï¼ˆJakarta Commons Loggingï¼‰</td><td>é™ˆæ—§</td></tr><tr><td>SLF4Jï¼ˆSimple Logging Facade for Javaï¼‰</td><td>é€‚åˆï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td></tr><tr><td>jboss-logging</td><td>ç‰¹æ®Šä¸“ä¸šé¢†åŸŸä½¿ç”¨</td></tr></tbody></table><p>å®ç°</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>log4j</td><td>æœ€åˆç‰ˆï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td></tr><tr><td>JULï¼ˆjava.util.loggingï¼‰</td><td>JDKè‡ªå¸¦</td></tr><tr><td>log4j2</td><td>Apacheæ”¶è´­log4jåå…¨é¢é‡æ„ï¼Œå†…éƒ¨å®ç°å’Œlog4jå®Œå…¨ä¸åŒ</td></tr><tr><td>logback</td><td>ä¼˜é›…ã€å¼ºå¤§ï¼ˆ<strong>åŒä¸€ä½œè€…</strong>ï¼‰</td></tr></tbody></table><p><strong>æœ€ä½³æ‹æ¡£</strong></p><ul><li>é—¨é¢ï¼šSLF4J</li><li>å®ç°ï¼šlogback</li></ul><h3 id="_3-æœ€ä½³æ‹æ¡£ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_3-æœ€ä½³æ‹æ¡£ç”¨æ³•" aria-hidden="true">#</a> 3. æœ€ä½³æ‹æ¡£ç”¨æ³•</h3><ol><li><p>ä¾èµ–å¯¼å…¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code> <span class="token comment">&lt;!-- æ—¥å¿— ï¼Œ ä¼šè‡ªåŠ¨ä¼ é€’slf4jé—¨é¢--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä»£ç æµ‹è¯•</p><p>ä»£ç å›¾è§£</p><p><img src="`+v+'" alt=""></p><p>æµ‹è¯•ç»“æœ</p><p><img src="'+g+'" alt=""></p></li><li><p>å¼•å…¥é…ç½®</p><p>Logbackè¦æ±‚é…ç½®æ–‡ä»¶åç§°å¿…é¡»æ˜¯logback.xmlï¼Œå­˜æ”¾è·¯å¾„åœ¨main/resourcesç›®å½•ä¸‹ã€‚</p><p><img src="'+b+`" alt=""></p><p>é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®è¾“å‡ºæ ¼å¼ã€è¾“å‡ºçº§åˆ«ã€è¾“å‡ºä½ç½®ç­‰ï¼</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½®ï¼ŒConsoleAppenderè¡¨ç¤ºè¾“å‡ºåˆ°æ§åˆ¶å° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span>
            <span class="token comment">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger] [%msg]%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šTRACEã€DEBUGã€INFOã€WARNã€ERROR --&gt;</span>
    <span class="token comment">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ«ï¼Œå¯ä¹Ÿæ˜¯åŒ…åæˆ–å…¨ç±»åã€‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_4-lombokæ’ä»¶çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_4-lombokæ’ä»¶çš„ä½¿ç”¨" aria-hidden="true">#</a> 4. Lombokæ’ä»¶çš„ä½¿ç”¨</h3><h4 id="_4-1-lombokç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_4-1-lombokç®€ä»‹" aria-hidden="true">#</a> 4.1 Lombokç®€ä»‹</h4><p>ä¼ ç»Ÿå®ä½“ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> empId<span class="token punctuation">;</span>
    
    <span class="token keyword">private</span> <span class="token class-name">String</span> empName<span class="token punctuation">;</span>
    
    <span class="token keyword">private</span> <span class="token class-name">Double</span> empSalary<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getEmpId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> empId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmpId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> empId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empId <span class="token operator">=</span> empId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmpName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> empName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmpName</span><span class="token punctuation">(</span><span class="token class-name">String</span> empName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empName <span class="token operator">=</span> empName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getEmpSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> empSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmpSalary</span><span class="token punctuation">(</span><span class="token class-name">Double</span> empSalary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empSalary <span class="token operator">=</span> empSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Employee{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;empId=&quot;</span> <span class="token operator">+</span> empId <span class="token operator">+</span>
                <span class="token string">&quot;, empName=&#39;&quot;</span> <span class="token operator">+</span> empName <span class="token operator">+</span> <span class="token char">&#39;\\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, empSalary=&quot;</span> <span class="token operator">+</span> empSalary <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> empId<span class="token punctuation">,</span> <span class="token class-name">String</span> empName<span class="token punctuation">,</span> <span class="token class-name">Double</span> empSalary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empId <span class="token operator">=</span> empId<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empName <span class="token operator">=</span> empName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>empSalary <span class="token operator">=</span> empSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨Lombok</p><p>æ—¢ç„¶getXxx()ã€setXxx()æ–¹æ³•ã€toString()æ–¹æ³•ã€æ„é€ å™¨éƒ½æ˜¯æŒ‰ç…§å›ºå®šæ ¼å¼ç”Ÿæˆçš„ï¼Œé‚£èƒ½å¦ç”±ç¨‹åºè‡ªåŠ¨ç”Ÿæˆå‘¢ï¼Ÿ</p><p><img src="`+y+'" alt=""></p><p>ä½¿ç”¨Lombokæ³¨è§£å°±å¯ä»¥çœç•¥ç”ŸæˆgetXxx()ã€setXxx()æ–¹æ³•ã€toString()æ–¹æ³•ã€æ„é€ å™¨ç­‰å›ºå®šæ ¼å¼ä»£ç çš„ç¹çæ“ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚åŒ…æ‹¬Loggeræ—¥å¿—å¯¹è±¡ã€‚</p><p>LombokåŸç†</p><p>Lombokæ˜¯å°†è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ç»‡å…¥å­—èŠ‚ç æ–‡ä»¶ä¸­ï¼Œä»è€Œå®ç°ï¼šæºä»£ç æ²¡æœ‰ï¼Œä½†æ˜¯å­—èŠ‚ç æ–‡ä»¶æœ‰â€”â€”æ¯•ç«Ÿæˆ‘ä»¬æœ€ç»ˆè¿è¡Œçš„æ˜¯å­—èŠ‚ç æ–‡ä»¶ï¼Œåªè¦å­—èŠ‚ç æ–‡ä»¶ä¸­æœ‰å³å¯ã€‚è€Œè¿™ä¸ªè¿‡ç¨‹å› ä¸ºè¦å‚ä¸æºæ–‡ä»¶ç¼–è¯‘ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…IDEAæ’ä»¶ã€‚</p><h4 id="_4-2-lombokå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_4-2-lombokå®‰è£…" aria-hidden="true">#</a> 4.2 Lombokå®‰è£…</h4><p><img src="'+h+'" alt=""></p><p><img src="'+q+'" alt=""></p><p><img src="'+E+`" alt=""></p><h4 id="_4-3-lombokä½¿ç”¨æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_4-3-lombokä½¿ç”¨æ³¨è§£" aria-hidden="true">#</a> 4.3 Lombokä½¿ç”¨æ³¨è§£</h4><p>åŠ å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨è§£åŠŸèƒ½</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>æ³¨è§£</td><td>ä½œç”¨</td></tr><tr><td>@Data</td><td>ç”ŸæˆgetXxx()æ–¹æ³•ã€setXxx()æ–¹æ³•ã€toString()ã€equals()ã€canEqual()ã€hashCode()æ–¹æ³•</td></tr><tr><td>@AllArgsConstructor</td><td>ç”Ÿæˆå…¨å‚æ„é€ å™¨</td></tr><tr><td>@NoArgsConstructor</td><td>ç”Ÿæˆæ— å‚æ„é€ å™¨</td></tr><tr><td>@Slf4j</td><td>ç”Ÿæˆæ—¥å¿—å¯¹è±¡</td></tr><tr><td>@Getter</td><td>ç”ŸæˆgetXxx()æ–¹æ³•</td></tr><tr><td>@Setter</td><td>ç”ŸæˆsetXxx()æ–¹æ³•</td></tr><tr><td>@ToString</td><td>ç”ŸæˆtoString()æ–¹æ³•</td></tr></tbody></table><h2 id="ä¸‰ã€mybatisåŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€mybatisåŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> ä¸‰ã€MyBatisåŸºæœ¬ä½¿ç”¨</h2><h3 id="_1-å‘sqlè¯­å¥ä¼ å‚" tabindex="-1"><a class="header-anchor" href="#_1-å‘sqlè¯­å¥ä¼ å‚" aria-hidden="true">#</a> 1. å‘SQLè¯­å¥ä¼ å‚</h3><h4 id="_1-1-mybatisæ—¥å¿—è¾“å‡ºé…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-1-mybatisæ—¥å¿—è¾“å‡ºé…ç½®" aria-hidden="true">#</a> 1.1 <strong>mybatisæ—¥å¿—è¾“å‡ºé…ç½®</strong></h4><p>mybatisé…ç½®æ–‡ä»¶è®¾è®¡æ ‡ç­¾å’Œé¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š</p>`,47),U={href:"https://mybatis.org/mybatis-3/zh/configuration.html#properties",title:"propertiesï¼ˆå±æ€§ï¼‰",target:"_blank",rel:"noopener noreferrer"},F={href:"https://mybatis.org/mybatis-3/zh/configuration.html#settings",title:"settingsï¼ˆè®¾ç½®ï¼‰",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases",title:"typeAliasesï¼ˆç±»å‹åˆ«åï¼‰",target:"_blank",rel:"noopener noreferrer"},J={href:"https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers",title:"typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰",target:"_blank",rel:"noopener noreferrer"},H={href:"https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory",title:"objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰",target:"_blank",rel:"noopener noreferrer"},G={href:"https://mybatis.org/mybatis-3/zh/configuration.html#plugins",title:"pluginsï¼ˆæ’ä»¶ï¼‰",target:"_blank",rel:"noopener noreferrer"},V={href:"https://mybatis.org/mybatis-3/zh/configuration.html#environments",title:"environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰",target:"_blank",rel:"noopener noreferrer"},X=n("ul",null,[n("li",null,[s("environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰ "),n("ul",null,[n("li",null,"transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰"),n("li",null,"dataSourceï¼ˆæ•°æ®æºï¼‰")])])],-1),z={href:"https://mybatis.org/mybatis-3/zh/configuration.html#databaseIdProvider",title:"databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰",target:"_blank",rel:"noopener noreferrer"},K={href:"https://mybatis.org/mybatis-3/zh/configuration.html#mappers",title:"mappersï¼ˆæ˜ å°„å™¨ï¼‰",target:"_blank",rel:"noopener noreferrer"},W=e(`<p>æˆ‘ä»¬å¯ä»¥åœ¨mybatisçš„é…ç½®æ–‡ä»¶ä½¿ç”¨<strong>settingsæ ‡ç­¾</strong>è®¾ç½®ï¼Œè¾“å‡ºè¿è¿‡ç¨‹SQLæ—¥å¿—ï¼</p><p>é€šè¿‡æŸ¥çœ‹æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤å®š#{} å’Œ \${}çš„è¾“å‡ºæ•ˆæœï¼</p><p>settingsè®¾ç½®é¡¹ï¼š</p><table><thead><tr><th>è®¾ç½®å</th><th>æè¿°</th><th>æœ‰æ•ˆå€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>cacheEnabled</td><td>å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ã€‚</td><td>true | false</td><td>true</td></tr><tr><td>lazyLoadingEnabled</td><td>å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® <code>fetchType</code> å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚</td><td>true | false</td><td>false</td></tr><tr><td>aggressiveLazyLoading</td><td>å¼€å¯æ—¶ï¼Œä»»ä¸€æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å»¶è¿ŸåŠ è½½å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå»¶è¿ŸåŠ è½½å±æ€§ä¼šæŒ‰éœ€åŠ è½½ï¼ˆå‚è€ƒ <code>lazyLoadTriggerMethods</code>)ã€‚</td><td>true | false</td><td>false ï¼ˆåœ¨ 3.4.1 åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­é»˜è®¤ä¸º trueï¼‰</td></tr><tr><td>multipleResultSetsEnabled</td><td>æ˜¯å¦å…è®¸å•ä¸ªè¯­å¥è¿”å›å¤šç»“æœé›†ï¼ˆéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒï¼‰ã€‚</td><td>true | false</td><td>true</td></tr><tr><td>useColumnLabel</td><td>ä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—åã€‚å®é™…è¡¨ç°ä¾èµ–äºæ•°æ®åº“é©±åŠ¨ï¼Œå…·ä½“å¯å‚è€ƒæ•°æ®åº“é©±åŠ¨çš„ç›¸å…³æ–‡æ¡£ï¼Œæˆ–é€šè¿‡å¯¹æ¯”æµ‹è¯•æ¥è§‚å¯Ÿã€‚</td><td>true | false</td><td>true</td></tr><tr><td>useGeneratedKeys</td><td>å…è®¸ JDBC æ”¯æŒè‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼Œéœ€è¦æ•°æ®åº“é©±åŠ¨æ”¯æŒã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œå°†å¼ºåˆ¶ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚å°½ç®¡ä¸€äº›æ•°æ®åº“é©±åŠ¨ä¸æ”¯æŒæ­¤ç‰¹æ€§ï¼Œä½†ä»å¯æ­£å¸¸å·¥ä½œï¼ˆå¦‚ Derbyï¼‰ã€‚</td><td>true | false</td><td>False</td></tr><tr><td>autoMappingBehavior</td><td>æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚</td><td>NONE, PARTIAL, FULL</td><td>PARTIAL</td></tr><tr><td>autoMappingUnknownColumnBehavior</td><td>æŒ‡å®šå‘ç°è‡ªåŠ¨æ˜ å°„ç›®æ ‡æœªçŸ¥åˆ—ï¼ˆæˆ–æœªçŸ¥å±æ€§ç±»å‹ï¼‰çš„è¡Œä¸ºã€‚ * <code>NONE</code>: ä¸åšä»»ä½•ååº” * <code>WARNING</code>: è¾“å‡ºè­¦å‘Šæ—¥å¿—ï¼ˆ<code>&#39;org.apache.ibatis.session.AutoMappingUnknownColumnBehavior&#39;</code> çš„æ—¥å¿—ç­‰çº§å¿…é¡»è®¾ç½®ä¸º <code>WARN</code>ï¼‰ * <code>FAILING</code>: æ˜ å°„å¤±è´¥ (æŠ›å‡º <code>SqlSessionException</code>)</td><td>NONE, WARNING, FAILING</td><td>NONE</td></tr><tr><td>defaultExecutorType</td><td>é…ç½®é»˜è®¤çš„æ‰§è¡Œå™¨ã€‚SIMPLE å°±æ˜¯æ™®é€šçš„æ‰§è¡Œå™¨ï¼›REUSE æ‰§è¡Œå™¨ä¼šé‡ç”¨é¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰ï¼› BATCH æ‰§è¡Œå™¨ä¸ä»…é‡ç”¨è¯­å¥è¿˜ä¼šæ‰§è¡Œæ‰¹é‡æ›´æ–°ã€‚</td><td>SIMPLE REUSE BATCH</td><td>SIMPLE</td></tr><tr><td>defaultStatementTimeout</td><td>è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå®ƒå†³å®šæ•°æ®åº“é©±åŠ¨ç­‰å¾…æ•°æ®åº“å“åº”çš„ç§’æ•°ã€‚</td><td>ä»»æ„æ­£æ•´æ•°</td><td>æœªè®¾ç½® (null)</td></tr><tr><td>defaultFetchSize</td><td>ä¸ºé©±åŠ¨çš„ç»“æœé›†è·å–æ•°é‡ï¼ˆfetchSizeï¼‰è®¾ç½®ä¸€ä¸ªå»ºè®®å€¼ã€‚æ­¤å‚æ•°åªå¯ä»¥åœ¨æŸ¥è¯¢è®¾ç½®ä¸­è¢«è¦†ç›–ã€‚</td><td>ä»»æ„æ­£æ•´æ•°</td><td>æœªè®¾ç½® (null)</td></tr><tr><td>defaultResultSetType</td><td>æŒ‡å®šè¯­å¥é»˜è®¤çš„æ»šåŠ¨ç­–ç•¥ã€‚ï¼ˆæ–°å¢äº 3.5.2ï¼‰</td><td>FORWARD_ONLY | SCROLL_SENSITIVE | SCROLL_INSENSITIVE | DEFAULTï¼ˆç­‰åŒäºæœªè®¾ç½®ï¼‰</td><td>æœªè®¾ç½® (null)</td></tr><tr><td>safeRowBoundsEnabled</td><td>æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨åˆ†é¡µï¼ˆRowBoundsï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚</td><td>true | false</td><td>False</td></tr><tr><td>safeResultHandlerEnabled</td><td>æ˜¯å¦å…è®¸åœ¨åµŒå¥—è¯­å¥ä¸­ä½¿ç”¨ç»“æœå¤„ç†å™¨ï¼ˆResultHandlerï¼‰ã€‚å¦‚æœå…è®¸ä½¿ç”¨åˆ™è®¾ç½®ä¸º falseã€‚</td><td>true | false</td><td>True</td></tr><tr><td>mapUnderscoreToCamelCase</td><td>æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚</td><td>true | false</td><td>False</td></tr><tr><td>localCacheScope</td><td>MyBatis åˆ©ç”¨æœ¬åœ°ç¼“å­˜æœºåˆ¶ï¼ˆLocal Cacheï¼‰é˜²æ­¢å¾ªç¯å¼•ç”¨å’ŒåŠ é€Ÿé‡å¤çš„åµŒå¥—æŸ¥è¯¢ã€‚ é»˜è®¤å€¼ä¸º SESSIONï¼Œä¼šç¼“å­˜ä¸€ä¸ªä¼šè¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰æŸ¥è¯¢ã€‚ è‹¥è®¾ç½®å€¼ä¸º STATEMENTï¼Œæœ¬åœ°ç¼“å­˜å°†ä»…ç”¨äºæ‰§è¡Œè¯­å¥ï¼Œå¯¹ç›¸åŒ SqlSession çš„ä¸åŒæŸ¥è¯¢å°†ä¸ä¼šè¿›è¡Œç¼“å­˜ã€‚</td><td>SESSION | STATEMENT</td><td>SESSION</td></tr><tr><td>jdbcTypeForNull</td><td>å½“æ²¡æœ‰ä¸ºå‚æ•°æŒ‡å®šç‰¹å®šçš„ JDBC ç±»å‹æ—¶ï¼Œç©ºå€¼çš„é»˜è®¤ JDBC ç±»å‹ã€‚ æŸäº›æ•°æ®åº“é©±åŠ¨éœ€è¦æŒ‡å®šåˆ—çš„ JDBC ç±»å‹ï¼Œå¤šæ•°æƒ…å†µç›´æ¥ç”¨ä¸€èˆ¬ç±»å‹å³å¯ï¼Œæ¯”å¦‚ NULLã€VARCHAR æˆ– OTHERã€‚</td><td>JdbcType å¸¸é‡ï¼Œå¸¸ç”¨å€¼ï¼šNULLã€VARCHAR æˆ– OTHERã€‚</td><td>OTHER</td></tr><tr><td>lazyLoadTriggerMethods</td><td>æŒ‡å®šå¯¹è±¡çš„å“ªäº›æ–¹æ³•è§¦å‘ä¸€æ¬¡å»¶è¿ŸåŠ è½½ã€‚</td><td>ç”¨é€—å·åˆ†éš”çš„æ–¹æ³•åˆ—è¡¨ã€‚</td><td>equals,clone,hashCode,toString</td></tr><tr><td>defaultScriptingLanguage</td><td>æŒ‡å®šåŠ¨æ€ SQL ç”Ÿæˆä½¿ç”¨çš„é»˜è®¤è„šæœ¬è¯­è¨€ã€‚</td><td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚</td><td>org.apache.ibatis.scripting.xmltags.XMLLanguageDriver</td></tr><tr><td>defaultEnumTypeHandler</td><td>æŒ‡å®š Enum ä½¿ç”¨çš„é»˜è®¤ <code>TypeHandler</code> ã€‚ï¼ˆæ–°å¢äº 3.4.5ï¼‰</td><td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å…¨é™å®šç±»åã€‚</td><td>org.apache.ibatis.type.EnumTypeHandler</td></tr><tr><td>callSettersOnNulls</td><td>æŒ‡å®šå½“ç»“æœé›†ä¸­å€¼ä¸º null çš„æ—¶å€™æ˜¯å¦è°ƒç”¨æ˜ å°„å¯¹è±¡çš„ setterï¼ˆmap å¯¹è±¡æ—¶ä¸º putï¼‰æ–¹æ³•ï¼Œè¿™åœ¨ä¾èµ–äº Map.keySet() æˆ– null å€¼è¿›è¡Œåˆå§‹åŒ–æ—¶æ¯”è¾ƒæœ‰ç”¨ã€‚æ³¨æ„åŸºæœ¬ç±»å‹ï¼ˆintã€boolean ç­‰ï¼‰æ˜¯ä¸èƒ½è®¾ç½®æˆ null çš„ã€‚</td><td>true | false</td><td>false</td></tr><tr><td>returnInstanceForEmptyRow</td><td>å½“è¿”å›è¡Œçš„æ‰€æœ‰åˆ—éƒ½æ˜¯ç©ºæ—¶ï¼ŒMyBatisé»˜è®¤è¿”å› <code>null</code>ã€‚ å½“å¼€å¯è¿™ä¸ªè®¾ç½®æ—¶ï¼ŒMyBatisä¼šè¿”å›ä¸€ä¸ªç©ºå®ä¾‹ã€‚ è¯·æ³¨æ„ï¼Œå®ƒä¹Ÿé€‚ç”¨äºåµŒå¥—çš„ç»“æœé›†ï¼ˆå¦‚é›†åˆæˆ–å…³è”ï¼‰ã€‚ï¼ˆæ–°å¢äº 3.4.2ï¼‰</td><td>true | false</td><td>false</td></tr><tr><td>logPrefix</td><td>æŒ‡å®š MyBatis å¢åŠ åˆ°æ—¥å¿—åç§°çš„å‰ç¼€ã€‚</td><td>ä»»ä½•å­—ç¬¦ä¸²</td><td>æœªè®¾ç½®</td></tr><tr><td>logImpl</td><td>æŒ‡å®š MyBatis æ‰€ç”¨æ—¥å¿—çš„å…·ä½“å®ç°ï¼ŒæœªæŒ‡å®šæ—¶å°†è‡ªåŠ¨æŸ¥æ‰¾ã€‚</td><td>SLF4J | LOG4Jï¼ˆ3.5.9 èµ·åºŸå¼ƒï¼‰ | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING</td><td>æœªè®¾ç½®</td></tr><tr><td>proxyFactory</td><td>æŒ‡å®š Mybatis åˆ›å»ºå¯å»¶è¿ŸåŠ è½½å¯¹è±¡æ‰€ç”¨åˆ°çš„ä»£ç†å·¥å…·ã€‚</td><td>CGLIB ï¼ˆ3.5.10 èµ·åºŸå¼ƒï¼‰ | JAVASSIST</td><td>JAVASSIST ï¼ˆMyBatis 3.3 ä»¥ä¸Šï¼‰</td></tr><tr><td>vfsImpl</td><td>æŒ‡å®š VFS çš„å®ç°</td><td>è‡ªå®šä¹‰ VFS çš„å®ç°çš„ç±»å…¨é™å®šåï¼Œä»¥é€—å·åˆ†éš”ã€‚</td><td>æœªè®¾ç½®</td></tr><tr><td>useActualParamName</td><td>å…è®¸ä½¿ç”¨æ–¹æ³•ç­¾åä¸­çš„åç§°ä½œä¸ºè¯­å¥å‚æ•°åç§°ã€‚ ä¸ºäº†ä½¿ç”¨è¯¥ç‰¹æ€§ï¼Œä½ çš„é¡¹ç›®å¿…é¡»é‡‡ç”¨ Java 8 ç¼–è¯‘ï¼Œå¹¶ä¸”åŠ ä¸Š <code>-parameters</code> é€‰é¡¹ã€‚ï¼ˆæ–°å¢äº 3.4.1ï¼‰</td><td>true | false</td><td>true</td></tr><tr><td>configurationFactory</td><td>æŒ‡å®šä¸€ä¸ªæä¾› <code>Configuration</code> å®ä¾‹çš„ç±»ã€‚ è¿™ä¸ªè¢«è¿”å›çš„ Configuration å®ä¾‹ç”¨æ¥åŠ è½½è¢«ååºåˆ—åŒ–å¯¹è±¡çš„å»¶è¿ŸåŠ è½½å±æ€§å€¼ã€‚ è¿™ä¸ªç±»å¿…é¡»åŒ…å«ä¸€ä¸ªç­¾åä¸º<code>static Configuration getConfiguration()</code> çš„æ–¹æ³•ã€‚ï¼ˆæ–°å¢äº 3.2.3ï¼‰</td><td>ä¸€ä¸ªç±»å‹åˆ«åæˆ–å®Œå…¨é™å®šç±»åã€‚</td><td>æœªè®¾ç½®</td></tr><tr><td>shrinkWhitespacesInSql</td><td>ä»SQLä¸­åˆ é™¤å¤šä½™çš„ç©ºæ ¼å­—ç¬¦ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¹Ÿä¼šå½±å“SQLä¸­çš„æ–‡å­—å­—ç¬¦ä¸²ã€‚ (æ–°å¢äº 3.5.5)</td><td>true | false</td><td>false</td></tr><tr><td>defaultSqlProviderType</td><td>æŒ‡å®šä¸€ä¸ªæ‹¥æœ‰ provider æ–¹æ³•çš„ sql provider ç±» ï¼ˆæ–°å¢äº 3.5.6ï¼‰. è¿™ä¸ªç±»é€‚ç”¨äºæŒ‡å®š sql provider æ³¨è§£ä¸Šçš„<code>type</code>ï¼ˆæˆ– <code>value</code>ï¼‰ å±æ€§ï¼ˆå½“è¿™äº›å±æ€§åœ¨æ³¨è§£ä¸­è¢«å¿½ç•¥æ—¶ï¼‰ã€‚ (e.g. <code>@SelectProvider</code>)</td><td>ç±»å‹åˆ«åæˆ–è€…å…¨é™å®šå</td><td>æœªè®¾ç½®</td></tr><tr><td>nullableOnForEach</td><td>ä¸º &#39;foreach&#39; æ ‡ç­¾çš„ &#39;nullable&#39; å±æ€§æŒ‡å®šé»˜è®¤å€¼ã€‚ï¼ˆæ–°å¢äº 3.5.9ï¼‰</td><td>true | false</td><td>false</td></tr><tr><td>argNameBasedConstructorAutoMapping</td><td>å½“åº”ç”¨æ„é€ å™¨è‡ªåŠ¨æ˜ å°„æ—¶ï¼Œå‚æ•°åç§°è¢«ç”¨æ¥æœç´¢è¦æ˜ å°„çš„åˆ—ï¼Œè€Œä¸å†ä¾èµ–åˆ—çš„é¡ºåºã€‚ï¼ˆæ–°å¢äº 3.5.10ï¼‰</td><td>true | false</td><td>false</td></tr></tbody></table><p>æ—¥å¿—é…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- SLF4J é€‰æ‹©slf4jè¾“å‡ºï¼ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SLF4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-å½¢å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-å½¢å¼" aria-hidden="true">#</a> 1.2 <strong>#{}å½¢å¼</strong></h4><p>Mybatisä¼šå°†SQLè¯­å¥ä¸­çš„#{}è½¬æ¢ä¸ºé—®å·å ä½ç¬¦ã€‚</p><p><img src="`+f+'" alt=""></p><h4 id="_1-3-å½¢å¼" tabindex="-1"><a class="header-anchor" href="#_1-3-å½¢å¼" aria-hidden="true">#</a> 1.3 <strong>${}å½¢å¼</strong></h4><p>${}å½¢å¼ä¼ å‚ï¼Œåº•å±‚Mybatisåšçš„æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œã€‚</p><p><img src="'+_+`" alt=""></p><p>é€šå¸¸ä¸ä¼šé‡‡ç”¨\${}çš„æ–¹å¼ä¼ å€¼ã€‚ä¸€ä¸ªç‰¹å®šçš„é€‚ç”¨åœºæ™¯æ˜¯ï¼šé€šè¿‡Javaç¨‹åºåŠ¨æ€ç”Ÿæˆæ•°æ®åº“è¡¨ï¼Œè¡¨åéƒ¨åˆ†éœ€è¦Javaç¨‹åºé€šè¿‡å‚æ•°ä¼ å…¥ï¼›è€ŒJDBCå¯¹äºè¡¨åéƒ¨åˆ†æ˜¯ä¸èƒ½ä½¿ç”¨é—®å·å ä½ç¬¦çš„ï¼Œæ­¤æ—¶åªèƒ½ä½¿ç”¨</p><p>ç»“è®ºï¼šå®é™…å¼€å‘ä¸­ï¼Œèƒ½ç”¨#{}å®ç°çš„ï¼Œè‚¯å®šä¸ç”¨\${}ã€‚</p><p>ç‰¹æ®Šæƒ…å†µï¼š åŠ¨æ€çš„ä¸æ˜¯å€¼ï¼Œæ˜¯åˆ—åæˆ–è€…å…³é”®å­—ï¼Œéœ€è¦ä½¿ç”¨\${}æ‹¼æ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æ³¨è§£æ–¹å¼ä¼ å…¥å‚æ•°ï¼ï¼</span>
<span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from user where \${column} = #{value}&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">User</span> <span class="token function">findByColumn</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;column&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> column<span class="token punctuation">,</span> 
                                <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-æ•°æ®è¾“å…¥" tabindex="-1"><a class="header-anchor" href="#_2-æ•°æ®è¾“å…¥" aria-hidden="true">#</a> 2. æ•°æ®è¾“å…¥</h3><h4 id="_2-1-mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬" tabindex="-1"><a class="header-anchor" href="#_2-1-mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬" aria-hidden="true">#</a> 2.1 <strong>Mybatisæ€»ä½“æœºåˆ¶æ¦‚æ‹¬</strong></h4><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img005.ebd8c6a3.png" alt=""></p><h4 id="_2-2-æ¦‚å¿µè¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_2-2-æ¦‚å¿µè¯´æ˜" aria-hidden="true">#</a> 2.2 <strong>æ¦‚å¿µè¯´æ˜</strong></h4><p>è¿™é‡Œæ•°æ®è¾“å…¥å…·ä½“æ˜¯æŒ‡ä¸Šå±‚æ–¹æ³•ï¼ˆä¾‹å¦‚Serviceæ–¹æ³•ï¼‰è°ƒç”¨Mapperæ¥å£æ—¶ï¼Œæ•°æ®ä¼ å…¥çš„å½¢å¼ã€‚</p><ul><li>ç®€å•ç±»å‹ï¼šåªåŒ…å«ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹ <ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šintã€byteã€shortã€doubleã€â€¦â€¦</li><li>åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹ï¼šIntegerã€Characterã€Doubleã€â€¦â€¦</li><li>å­—ç¬¦ä¸²ç±»å‹ï¼šString</li></ul></li><li>å¤æ‚ç±»å‹ï¼šåŒ…å«å¤šä¸ªå€¼çš„æ•°æ®ç±»å‹ <ul><li>å®ä½“ç±»ç±»å‹ï¼šEmployeeã€Departmentã€â€¦â€¦</li><li>é›†åˆç±»å‹ï¼šListã€Setã€Mapã€â€¦â€¦</li><li>æ•°ç»„ç±»å‹ï¼šint[]ã€String[]ã€â€¦â€¦</li><li>å¤åˆç±»å‹ï¼šList&lt;Employee&gt;ã€å®ä½“ç±»ä¸­åŒ…å«é›†åˆâ€¦â€¦</li></ul></li></ul><h4 id="_2-3-å•ä¸ªç®€å•ç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-3-å•ä¸ªç®€å•ç±»å‹å‚æ•°" aria-hidden="true">#</a> 2.3 <strong>å•ä¸ªç®€å•ç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Employee</span> <span class="token function">selectEmployee</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> empId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#{empId}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å•ä¸ªç®€å•ç±»å‹å‚æ•°ï¼Œåœ¨#{}ä¸­å¯ä»¥éšæ„å‘½åï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ã€‚é€šå¸¸è¿˜æ˜¯ä½¿ç”¨å’Œæ¥å£æ–¹æ³•å‚æ•°åŒåã€‚</p></blockquote><h4 id="_2-4-å®ä½“ç±»ç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-4-å®ä½“ç±»ç±»å‹å‚æ•°" aria-hidden="true">#</a> 2.4 <strong>å®ä½“ç±»ç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">insertEmployee</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertEmployee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into t_emp(emp_name,emp_salary) values(#{empName},#{empSalary})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”å…³ç³»</p><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img006.f9958c52.png" alt=""></p><p>ç»“è®º</p><p>Mybatisä¼šæ ¹æ®#{}ä¸­ä¼ å…¥çš„æ•°æ®ï¼ŒåŠ å·¥æˆgetXxx()æ–¹æ³•ï¼Œé€šè¿‡åå°„åœ¨å®ä½“ç±»å¯¹è±¡ä¸­è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä»è€Œè·å–åˆ°å¯¹åº”çš„æ•°æ®ã€‚å¡«å……åˆ°#{}è§£æåçš„é—®å·å ä½ç¬¦è¿™ä¸ªä½ç½®ã€‚</p><h4 id="_2-5-é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-5-é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®" aria-hidden="true">#</a> 2.5 <strong>é›¶æ•£çš„ç®€å•ç±»å‹æ•°æ®</strong></h4><p>é›¶æ•£çš„å¤šä¸ªç®€å•ç±»å‹å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†ï¼Œé‚£ä¹ˆMybatisæ— æ³•è¯†åˆ«è‡ªå®šä¹‰åç§°ï¼š</p><p><img src="`+A+`" alt=""></p><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">updateEmployee</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;empId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> empId<span class="token punctuation">,</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;empSalary&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Double</span> empSalary<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmployee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  update t_emp set emp_salary=#{empSalary} where emp_id=#{empId}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”å…³ç³»</p><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img007.976da128.png" alt=""></p><h4 id="_2-6-mapç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-6-mapç±»å‹å‚æ•°" aria-hidden="true">#</a> 2.6 <strong>Mapç±»å‹å‚æ•°</strong></h4><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å£°æ˜</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">updateEmployeeByMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> paramMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmployeeByMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  update t_emp set emp_salary=#{empSalaryKey} where emp_id=#{empIdKey}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>junitæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">SqlSession</span> session<span class="token punctuation">;</span>
<span class="token comment">//junit5ä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span>
<span class="token annotation punctuation">@BeforeEach</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    session <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>
                    <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUpdateEmpNameByMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> paramMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  paramMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;empSalaryKey&quot;</span><span class="token punctuation">,</span> <span class="token number">999.99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  paramMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;empIdKey&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> result <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">updateEmployeeByMap</span><span class="token punctuation">(</span>paramMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;result = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//junit5ä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span>
<span class="token annotation punctuation">@AfterEach</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¯¹åº”å…³ç³»</strong></p><p>#{}ä¸­å†™Mapä¸­çš„key</p><p><strong>ä½¿ç”¨åœºæ™¯</strong></p><p>æœ‰å¾ˆå¤šé›¶æ•£çš„å‚æ•°éœ€è¦ä¼ é€’ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åº”çš„å®ä½“ç±»ç±»å‹å¯ä»¥ä½¿ç”¨ã€‚ä½¿ç”¨@Paramæ³¨è§£ä¸€ä¸ªä¸€ä¸ªä¼ å…¥åˆå¤ªéº»çƒ¦äº†ã€‚æ‰€ä»¥éƒ½å°è£…åˆ°Mapä¸­ã€‚</p><h3 id="_3-æ•°æ®è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#_3-æ•°æ®è¾“å‡º" aria-hidden="true">#</a> 3. æ•°æ®è¾“å‡º</h3><h4 id="_3-1-è¾“å‡ºæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_3-1-è¾“å‡ºæ¦‚è¿°" aria-hidden="true">#</a> 3.1 è¾“å‡ºæ¦‚è¿°</h4><p>æ•°æ®è¾“å‡ºæ€»ä½“ä¸Šæœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li>å¢åˆ æ”¹æ“ä½œè¿”å›çš„å—å½±å“è¡Œæ•°ï¼šç›´æ¥ä½¿ç”¨ int æˆ– long ç±»å‹æ¥æ”¶å³å¯</li><li>æŸ¥è¯¢æ“ä½œçš„æŸ¥è¯¢ç»“æœ</li></ul><p>æˆ‘ä»¬éœ€è¦åšçš„æ˜¯ï¼ŒæŒ‡å®šæŸ¥è¯¢çš„è¾“å‡ºæ•°æ®ç±»å‹å³å¯ï¼</p><p>å¹¶ä¸”æ’å…¥åœºæ™¯ä¸‹ï¼Œå®ç°ä¸»é”®æ•°æ®å›æ˜¾ç¤ºï¼</p><h4 id="_3-2-å•ä¸ªç®€å•ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_3-2-å•ä¸ªç®€å•ç±»å‹" aria-hidden="true">#</a> 3.2 å•ä¸ªç®€å•ç±»å‹</h4><p>Mapperæ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">selectEmpCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmpCount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select count(*) from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Mybatis å†…éƒ¨ç»™å¸¸ç”¨çš„æ•°æ®ç±»å‹è®¾å®šäº†å¾ˆå¤šåˆ«åã€‚ ä»¥ int ç±»å‹ä¸ºä¾‹ï¼Œå¯ä»¥å†™çš„åç§°æœ‰ï¼šintã€integerã€Integerã€java.lang.Integerã€Intã€INTã€INTEGER ç­‰ç­‰ã€‚</p></blockquote><p>junitæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testEmpCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token class-name">EmployeeMapper</span> employeeMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> count <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">selectEmpCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;count = &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç»†èŠ‚è§£é‡Šï¼š</strong></p><p>selectæ ‡ç­¾ï¼Œé€šè¿‡resultTypeæŒ‡å®šæŸ¥è¯¢è¿”å›å€¼ç±»å‹ï¼</p><p>resultType = &quot;å…¨é™å®šç¬¦ ï½œ åˆ«å ï½œ å¦‚æœæ˜¯è¿”å›é›†åˆç±»å‹ï¼Œå†™èŒƒå‹ç±»å‹å³å¯&quot;</p><p>åˆ«åé—®é¢˜ï¼š</p>`,75),Y={href:"https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases",title:"https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases",target:"_blank",rel:"noopener noreferrer"},Z=e(`<p>ç±»å‹åˆ«åå¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ã€‚ å®ƒä»…ç”¨äº XML é…ç½®ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog.Author<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog.Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è¿™æ ·é…ç½®æ—¶ï¼Œ<code>Blog</code> å¯ä»¥ç”¨åœ¨ä»»ä½•ä½¿ç”¨ <code>domain.blog.Blog</code> çš„åœ°æ–¹ã€‚</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¯ä¸€ä¸ªåœ¨åŒ… <code>domain.blog</code> ä¸­çš„ Java Beanï¼Œåœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«åã€‚ æ¯”å¦‚ <code>domain.blog.Author</code> çš„åˆ«åä¸º <code>author</code>ï¼›è‹¥æœ‰æ³¨è§£ï¼Œåˆ™åˆ«åä¸ºå…¶æ³¨è§£å€¼ã€‚è§ä¸‹é¢çš„ä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Alias</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯Mybatisä¸ºå¸¸è§çš„ Java ç±»å‹å†…å»ºçš„ç±»å‹åˆ«åã€‚å®ƒä»¬éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæ³¨æ„ï¼Œä¸ºäº†åº”å¯¹åŸå§‹ç±»å‹çš„å‘½åé‡å¤ï¼Œé‡‡å–äº†ç‰¹æ®Šçš„å‘½åé£æ ¼ã€‚</p><table><thead><tr><th>åˆ«å</th><th>æ˜ å°„çš„ç±»å‹</th></tr></thead><tbody><tr><td>_byte</td><td>byte</td></tr><tr><td>_char (since 3.5.10)</td><td>char</td></tr><tr><td>_character (since 3.5.10)</td><td>char</td></tr><tr><td>_long</td><td>long</td></tr><tr><td>_short</td><td>short</td></tr><tr><td>_int</td><td>int</td></tr><tr><td>_integer</td><td>int</td></tr><tr><td>_double</td><td>double</td></tr><tr><td>_float</td><td>float</td></tr><tr><td>_boolean</td><td>boolean</td></tr><tr><td>string</td><td>String</td></tr><tr><td>byte</td><td>Byte</td></tr><tr><td>char (since 3.5.10)</td><td>Character</td></tr><tr><td>character (since 3.5.10)</td><td>Character</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>integer</td><td>Integer</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>float</td><td>Float</td></tr><tr><td>boolean</td><td>Boolean</td></tr><tr><td>date</td><td>Date</td></tr><tr><td>decimal</td><td>BigDecimal</td></tr><tr><td>bigdecimal</td><td>BigDecimal</td></tr><tr><td>biginteger</td><td>BigInteger</td></tr><tr><td>object</td><td>Object</td></tr><tr><td>object[]</td><td>Object[]</td></tr><tr><td>map</td><td>Map</td></tr><tr><td>hashmap</td><td>HashMap</td></tr><tr><td>list</td><td>List</td></tr><tr><td>arraylist</td><td>ArrayList</td></tr><tr><td>collection</td><td>Collection</td></tr></tbody></table><h4 id="_3-3-è¿”å›å®ä½“ç±»å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3-3-è¿”å›å®ä½“ç±»å¯¹è±¡" aria-hidden="true">#</a> 3.3 è¿”å›å®ä½“ç±»å¯¹è±¡</h4><p>Mapperæ¥å£çš„æŠ½è±¡æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Employee</span> <span class="token function">selectEmployee</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> empId<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ç¼–å†™å…·ä½“çš„SQLè¯­å¥ï¼Œä½¿ç”¨idå±æ€§å”¯ä¸€çš„æ ‡è®°ä¸€æ¡SQLè¯­å¥ --&gt;</span>
<span class="token comment">&lt;!-- resultTypeå±æ€§ï¼šæŒ‡å®šå°è£…æŸ¥è¯¢ç»“æœçš„Javaå®ä½“ç±»çš„å…¨ç±»å --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- Mybatisè´Ÿè´£æŠŠSQLè¯­å¥ä¸­çš„#{}éƒ¨åˆ†æ›¿æ¢æˆâ€œ?â€å ä½ç¬¦ --&gt;</span>
  <span class="token comment">&lt;!-- ç»™æ¯ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œè®©åˆ«åå’ŒJavaå®ä½“ç±»ä¸­å±æ€§åä¸€è‡´ --&gt;</span>
  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#{maomi}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ç»™æ•°æ®åº“è¡¨å­—æ®µåŠ åˆ«åï¼Œè®©æŸ¥è¯¢ç»“æœçš„æ¯ä¸€åˆ—éƒ½å’ŒJavaå®ä½“ç±»ä¸­å±æ€§å¯¹åº”èµ·æ¥ã€‚</p><p>å¢åŠ å…¨å±€é…ç½®è‡ªåŠ¨è¯†åˆ«å¯¹åº”å…³ç³»</p><p>åœ¨ Mybatis å…¨å±€é…ç½®æ–‡ä»¶ä¸­ï¼Œåšäº†ä¸‹é¢çš„é…ç½®ï¼Œselectè¯­å¥ä¸­å¯ä»¥ä¸ç»™å­—æ®µè®¾ç½®åˆ«å</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- åœ¨å…¨å±€èŒƒå›´å†…å¯¹Mybatisè¿›è¡Œé…ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- å…·ä½“é…ç½® --&gt;</span>
  <span class="token comment">&lt;!-- ä»org.apache.ibatis.session.Configurationç±»ä¸­å¯ä»¥æŸ¥çœ‹èƒ½ä½¿ç”¨çš„é…ç½®é¡¹ --&gt;</span>
  <span class="token comment">&lt;!-- å°†mapUnderscoreToCamelCaseå±æ€§é…ç½®ä¸ºtrueï¼Œè¡¨ç¤ºå¼€å¯è‡ªåŠ¨æ˜ å°„é©¼å³°å¼å‘½åè§„åˆ™ --&gt;</span>
  <span class="token comment">&lt;!-- è§„åˆ™è¦æ±‚æ•°æ®åº“è¡¨å­—æ®µå‘½åæ–¹å¼ï¼šå•è¯_å•è¯ --&gt;</span>
  <span class="token comment">&lt;!-- è§„åˆ™è¦æ±‚Javaå®ä½“ç±»å±æ€§åå‘½åæ–¹å¼ï¼šé¦–å­—æ¯å°å†™çš„é©¼å³°å¼å‘½å --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-è¿”å›mapç±»å‹" tabindex="-1"><a class="header-anchor" href="#_3-4-è¿”å›mapç±»å‹" aria-hidden="true">#</a> 3.4 è¿”å›Mapç±»å‹</h4><p>é€‚ç”¨äºSQLæŸ¥è¯¢è¿”å›çš„å„ä¸ªå­—æ®µç»¼åˆèµ·æ¥å¹¶ä¸å’Œä»»ä½•ä¸€ä¸ªç°æœ‰çš„å®ä½“ç±»å¯¹åº”ï¼Œæ²¡æ³•å°è£…åˆ°å®ä½“ç±»å¯¹è±¡ä¸­ã€‚èƒ½å¤Ÿå°è£…æˆå®ä½“ç±»ç±»å‹çš„ï¼Œå°±ä¸ä½¿ç”¨Mapç±»å‹ã€‚</p><p>Mapperæ¥å£çš„æŠ½è±¡æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectEmpNameAndMaxSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- Map&lt;String,Object&gt; selectEmpNameAndMaxSalary(); --&gt;</span>
<span class="token comment">&lt;!-- è¿”å›å·¥èµ„æœ€é«˜çš„å‘˜å·¥çš„å§“åå’Œä»–çš„å·¥èµ„ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmpNameAndMaxSalary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT
    emp_name å‘˜å·¥å§“å,
    emp_salary å‘˜å·¥å·¥èµ„,
    (SELECT AVG(emp_salary) FROM t_emp) éƒ¨é—¨å¹³å‡å·¥èµ„
  FROM t_emp WHERE emp_salary=(
    SELECT MAX(emp_salary) FROM t_emp
  )
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>junitæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testQueryEmpNameAndSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token class-name">EmployeeMapper</span> employeeMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> resultMap <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">selectEmpNameAndMaxSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entrySet <span class="token operator">=</span> resultMap<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> entrySet<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> key <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Object</span> value <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-è¿”å›listç±»å‹" tabindex="-1"><a class="header-anchor" href="#_3-5-è¿”å›listç±»å‹" aria-hidden="true">#</a> 3.5 è¿”å›Listç±»å‹</h4><p>æŸ¥è¯¢ç»“æœè¿”å›å¤šä¸ªå®ä½“ç±»å¯¹è±¡ï¼Œå¸Œæœ›æŠŠå¤šä¸ªå®ä½“ç±»å¯¹è±¡æ”¾åœ¨Listé›†åˆä¸­è¿”å›ã€‚æ­¤æ—¶ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šå¤„ç†ï¼Œåœ¨resultTypeå±æ€§ä¸­è¿˜æ˜¯è®¾ç½®å®ä½“ç±»ç±»å‹å³å¯ã€‚</p><p>Mapperæ¥å£ä¸­æŠ½è±¡æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- List&lt;Employee&gt; selectAll(); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select emp_id empId,emp_name empName,emp_salary empSalary
  from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>junitæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">EmployeeMapper</span> employeeMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employeeList <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee <span class="token operator">:</span> employeeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;employee = &quot;</span> <span class="token operator">+</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-6-è¿”å›ä¸»é”®å€¼" tabindex="-1"><a class="header-anchor" href="#_3-6-è¿”å›ä¸»é”®å€¼" aria-hidden="true">#</a> 3.6 è¿”å›ä¸»é”®å€¼</h4><ol><li><p><strong>è‡ªå¢é•¿ç±»å‹ä¸»é”®</strong></p><p>Mapperæ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">insertEmployee</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>SQLè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- int insertEmployee(Employee employee); --&gt;</span>
<span class="token comment">&lt;!-- useGeneratedKeyså±æ€§å­—é¢æ„æ€å°±æ˜¯â€œä½¿ç”¨ç”Ÿæˆçš„ä¸»é”®â€ --&gt;</span>
<span class="token comment">&lt;!-- keyPropertyå±æ€§å¯ä»¥æŒ‡å®šä¸»é”®åœ¨å®ä½“ç±»å¯¹è±¡ä¸­å¯¹åº”çš„å±æ€§åï¼ŒMybatisä¼šå°†æ‹¿åˆ°çš„ä¸»é”®å€¼å­˜å…¥è¿™ä¸ªå±æ€§ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into t_emp(emp_name,emp_salary)
  values(#{empName},#{empSalary})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>junitæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSaveEmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">EmployeeMapper</span> employeeMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  employee<span class="token punctuation">.</span><span class="token function">setEmpName</span><span class="token punctuation">(</span><span class="token string">&quot;john&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  employee<span class="token punctuation">.</span><span class="token function">setEmpSalary</span><span class="token punctuation">(</span><span class="token number">666.66</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  employeeMapper<span class="token punctuation">.</span><span class="token function">insertEmployee</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;employee.getEmpId() = &quot;</span> <span class="token operator">+</span> employee<span class="token punctuation">.</span><span class="token function">getEmpId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„</p><p>Mybatisæ˜¯å°†è‡ªå¢ä¸»é”®çš„å€¼è®¾ç½®åˆ°å®ä½“ç±»å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯ä»¥Mapperæ¥å£æ–¹æ³•è¿”å›å€¼çš„å½¢å¼è¿”å›ã€‚</p></li><li><p><strong>éè‡ªå¢é•¿ç±»å‹ä¸»é”®</strong></p><p>è€Œå¯¹äºä¸æ”¯æŒè‡ªå¢å‹ä¸»é”®çš„æ•°æ®åº“ï¼ˆä¾‹å¦‚ Oracleï¼‰æˆ–è€…å­—ç¬¦ä¸²ç±»å‹ä¸»é”®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ selectKey å­å…ƒç´ ï¼šselectKey å…ƒç´ å°†ä¼šé¦–å…ˆè¿è¡Œï¼Œid ä¼šè¢«è®¾ç½®ï¼Œç„¶åæ’å…¥è¯­å¥ä¼šè¢«è°ƒç”¨ï¼</p><p>ä½¿ç”¨ <code>selectKey</code> å¸®åŠ©æ’å…¥UUIDä½œä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸»é”®ç¤ºä¾‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selectKey</span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.lang.String<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BEFORE<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        SELECT UUID() as id
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selectKey</span><span class="token punctuation">&gt;</span></span>
    INSERT INTO user (id, username, password) 
    VALUES (
        #{id},
        #{username},
        #{password}
    )
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>insertUser</code> çš„æ’å…¥è¯­å¥æ¥å°† <code>User</code> å¯¹è±¡æ’å…¥åˆ° <code>user</code> è¡¨ä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>selectKey</code> æ¥æŸ¥è¯¢ UUID å¹¶è®¾ç½®åˆ° <code>id</code> å­—æ®µä¸­ã€‚</p><p>é€šè¿‡ <code>keyProperty</code> å±æ€§æ¥æŒ‡å®šæŸ¥è¯¢åˆ°çš„ UUID èµ‹å€¼ç»™å¯¹è±¡ä¸­çš„ <code>id</code> å±æ€§ï¼Œè€Œ <code>resultType</code> å±æ€§æŒ‡å®šäº† UUID çš„ç±»å‹ä¸º <code>java.lang.String</code>ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å°† <code>selectKey</code> æ”¾åœ¨äº†æ’å…¥è¯­å¥çš„å‰é¢ï¼Œè¿™æ˜¯å› ä¸º MySQL åœ¨ <code>insert</code> è¯­å¥ä¸­åªæ”¯æŒä¸€ä¸ª <code>select</code> å­å¥ï¼Œè€Œ <code>selectKey</code> ä¸­æŸ¥è¯¢ UUID çš„è¯­å¥å°±æ˜¯ä¸€ä¸ª <code>select</code> å­å¥ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å…¶æ”¾åœ¨å‰é¢ã€‚</p><p>æœ€åï¼Œåœ¨å°† <code>User</code> å¯¹è±¡æ’å…¥åˆ° <code>user</code> è¡¨ä¸­æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å¯¹è±¡ä¸­çš„ <code>id</code> å±æ€§æ¥æ’å…¥ä¸»é”®å€¼ã€‚</p><p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°æ’å…¥ UUID ä½œä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸»é”®ã€‚å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–æ’å…¥æ–¹å¼å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ä½¿ç”¨Javaä»£ç ç”ŸæˆUUIDå¹¶åœ¨ç±»ä¸­æ˜¾å¼è®¾ç½®å€¼ç­‰ã€‚éœ€è¦æ ¹æ®å…·ä½“åº”ç”¨åœºæ™¯å’Œéœ€æ±‚é€‰æ‹©åˆé€‚çš„æ’å…¥æ–¹å¼ã€‚</p></li></ol><h4 id="_3-7-å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_3-7-å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»" aria-hidden="true">#</a> 3.7 å®ä½“ç±»å±æ€§å’Œæ•°æ®åº“å­—æ®µå¯¹åº”å…³ç³»</h4><ol><li><p>åˆ«åå¯¹åº”</p><p>å°†å­—æ®µçš„åˆ«åè®¾ç½®æˆå’Œå®ä½“ç±»å±æ€§ä¸€è‡´ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ç¼–å†™å…·ä½“çš„SQLè¯­å¥ï¼Œä½¿ç”¨idå±æ€§å”¯ä¸€çš„æ ‡è®°ä¸€æ¡SQLè¯­å¥ --&gt;</span>
<span class="token comment">&lt;!-- resultTypeå±æ€§ï¼šæŒ‡å®šå°è£…æŸ¥è¯¢ç»“æœçš„Javaå®ä½“ç±»çš„å…¨ç±»å --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- Mybatisè´Ÿè´£æŠŠSQLè¯­å¥ä¸­çš„#{}éƒ¨åˆ†æ›¿æ¢æˆâ€œ?â€å ä½ç¬¦ --&gt;</span>
  <span class="token comment">&lt;!-- ç»™æ¯ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œè®©åˆ«åå’ŒJavaå®ä½“ç±»ä¸­å±æ€§åä¸€è‡´ --&gt;</span>
  select emp_id empId,emp_name empName,emp_salary empSalary from t_emp where emp_id=#{maomi}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…³äºå®ä½“ç±»å±æ€§çš„çº¦å®šï¼š getXxx()æ–¹æ³•ã€setXxx()æ–¹æ³•æŠŠæ–¹æ³•åä¸­çš„getæˆ–setå»æ‰ï¼Œé¦–å­—æ¯å°å†™ã€‚</p></blockquote></li><li><p>å…¨å±€é…ç½®è‡ªåŠ¨è¯†åˆ«é©¼å³°å¼å‘½åè§„åˆ™</p><p>åœ¨Mybatiså…¨å±€é…ç½®æ–‡ä»¶åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ä½¿ç”¨settingså¯¹Mybatiså…¨å±€è¿›è¡Œè®¾ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- å°†xxx_xxxè¿™æ ·çš„åˆ—åè‡ªåŠ¨æ˜ å°„åˆ°xxXxxè¿™æ ·é©¼å³°å¼å‘½åçš„å±æ€§å --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SQLè¯­å¥ä¸­å¯ä»¥ä¸ä½¿ç”¨åˆ«å</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- Employee selectEmployee(Integer empId); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  select emp_id,emp_name,emp_salary from t_emp where emp_id=#{empId}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨resultMap</p><p>ä½¿ç”¨resultMapæ ‡ç­¾å®šä¹‰å¯¹åº”å…³ç³»ï¼Œå†åœ¨åé¢çš„SQLè¯­å¥ä¸­å¼•ç”¨è¿™ä¸ªå¯¹åº”å…³ç³»</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ä¸“é—¨å£°æ˜ä¸€ä¸ªresultMapè®¾å®šcolumnåˆ°propertyä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByRMResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- ä½¿ç”¨idæ ‡ç­¾è®¾ç½®ä¸»é”®åˆ—å’Œä¸»é”®å±æ€§ä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span>
  <span class="token comment">&lt;!-- columnå±æ€§ç”¨äºæŒ‡å®šå­—æ®µåï¼›propertyå±æ€§ç”¨äºæŒ‡å®šJavaå®ä½“ç±»å±æ€§å --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token comment">&lt;!-- ä½¿ç”¨resultæ ‡ç­¾è®¾ç½®æ™®é€šå­—æ®µå’ŒJavaå®ä½“ç±»å±æ€§ä¹‹é—´çš„å…³ç³» --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_salary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empSalary<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Employee selectEmployeeByRM(Integer empId); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByRM<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByRMResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  select emp_id,emp_name,emp_salary from t_emp where emp_id=#{empId}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_4-crudå¼ºåŒ–ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#_4-crudå¼ºåŒ–ç»ƒä¹ " aria-hidden="true">#</a> 4. CRUDå¼ºåŒ–ç»ƒä¹ </h3><ol><li><p>å‡†å¤‡æ•°æ®åº“æ•°æ®</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€å¼ åä¸º <code>user</code> çš„è¡¨ã€‚è¯¥è¡¨åŒ…å«å­—æ®µ idï¼ˆä¸»é”®ï¼‰ã€usernameã€passwordã€‚åˆ›å»ºSQLå¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>user<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>username<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®ä½“ç±»å‡†å¤‡</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå®ä½“ç±» <code>User</code>ï¼Œæ¥å¯¹åº” user è¡¨çš„ä¸€è¡Œæ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token variable">@Data</span>
<span class="token keyword">public</span> class <span class="token keyword">User</span> {
  private <span class="token keyword">Integer</span> id<span class="token punctuation">;</span>
  private String username<span class="token punctuation">;</span>
  private String password<span class="token punctuation">;</span>
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Mapperæ¥å£å®šä¹‰</p><p>å®šä¹‰ä¸€ä¸ª Mapper æ¥å£ <code>UserMapper</code>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ  user è¡¨çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">User</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>MapperXMLç¼–å†™</p><p>åœ¨ resources /mappersç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>UserMapper.xml</code> çš„ XML æ–‡ä»¶ï¼ŒåŒ…å«ä¸ Mapper æ¥å£ä¸­ç›¸åŒçš„äº”ä¸ª SQL è¯­å¥ï¼Œå¹¶åœ¨å…¶ä¸­ï¼Œå°†æŸ¥è¯¢ç»“æœæ˜ å°„åˆ° <code>User</code> å®ä½“ä¸­ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- namespaceç­‰äºmapperæ¥å£ç±»çš„å…¨é™å®šå,è¿™æ ·å®ç°å¯¹åº” --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mapper.UserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å®šä¹‰ä¸€ä¸ªæ’å…¥è¯­å¥ï¼Œå¹¶è·å–ä¸»é”®å€¼ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insert<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    INSERT INTO user(username, password)
                VALUES(#{username}, #{password})
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    UPDATE user SET username=#{username}, password=#{password}
    WHERE id=#{id}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>delete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    DELETE FROM user WHERE id=#{id}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- resultTypeä½¿ç”¨useråˆ«åï¼Œç¨åéœ€è¦é…ç½®ï¼--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    SELECT id, username, password FROM user WHERE id=#{id}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token comment">&lt;!-- resultTypeè¿”å›å€¼ç±»å‹ä¸ºé›†åˆï¼Œæ‰€ä»¥åªå†™èŒƒå‹å³å¯ï¼ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    SELECT id, username, password FROM user
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>MyBatisé…ç½®æ–‡ä»¶</p><p>ä½ç½®ï¼šresources: mybatis-config.xml </p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- å¼€å¯é©¼å³°å¼æ˜ å°„--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- å¼€å¯logbackæ—¥å¿—è¾“å‡º--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SLF4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ç»™å®ä½“ç±»èµ·åˆ«å --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.pojo<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- environmentsè¡¨ç¤ºé…ç½®Mybatisçš„å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œåœ¨ä¼—å¤šå…·ä½“ç¯å¢ƒä¸­ï¼Œä½¿ç”¨defaultå±æ€§æŒ‡å®šå®é™…è¿è¡Œæ—¶ä½¿ç”¨çš„ç¯å¢ƒã€‚defaultå±æ€§çš„å–å€¼æ˜¯environmentæ ‡ç­¾çš„idå±æ€§çš„å€¼ã€‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- environmentè¡¨ç¤ºé…ç½®Mybatisçš„ä¸€ä¸ªå…·ä½“çš„ç¯å¢ƒ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- Mybatisçš„å†…ç½®çš„äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- é…ç½®æ•°æ®æº --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- å»ºç«‹æ•°æ®åº“è¿æ¥çš„å…·ä½“ä¿¡æ¯ --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/mybatis-example<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Mapperæ³¨å†Œï¼šæŒ‡å®šMybatisæ˜ å°„æ–‡ä»¶çš„å…·ä½“ä½ç½® --&gt;</span>
        <span class="token comment">&lt;!-- mapperæ ‡ç­¾ï¼šé…ç½®ä¸€ä¸ªå…·ä½“çš„Mapperæ˜ å°„æ–‡ä»¶ --&gt;</span>
        <span class="token comment">&lt;!-- resourceå±æ€§ï¼šæŒ‡å®šMapperæ˜ å°„æ–‡ä»¶çš„å®é™…å­˜å‚¨ä½ç½®ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥ç±»è·¯å¾„æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span>
        <span class="token comment">&lt;!--    å¯¹Mavenå·¥ç¨‹çš„ç›®å½•ç»“æ„æ¥è¯´ï¼Œresourcesç›®å½•ä¸‹çš„å†…å®¹ä¼šç›´æ¥æ”¾å…¥ç±»è·¯å¾„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä»¥resourcesç›®å½•ä¸ºåŸºå‡† --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/UserMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ•ˆæœæµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">AfterEach</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">BeforeEach</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * projectName: com.atguigu.test
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">SqlSession</span> session<span class="token punctuation">;</span>
    <span class="token comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        session <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>
                        <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userMapper<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">selectByIdTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">selectAllTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;userList = &quot;</span> <span class="token operator">+</span> userList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span>
    <span class="token annotation punctuation">@AfterEach</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_5-mapperxmlæ ‡ç­¾æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_5-mapperxmlæ ‡ç­¾æ€»ç»“" aria-hidden="true">#</a> 5. mapperXMLæ ‡ç­¾æ€»ç»“</h3><p>MyBatis çš„çœŸæ­£å¼ºå¤§åœ¨äºå®ƒçš„è¯­å¥æ˜ å°„ï¼Œè¿™æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚ç”±äºå®ƒçš„å¼‚å¸¸å¼ºå¤§ï¼Œæ˜ å°„å™¨çš„ XML æ–‡ä»¶å°±æ˜¾å¾—ç›¸å¯¹ç®€å•ã€‚å¦‚æœæ‹¿å®ƒè·Ÿå…·æœ‰ç›¸åŒåŠŸèƒ½çš„ JDBC ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œä½ ä¼šç«‹å³å‘ç°çœæ‰äº†å°†è¿‘ 95% çš„ä»£ç ã€‚MyBatis è‡´åŠ›äºå‡å°‘ä½¿ç”¨æˆæœ¬ï¼Œè®©ç”¨æˆ·èƒ½æ›´ä¸“æ³¨äº SQL ä»£ç ã€‚</p><p>SQL æ˜ å°„æ–‡ä»¶åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªé¡¶çº§å…ƒç´ ï¼ˆæŒ‰ç…§åº”è¢«å®šä¹‰çš„é¡ºåºåˆ—å‡ºï¼‰ï¼š</p><ul><li><code>insert</code> â€“ æ˜ å°„æ’å…¥è¯­å¥ã€‚</li><li><code>update</code> â€“ æ˜ å°„æ›´æ–°è¯­å¥ã€‚</li><li><code>delete</code> â€“ æ˜ å°„åˆ é™¤è¯­å¥ã€‚</li><li><code>select</code> â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥ã€‚</li></ul><p><strong>selectæ ‡ç­¾ï¼š</strong></p><p>MyBatis åœ¨æŸ¥è¯¢å’Œç»“æœæ˜ å°„åšäº†ç›¸å½“å¤šçš„æ”¹è¿›ã€‚ä¸€ä¸ªç®€å•æŸ¥è¯¢çš„ select å…ƒç´ æ˜¯éå¸¸ç®€å•ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectPerson<span class="token punctuation">&quot;</span></span> 
<span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> SELECT * FROM PERSON WHERE ID = #{id} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªè¯­å¥åä¸º selectPersonï¼Œæ¥å—ä¸€ä¸ª intï¼ˆæˆ– Integerï¼‰ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª HashMap ç±»å‹çš„å¯¹è±¡ï¼Œå…¶ä¸­çš„é”®æ˜¯åˆ—åï¼Œå€¼ä¾¿æ˜¯ç»“æœè¡Œä¸­çš„å¯¹åº”å€¼ã€‚</p><p>æ³¨æ„å‚æ•°ç¬¦å·ï¼š#{id}</p><p>MyBatis åˆ›å»ºä¸€ä¸ªé¢„å¤„ç†è¯­å¥ï¼ˆPreparedStatementï¼‰å‚æ•°ï¼Œåœ¨ JDBC ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‚æ•°åœ¨ SQL ä¸­ä¼šç”±ä¸€ä¸ªâ€œ?â€æ¥æ ‡è¯†ï¼Œå¹¶è¢«ä¼ é€’åˆ°ä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ä¸­ï¼Œå°±åƒè¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è¿‘ä¼¼çš„ JDBC ä»£ç ï¼Œé MyBatis ä»£ç ...</span>
<span class="token class-name">String</span> selectPerson <span class="token operator">=</span> <span class="token string">&quot;SELECT * FROM PERSON WHERE ID=?&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>selectPerson<span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>select å…ƒç´ å…è®¸ä½ é…ç½®å¾ˆå¤šå±æ€§æ¥é…ç½®æ¯æ¡è¯­å¥çš„è¡Œä¸ºç»†èŠ‚ï¼š</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>id</code></td><td>åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td><code>resultType</code></td><td>æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td><code>resultMap</code></td><td>å¯¹å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœæ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚çš„æ˜ å°„é—®é¢˜éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td><code>timeout</code></td><td>è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td><code>statementType</code></td><td>å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr></tbody></table><p><strong>insert, update å’Œ deleteæ ‡ç­¾ï¼š</strong></p><p>æ•°æ®å˜æ›´è¯­å¥ insertï¼Œupdate å’Œ delete çš„å®ç°éå¸¸æ¥è¿‘ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertAuthor<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">statementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PREPARED<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">keyColumn</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">timeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateAuthor<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">statementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PREPARED<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">timeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteAuthor<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">statementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PREPARED<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">timeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>id</code></td><td>åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td><code>timeout</code></td><td>è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td><code>statementType</code></td><td>å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr><tr><td><code>useGeneratedKeys</code></td><td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td></tr><tr><td><code>keyProperty</code></td><td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰æŒ‡å®šèƒ½å¤Ÿå”¯ä¸€è¯†åˆ«å¯¹è±¡çš„å±æ€§ï¼ŒMyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æˆ– insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆ<code>unset</code>ï¼‰ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td></tr><tr><td><code>keyColumn</code></td><td>ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è®¾ç½®ç”Ÿæˆé”®å€¼åœ¨è¡¨ä¸­çš„åˆ—åï¼Œåœ¨æŸäº›æ•°æ®åº“ï¼ˆåƒ PostgreSQLï¼‰ä¸­ï¼Œå½“ä¸»é”®åˆ—ä¸æ˜¯è¡¨ä¸­çš„ç¬¬ä¸€åˆ—çš„æ—¶å€™ï¼Œæ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td></tr></tbody></table><h2 id="å››ã€mybatiså¤šè¡¨æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#å››ã€mybatiså¤šè¡¨æ˜ å°„" aria-hidden="true">#</a> å››ã€MyBatiså¤šè¡¨æ˜ å°„</h2><h3 id="_1-å¤šè¡¨æ˜ å°„æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-å¤šè¡¨æ˜ å°„æ¦‚å¿µ" aria-hidden="true">#</a> 1. å¤šè¡¨æ˜ å°„æ¦‚å¿µ</h3><ol><li><p><strong>å¤šè¡¨æŸ¥è¯¢ç»“æœæ˜ å°„æ€è·¯</strong></p><p>ä¸Šé¢è¯¾ç¨‹ä¸­ï¼Œæˆ‘å…¨é¢è®²è§£äº†å•è¡¨çš„mybatisæ“ä½œï¼ä½†æ˜¯å¼€å‘ä¸­æ›´å¤šçš„æ˜¯<strong>å¤šè¡¨æŸ¥è¯¢</strong>éœ€æ±‚ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¦‚ä½•è®©è¿›è¡Œå¤„ç†ï¼Ÿ</p><p>MyBatis æ€æƒ³æ˜¯ï¼šæ•°æ®åº“ä¸å¯èƒ½æ°¸è¿œæ˜¯ä½ æ‰€æƒ³æˆ–æ‰€éœ€çš„é‚£ä¸ªæ ·å­ã€‚ æˆ‘ä»¬å¸Œæœ›æ¯ä¸ªæ•°æ®åº“éƒ½å…·å¤‡è‰¯å¥½çš„ç¬¬ä¸‰èŒƒå¼æˆ– BCNF èŒƒå¼ï¼Œå¯æƒœå®ƒä»¬å¹¶ä¸éƒ½æ˜¯é‚£æ ·ã€‚ å¦‚æœèƒ½æœ‰ä¸€ç§æ•°æ®åº“æ˜ å°„æ¨¡å¼ï¼Œå®Œç¾é€‚é…æ‰€æœ‰çš„åº”ç”¨ç¨‹åºæŸ¥è¯¢éœ€æ±‚ï¼Œé‚£å°±å¤ªå¥½äº†ï¼Œè€Œ ResultMap å°±æ˜¯ MyBatis å°±æ˜¯å®Œç¾ç­”æ¡ˆã€‚ </p><p>å®˜æ–¹ä¾‹å­ï¼šæˆ‘ä»¬å¦‚ä½•æ˜ å°„ä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Ÿ </p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- éå¸¸å¤æ‚çš„è¯­å¥ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBlogDetails<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>detailedBlogResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select
       B.id as blog_id,
       B.title as blog_title,
       B.author_id as blog_author_id,
       A.id as author_id,
       A.username as author_username,
       A.password as author_password,
       A.email as author_email,
       A.bio as author_bio,
       A.favourite_section as author_favourite_section,
       P.id as post_id,
       P.blog_id as post_blog_id,
       P.author_id as post_author_id,
       P.created_on as post_created_on,
       P.section as post_section,
       P.subject as post_subject,
       P.draft as draft,
       P.body as post_body,
       C.id as comment_id,
       C.post_id as comment_post_id,
       C.name as comment_name,
       C.comment as comment_text,
       T.id as tag_id,
       T.name as tag_name
  from Blog B
       left outer join Author A on B.author_id = A.id
       left outer join Post P on B.id = P.blog_id
       left outer join Comment C on P.id = C.post_id
       left outer join Post_Tag PT on PT.post_id = P.id
       left outer join Tag T on PT.tag_id = T.id
  where B.id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ å¯èƒ½æƒ³æŠŠå®ƒæ˜ å°„åˆ°ä¸€ä¸ªæ™ºèƒ½çš„å¯¹è±¡æ¨¡å‹ï¼Œè¿™ä¸ªå¯¹è±¡è¡¨ç¤ºäº†ä¸€ç¯‡åšå®¢ï¼Œå®ƒç”±æŸä½ä½œè€…æ‰€å†™ï¼Œæœ‰å¾ˆå¤šçš„åšæ–‡ï¼Œæ¯ç¯‡åšæ–‡æœ‰é›¶æˆ–å¤šæ¡çš„è¯„è®ºå’Œæ ‡ç­¾ã€‚ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„ç»“æœæ˜ å°„ï¼ˆå‡è®¾ä½œè€…ï¼Œåšå®¢ï¼Œåšæ–‡ï¼Œè¯„è®ºå’Œæ ‡ç­¾éƒ½æ˜¯ç±»å‹åˆ«åï¼‰ã€‚ è™½ç„¶å®ƒçœ‹èµ·æ¥ä»¤äººæœ›è€Œç”Ÿç•ï¼Œä½†å…¶å®éå¸¸ç®€å•ã€‚ </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> éå¸¸å¤æ‚çš„ç»“æœæ˜ å°„ <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">&quot;detailedBlogResultMap&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;Blog&quot;</span><span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>constructor<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>idArg column<span class="token operator">=</span><span class="token string">&quot;blog_id&quot;</span> javaType<span class="token operator">=</span><span class="token string">&quot;int&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>constructor<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;title&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;blog_title&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>association property<span class="token operator">=</span><span class="token string">&quot;author&quot;</span> javaType<span class="token operator">=</span><span class="token string">&quot;Author&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;id&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_username&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_password&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;email&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_email&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;bio&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_bio&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;favouriteSection&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;author_favourite_section&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>association<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">&quot;posts&quot;</span> ofType<span class="token operator">=</span><span class="token string">&quot;Post&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;id&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;post_id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;subject&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;post_subject&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>association property<span class="token operator">=</span><span class="token string">&quot;author&quot;</span> javaType<span class="token operator">=</span><span class="token string">&quot;Author&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">&quot;comments&quot;</span> ofType<span class="token operator">=</span><span class="token string">&quot;Comment&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;id&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;comment_id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">&quot;tags&quot;</span> ofType<span class="token operator">=</span><span class="token string">&quot;Tag&quot;</span> <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;id&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;tag_id&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ ç°åœ¨å¯èƒ½çœ‹ä¸æ‡‚ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å­¦ä¹ å°†å¤šè¡¨æŸ¥è¯¢ç»“æœä½¿ç”¨ResultMapæ ‡ç­¾æ˜ å°„åˆ°å®ä½“ç±»å¯¹è±¡ä¸Šï¼</p><p><strong>æˆ‘ä»¬çš„å­¦ä¹ ç›®æ ‡ï¼š</strong></p><p>å¤šè¡¨æŸ¥è¯¢è¯­å¥å¤ä¹ </p><p>å¤šè¡¨ç»“æœæ‰¿æ¥å®ä½“ç±»è®¾è®¡</p><p>ä½¿ç”¨ResultMapå®Œæˆå¤šè¡¨ç»“æœæ˜ å°„</p></li><li><p><strong>å®ä½“ç±»è®¾è®¡æ–¹æ¡ˆ</strong></p><p>å¤šè¡¨å…³ç³»å›é¡¾ï¼šï¼ˆåŒå‘æŸ¥çœ‹ï¼‰</p><ul><li><p>ä¸€å¯¹ä¸€</p><p>å¤«å¦»å…³ç³»ï¼Œäººå’Œèº«ä»½è¯å·</p></li><li><p>ä¸€å¯¹å¤š</p><p>ç”¨æˆ·å’Œç”¨æˆ·çš„è®¢å•ï¼Œé”å’Œé’¥åŒ™</p></li><li><p>å¤šå¯¹å¤š</p><p>è€å¸ˆå’Œå­¦ç”Ÿï¼Œéƒ¨é—¨å’Œå‘˜å·¥ å®ä½“ç±»è®¾è®¡å…³ç³»ï¼šï¼ˆå•å‘æŸ¥çœ‹ï¼‰</p></li><li><p>å¯¹ä¸€ ï¼š å¤«å¦»ä¸€æ–¹å¯¹åº”å¦ä¸€æ–¹ï¼Œè®¢å•å¯¹åº”ç”¨æˆ·éƒ½æ˜¯å¯¹ä¸€å…³ç³»</p><p>å®ä½“ç±»è®¾è®¡ï¼šå¯¹ä¸€å…³ç³»ä¸‹ï¼Œç±»ä¸­åªè¦åŒ…å«å•ä¸ªå¯¹æ–¹å¯¹è±¡ç±»å‹å±æ€§å³å¯ï¼</p><p>ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> customerId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> customerName<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> orderId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> orderName<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Customer</span> customer<span class="token punctuation">;</span><span class="token comment">// ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</span>

<span class="token punctuation">}</span>  

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¯¹å¤š: ç”¨æˆ·å¯¹åº”çš„è®¢å•ï¼Œè®²å¸ˆå¯¹åº”çš„å­¦ç”Ÿæˆ–è€…å­¦ç”Ÿå¯¹åº”çš„è®²å¸ˆéƒ½æ˜¯å¯¹å¤šå…³ç³»ï¼š</p><p>å®ä½“ç±»è®¾è®¡ï¼šå¯¹å¤šå…³ç³»ä¸‹ï¼Œç±»ä¸­åªè¦åŒ…å«å¯¹æ–¹ç±»å‹é›†åˆå±æ€§å³å¯ï¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> customerId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> customerName<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orderList<span class="token punctuation">;</span><span class="token comment">// ä½“ç°çš„æ˜¯å¯¹å¤šçš„å…³ç³»</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> orderId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> orderName<span class="token punctuation">;</span>
  
  <span class="token keyword">private</span> <span class="token class-name">Customer</span> customer<span class="token punctuation">;</span><span class="token comment">// ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</span>
  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šè¡¨ç»“æœå®ä½“ç±»è®¾è®¡å°æŠ€å·§ï¼š</p><p>â€‹ å¯¹ä¸€ï¼Œå±æ€§ä¸­åŒ…å«å¯¹æ–¹å¯¹è±¡</p><p>â€‹ å¯¹å¤šï¼Œå±æ€§ä¸­åŒ…å«å¯¹æ–¹å¯¹è±¡é›†åˆ</p><p>â€‹ åªæœ‰çœŸå®å‘ç”Ÿå¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œæ‰éœ€è¦è®¾è®¡å’Œä¿®æ”¹å®ä½“ç±»ï¼Œå¦åˆ™ä¸æå‰è®¾è®¡å’Œä¿®æ”¹å®ä½“ç±»ï¼</p><p>â€‹ æ— è®ºå¤šå°‘å¼ è¡¨è”æŸ¥ï¼Œå®ä½“ç±»è®¾è®¡éƒ½æ˜¯ä¸¤ä¸¤è€ƒè™‘!</p><p>â€‹ åœ¨æŸ¥è¯¢æ˜ å°„çš„æ—¶å€™ï¼Œåªéœ€è¦å…³æ³¨æœ¬æ¬¡æŸ¥è¯¢ç›¸å…³çš„å±æ€§ï¼ä¾‹å¦‚ï¼šæŸ¥è¯¢è®¢å•å’Œå¯¹åº”çš„å®¢æˆ·ï¼Œå°±ä¸è¦å…³æ³¨å®¢æˆ·ä¸­çš„è®¢å•é›†åˆï¼</p></li></ul></li><li><p><strong>å¤šè¡¨æ˜ å°„æ¡ˆä¾‹å‡†å¤‡</strong></p><p>æ•°æ®åº“ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>t_customer<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>customer_name<span class="token punctuation">\`</span></span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>t_order<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span> <span class="token identifier"><span class="token punctuation">\`</span>order_id<span class="token punctuation">\`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>order_name<span class="token punctuation">\`</span></span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span> <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>order_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_customer<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>customer_name<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;c01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_order<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>order_name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;o1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_order<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>order_name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;o2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_order<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>order_name<span class="token punctuation">\`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">\`</span>customer_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;o3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…å¼€å‘æ—¶ï¼Œä¸€èˆ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ç»™æ•°æ®åº“è¡¨è®¾ç½®å¤–é”®çº¦æŸã€‚ åŸå› æ˜¯é¿å…è°ƒè¯•ä¸æ–¹ä¾¿ã€‚ ä¸€èˆ¬æ˜¯åŠŸèƒ½å¼€å‘å®Œæˆï¼Œå†åŠ å¤–é”®çº¦æŸæ£€æŸ¥æ˜¯å¦æœ‰bugã€‚</p><p>å®ä½“ç±»è®¾è®¡ï¼š</p><p>ç¨åä¼šè¿›è¡Œè®¢å•å…³è”å®¢æˆ·æŸ¥è¯¢ï¼Œä¹Ÿä¼šè¿›è¡Œå®¢æˆ·å…³è”è®¢å•æŸ¥è¯¢ï¼Œæ‰€ä»¥åœ¨è¿™å…ˆç»ƒä¹ è®¾è®¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> customerId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> customerName<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orderList<span class="token punctuation">;</span><span class="token comment">// ä½“ç°çš„æ˜¯å¯¹å¤šçš„å…³ç³»</span>
  
<span class="token punctuation">}</span>  

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">Integer</span> orderId<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> orderName<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Customer</span> customer<span class="token punctuation">;</span><span class="token comment">// ä½“ç°çš„æ˜¯å¯¹ä¸€çš„å…³ç³»</span>
  
<span class="token punctuation">}</span>  

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2-å¯¹ä¸€æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_2-å¯¹ä¸€æ˜ å°„" aria-hidden="true">#</a> 2. å¯¹ä¸€æ˜ å°„</h3><ol><li><p>éœ€æ±‚è¯´æ˜</p><p>æ ¹æ®IDæŸ¥è¯¢è®¢å•ï¼Œä»¥åŠè®¢å•å…³è”çš„ç”¨æˆ·çš„ä¿¡æ¯ï¼</p></li><li><p>OrderMapperæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderMapper</span> <span class="token punctuation">{</span>
  <span class="token class-name">Order</span> <span class="token function">selectOrderWithCustomer</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> orderId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>OrderMapper.xmlé…ç½®æ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- åˆ›å»ºresultMapå®ç°â€œå¯¹ä¸€â€å…³è”å…³ç³»æ˜ å°„ --&gt;</span>
<span class="token comment">&lt;!-- idå±æ€§ï¼šé€šå¸¸è®¾ç½®ä¸ºè¿™ä¸ªresultMapæ‰€æœåŠ¡çš„é‚£æ¡SQLè¯­å¥çš„idåŠ ä¸Šâ€œResultMapâ€ --&gt;</span>
<span class="token comment">&lt;!-- typeå±æ€§ï¼šè¦è®¾ç½®ä¸ºè¿™ä¸ªresultMapæ‰€æœåŠ¡çš„é‚£æ¡SQLè¯­å¥æœ€ç»ˆè¦è¿”å›çš„ç±»å‹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectOrderWithCustomerResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- å…ˆè®¾ç½®Orderè‡ªèº«å±æ€§å’Œå­—æ®µçš„å¯¹åº”å…³ç³» --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orderName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token comment">&lt;!-- ä½¿ç”¨associationæ ‡ç­¾é…ç½®â€œå¯¹ä¸€â€å…³è”å…³ç³» --&gt;</span>
  <span class="token comment">&lt;!-- propertyå±æ€§ï¼šåœ¨Orderç±»ä¸­å¯¹ä¸€çš„ä¸€ç«¯è¿›è¡Œå¼•ç”¨æ—¶ä½¿ç”¨çš„å±æ€§å --&gt;</span>
  <span class="token comment">&lt;!-- javaTypeå±æ€§ï¼šä¸€çš„ä¸€ç«¯ç±»çš„å…¨ç±»å --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- é…ç½®Customerç±»çš„å±æ€§å’Œå­—æ®µåä¹‹é—´çš„å¯¹åº”å…³ç³» --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customerId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customerName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Order selectOrderWithCustomer(Integer orderId); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectOrderWithCustomer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectOrderWithCustomerResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  SELECT order_id,order_name,c.customer_id,customer_name
  FROM t_order o
  LEFT JOIN t_customer c
  ON o.customer_id=c.customer_id
  WHERE o.order_id=#{orderId}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”å…³ç³»å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img018.6c3cfc17.png" alt=""></p></li><li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/OrderMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>junitæµ‹è¯•ç¨‹åº</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">SqlSession</span> session<span class="token punctuation">;</span>
    <span class="token comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•å‰æ‰§è¡Œ@BeforeEachæ–¹æ³•</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        session <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>
                        <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRelationshipToOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
      <span class="token class-name">OrderMapper</span> orderMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">OrderMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// æŸ¥è¯¢Orderå¯¹è±¡ï¼Œæ£€æŸ¥æ˜¯å¦åŒæ—¶æŸ¥è¯¢äº†å…³è”çš„Customerå¯¹è±¡</span>
      <span class="token class-name">Order</span> order <span class="token operator">=</span> orderMapper<span class="token punctuation">.</span><span class="token function">selectOrderWithCustomer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;order = &quot;</span> <span class="token operator">+</span> order<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">}</span>

    <span class="token comment">// junitä¼šåœ¨æ¯ä¸€ä¸ª@Testæ–¹æ³•åæ‰§è¡Œ@@AfterEachæ–¹æ³•</span>
    <span class="token annotation punctuation">@AfterEach</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å…³é”®è¯</p><p>åœ¨â€œå¯¹ä¸€â€å…³è”å…³ç³»ä¸­ï¼Œæˆ‘ä»¬çš„é…ç½®æ¯”è¾ƒå¤šï¼Œä½†æ˜¯å…³é”®è¯å°±åªæœ‰ï¼š<strong>association</strong>å’Œ<strong>javaType</strong></p></li></ol><h3 id="_3-å¯¹å¤šæ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_3-å¯¹å¤šæ˜ å°„" aria-hidden="true">#</a> 3. å¯¹å¤šæ˜ å°„</h3><ol><li><p>éœ€æ±‚è¯´æ˜</p><p>æŸ¥è¯¢å®¢æˆ·å’Œå®¢æˆ·å…³è”çš„è®¢å•ä¿¡æ¯ï¼</p></li><li><p>CustomerMapperæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CustomerMapper</span> <span class="token punctuation">{</span>

  <span class="token class-name">Customer</span> <span class="token function">selectCustomerWithOrderList</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> customerId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>CustomerMapper.xmlæ–‡ä»¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é…ç½®resultMapå®ç°ä»<span class="token class-name">Customer</span>åˆ°<span class="token class-name">OrderList</span>çš„â€œå¯¹å¤šâ€å…³è”å…³ç³» <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">&quot;selectCustomerWithOrderListResultMap&quot;</span>

  type<span class="token operator">=</span><span class="token string">&quot;customer&quot;</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ˜ å°„<span class="token class-name">Customer</span>æœ¬èº«çš„å±æ€§ <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>id column<span class="token operator">=</span><span class="token string">&quot;customer_id&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;customerId&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>result column<span class="token operator">=</span><span class="token string">&quot;customer_name&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;customerName&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> collectionæ ‡ç­¾ï¼šæ˜ å°„â€œå¯¹å¤šâ€çš„å…³è”å…³ç³» <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> propertyå±æ€§ï¼šåœ¨<span class="token class-name">Customer</span>ç±»ä¸­ï¼Œå…³è”â€œå¤šâ€çš„ä¸€ç«¯çš„å±æ€§å <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ofTypeå±æ€§ï¼šé›†åˆå±æ€§ä¸­å…ƒç´ çš„ç±»å‹ <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">&quot;orderList&quot;</span> ofType<span class="token operator">=</span><span class="token string">&quot;order&quot;</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> æ˜ å°„<span class="token class-name">Order</span>çš„å±æ€§ <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>id column<span class="token operator">=</span><span class="token string">&quot;order_id&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;orderId&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>result column<span class="token operator">=</span><span class="token string">&quot;order_name&quot;</span> property<span class="token operator">=</span><span class="token string">&quot;orderName&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Customer</span> <span class="token function">selectCustomerWithOrderList</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> customerId<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;selectCustomerWithOrderList&quot;</span> resultMap<span class="token operator">=</span><span class="token string">&quot;selectCustomerWithOrderListResultMap&quot;</span><span class="token operator">&gt;</span>
  <span class="token constant">SELECT</span> c<span class="token punctuation">.</span>customer_id<span class="token punctuation">,</span>c<span class="token punctuation">.</span>customer_name<span class="token punctuation">,</span>o<span class="token punctuation">.</span>order_id<span class="token punctuation">,</span>o<span class="token punctuation">.</span>order_name
  <span class="token constant">FROM</span> t_customer c
  <span class="token constant">LEFT</span> <span class="token constant">JOIN</span> t_order o
  <span class="token constant">ON</span> c<span class="token punctuation">.</span>customer_id<span class="token operator">=</span>o<span class="token punctuation">.</span>customer_id
  <span class="token constant">WHERE</span> c<span class="token punctuation">.</span>customer_id<span class="token operator">=</span>#<span class="token punctuation">{</span>customerId<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹åº”å…³ç³»å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img019.dba418c1.png" alt=""></p></li><li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/OrderMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/CustomerMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>junitæµ‹è¯•ç¨‹åº</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testRelationshipToMulti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token class-name">CustomerMapper</span> customerMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">CustomerMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span>
  <span class="token class-name">Customer</span> customer <span class="token operator">=</span> customerMapper<span class="token punctuation">.</span><span class="token function">selectCustomerWithOrderList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;customer.getCustomerId() = &quot;</span> <span class="token operator">+</span> customer<span class="token punctuation">.</span><span class="token function">getCustomerId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;customer.getCustomerName() = &quot;</span> <span class="token operator">+</span> customer<span class="token punctuation">.</span><span class="token function">getCustomerName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">&gt;</span></span> orderList <span class="token operator">=</span> customer<span class="token punctuation">.</span><span class="token function">getOrderList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Order</span> order <span class="token operator">:</span> orderList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;order = &quot;</span> <span class="token operator">+</span> order<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å…³é”®è¯</p><p>åœ¨â€œå¯¹å¤šâ€å…³è”å…³ç³»ä¸­ï¼ŒåŒæ ·æœ‰å¾ˆå¤šé…ç½®ï¼Œä½†æ˜¯æç‚¼å‡ºæ¥æœ€å…³é”®çš„å°±æ˜¯ï¼šâ€œcollectionâ€å’Œâ€œofTypeâ€</p></li></ol><h3 id="_4-å¤šå¯¹å¤šæ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_4-å¤šå¯¹å¤šæ˜ å°„" aria-hidden="true">#</a> 4. å¤šå¯¹å¤šæ˜ å°„</h3><p>å¤šå¯¹å¤šæ˜¯è¡¨å…³ç³»ï¼Œå®ä½“å…³ç³»å•å‘æ¥çœ‹å°±æ˜¯å¯¹å¤šï¼åªä¸è¿‡éœ€è¦ä¸‰è¡¨æŸ¥è¯¢ï¼ˆä¸­é—´è¡¨ï¼‰ï¼ï¼ï¼</p><p>å¤šå¯¹å¤šè¡¨å…³ç³»ç¤ºæ„å›¾ï¼š</p><p><img src="`+M+`" alt=""></p><p>å¤šå¯¹å¤šå…·ä½“ä¸šåŠ¡å®ç°ï¼š</p><ol><li><p>æ•°æ®åº“è„šæœ¬</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">--</span> åˆ›å»ºè®²å¸ˆè¡¨
<span class="token constant">CREATE</span> <span class="token class-name">TABLE</span> t_teacher <span class="token punctuation">(</span>
  t_id <span class="token constant">INT</span> <span class="token class-name">PRIMARY</span> <span class="token constant">KEY</span><span class="token punctuation">,</span>
  t_name <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span> åˆ›å»ºå­¦ç”Ÿè¡¨
<span class="token constant">CREATE</span> <span class="token class-name">TABLE</span> t_student <span class="token punctuation">(</span>
  s_id <span class="token constant">INT</span> <span class="token class-name">PRIMARY</span> <span class="token constant">KEY</span><span class="token punctuation">,</span>
  s_name <span class="token function">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span> åˆ›å»ºä¸­é—´è¡¨
<span class="token constant">CREATE</span> <span class="token class-name">TABLE</span> t_inner <span class="token punctuation">(</span>
  t_id <span class="token constant">INT</span><span class="token punctuation">,</span>
  s_id <span class="token constant">INT</span><span class="token punctuation">,</span>
  <span class="token class-name">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span>t_id<span class="token punctuation">,</span> s_id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span> å‘è®²å¸ˆè¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_teacher <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token char">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_teacher <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token char">&#39;æå››&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_teacher <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token char">&#39;ç‹äº”&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span> å‘å­¦ç”Ÿè¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_student <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token char">&#39;å°æ˜&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_student <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token char">&#39;å°çº¢&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_student <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token char">&#39;å°åˆš&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">--</span> å‘ä¸­é—´è¡¨ä¸­æ’å…¥æµ‹è¯•æ•°æ®
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_inner <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_inner <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_inner <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_inner <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_inner <span class="token constant">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æŸ¥è¯¢éœ€æ±‚åˆ†æ</p><p>æŸ¥è¯¢è®²å¸ˆä¿¡æ¯ï¼Œå¹¶ä¸”æŸ¥è¯¢æ¯åè®²å¸ˆå…³è”çš„å­¦ç”Ÿä¿¡æ¯ï¼</p></li><li><p>å®ä½“ç±»è®¾è®¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> tId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> tName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> students<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> sName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>TeacherMapperæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TeacherMapper</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAllTeachers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>TeacherMapperXMLæ–‡ä»¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">&quot;com.example.mapper.TeacherMapper&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">&quot;findAllTeachers&quot;</span> resultMap<span class="token operator">=</span><span class="token string">&quot;teacherMap&quot;</span><span class="token operator">&gt;</span>
        <span class="token constant">SELECT</span> t<span class="token punctuation">.</span>t_id<span class="token punctuation">,</span> t<span class="token punctuation">.</span>t_name<span class="token punctuation">,</span> s<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span> s<span class="token punctuation">.</span>s_name
        <span class="token constant">FROM</span> t_teacher t <span class="token constant">LEFT</span> <span class="token constant">OUTER</span> <span class="token constant">JOIN</span> t_inner i <span class="token constant">ON</span> t<span class="token punctuation">.</span>t_id <span class="token operator">=</span> i<span class="token punctuation">.</span>t_id
        <span class="token constant">LEFT</span> <span class="token constant">OUTER</span> <span class="token constant">JOIN</span> t_student s <span class="token constant">ON</span> i<span class="token punctuation">.</span>s_id <span class="token operator">=</span> s<span class="token punctuation">.</span>s_id
    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">&quot;teacherMap&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;teacher&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;tId&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;t_id&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;tName&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;t_name&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>collection property<span class="token operator">=</span><span class="token string">&quot;students&quot;</span> ofType<span class="token operator">=</span><span class="token string">&quot;student&quot;</span> <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">&quot;sId&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;s_id&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">&quot;sName&quot;</span> column<span class="token operator">=</span><span class="token string">&quot;s_name&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>collection<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Mybatiså…¨å±€æ³¨å†ŒMapperæ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- æ³¨å†ŒMapperé…ç½®æ–‡ä»¶ï¼šå‘Šè¯‰Mybatisæˆ‘ä»¬çš„Mapperé…ç½®æ–‡ä»¶çš„ä½ç½® --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- åœ¨mapperæ ‡ç­¾çš„resourceå±æ€§ä¸­æŒ‡å®šMapperé…ç½®æ–‡ä»¶ä»¥â€œç±»è·¯å¾„æ ¹ç›®å½•â€ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/OrderMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/CustomerMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappers/TeacherMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>junitæµ‹è¯•ç¨‹åº</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testTeacherRelationshipToMulti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">TeacherMapper</span> teacherMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">TeacherMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> allTeachers <span class="token operator">=</span> teacherMapper<span class="token punctuation">.</span><span class="token function">findAllTeachers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;allTeachers = &quot;</span> <span class="token operator">+</span> allTeachers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Teacher</span> teacher <span class="token operator">:</span> allTeachers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;teacher = &quot;</span> <span class="token operator">+</span> teacher<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;teacher.students = &quot;</span> <span class="token operator">+</span> teacher<span class="token punctuation">.</span><span class="token function">getStudents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_5-å¤šè¡¨æ˜ å°„æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_5-å¤šè¡¨æ˜ å°„æ€»ç»“" aria-hidden="true">#</a> 5. å¤šè¡¨æ˜ å°„æ€»ç»“</h3><h4 id="_5-1-å¤šè¡¨æ˜ å°„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_5-1-å¤šè¡¨æ˜ å°„ä¼˜åŒ–" aria-hidden="true">#</a> 5.1 å¤šè¡¨æ˜ å°„ä¼˜åŒ–</h4><table><thead><tr><th>settingå±æ€§</th><th>å±æ€§å«ä¹‰</th><th>å¯é€‰å€¼</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>autoMappingBehavior</td><td>æŒ‡å®š MyBatis åº”å¦‚ä½•è‡ªåŠ¨æ˜ å°„åˆ—åˆ°å­—æ®µæˆ–å±æ€§ã€‚ NONE è¡¨ç¤ºå…³é—­è‡ªåŠ¨æ˜ å°„ï¼›PARTIAL åªä¼šè‡ªåŠ¨æ˜ å°„æ²¡æœ‰å®šä¹‰åµŒå¥—ç»“æœæ˜ å°„çš„å­—æ®µã€‚ FULL ä¼šè‡ªåŠ¨æ˜ å°„ä»»ä½•å¤æ‚çš„ç»“æœé›†ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰ã€‚</td><td>NONE, PARTIAL, FULL</td><td>PARTIAL</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥å°†autoMappingBehaviorè®¾ç½®ä¸ºfull,è¿›è¡Œå¤šè¡¨resultMapæ˜ å°„çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥ç¬¦åˆåˆ—å’Œå±æ€§å‘½åæ˜ å°„è§„åˆ™ï¼ˆåˆ—å=å±æ€§åï¼Œæˆ–è€…å¼€å¯é©¼å³°æ˜ å°„ä¹Ÿå¯ä»¥è‡ªå®šæ˜ å°„ï¼‰çš„resultæ ‡ç­¾ï¼</p><p>ä¿®æ”¹mybati-sconfig.xml:</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--å¼€å¯resultMapè‡ªåŠ¨æ˜ å°„ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>autoMappingBehavior<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FULL<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹teacherMapper.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>teacherMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>teacher<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- å¼€å¯è‡ªåŠ¨æ˜ å°„,å¹¶ä¸”å¼€å¯é©¼å³°å¼æ”¯æŒ!å¯ä»¥çœç•¥ result!--&gt;</span>
<span class="token comment">&lt;!--        &lt;result property=&quot;tName&quot; column=&quot;t_name&quot; /&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>students<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>student<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>s_id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--            &lt;result property=&quot;sName&quot; column=&quot;s_name&quot; /&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-å¤šè¡¨æ˜ å°„æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_5-2-å¤šè¡¨æ˜ å°„æ€»ç»“" aria-hidden="true">#</a> 5.2 å¤šè¡¨æ˜ å°„æ€»ç»“</h4><table><thead><tr><th>å…³è”å…³ç³»</th><th>é…ç½®é¡¹å…³é”®è¯</th><th>æ‰€åœ¨é…ç½®æ–‡ä»¶å’Œå…·ä½“ä½ç½®</th></tr></thead><tbody><tr><td>å¯¹ä¸€</td><td>associationæ ‡ç­¾/javaTypeå±æ€§/propertyå±æ€§</td><td>Mapperé…ç½®æ–‡ä»¶ä¸­çš„resultMapæ ‡ç­¾å†…</td></tr><tr><td>å¯¹å¤š</td><td>collectionæ ‡ç­¾/ofTypeå±æ€§/propertyå±æ€§</td><td>Mapperé…ç½®æ–‡ä»¶ä¸­çš„resultMapæ ‡ç­¾å†…</td></tr></tbody></table><h2 id="äº”ã€mybatisåŠ¨æ€è¯­å¥" tabindex="-1"><a class="header-anchor" href="#äº”ã€mybatisåŠ¨æ€è¯­å¥" aria-hidden="true">#</a> äº”ã€MyBatisåŠ¨æ€è¯­å¥</h2><h3 id="_1-åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹" aria-hidden="true">#</a> 1. åŠ¨æ€è¯­å¥éœ€æ±‚å’Œç®€ä»‹</h3><p>ç»å¸¸é‡åˆ°å¾ˆå¤šæŒ‰ç…§å¾ˆå¤šæŸ¥è¯¢æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢çš„æƒ…å†µï¼Œæ¯”å¦‚æ™ºè”æ‹›è˜çš„èŒä½æœç´¢ç­‰ã€‚å…¶ä¸­ç»å¸¸å‡ºç°å¾ˆå¤šæ¡ä»¶ä¸å–å€¼çš„æƒ…å†µï¼Œåœ¨åå°åº”è¯¥å¦‚ä½•å®Œæˆæœ€ç»ˆçš„SQLè¯­å¥å‘¢ï¼Ÿ</p><p><img src="`+B+`" alt=""></p><p>åŠ¨æ€ SQL æ˜¯ MyBatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡ JDBC æˆ–å…¶å®ƒç±»ä¼¼çš„æ¡†æ¶ï¼Œä½ åº”è¯¥èƒ½ç†è§£æ ¹æ®ä¸åŒæ¡ä»¶æ‹¼æ¥ SQL è¯­å¥æœ‰å¤šç—›è‹¦ï¼Œä¾‹å¦‚æ‹¼æ¥æ—¶è¦ç¡®ä¿ä¸èƒ½å¿˜è®°æ·»åŠ å¿…è¦çš„ç©ºæ ¼ï¼Œè¿˜è¦æ³¨æ„å»æ‰åˆ—è¡¨æœ€åä¸€ä¸ªåˆ—åçš„é€—å·ã€‚åˆ©ç”¨åŠ¨æ€ SQLï¼Œå¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚</p><p>ä½¿ç”¨åŠ¨æ€ SQL å¹¶éä¸€ä»¶æ˜“äº‹ï¼Œä½†å€ŸåŠ©å¯ç”¨äºä»»ä½• SQL æ˜ å°„è¯­å¥ä¸­çš„å¼ºå¤§çš„åŠ¨æ€ SQL è¯­è¨€ï¼ŒMyBatis æ˜¾è‘—åœ°æå‡äº†è¿™ä¸€ç‰¹æ€§çš„æ˜“ç”¨æ€§ã€‚</p><p>å¦‚æœä½ ä¹‹å‰ç”¨è¿‡ JSTL æˆ–ä»»ä½•åŸºäºç±» XML è¯­è¨€çš„æ–‡æœ¬å¤„ç†å™¨ï¼Œä½ å¯¹åŠ¨æ€ SQL å…ƒç´ å¯èƒ½ä¼šæ„Ÿè§‰ä¼¼æ›¾ç›¸è¯†ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦èŠ±æ—¶é—´äº†è§£å¤§é‡çš„å…ƒç´ ã€‚å€ŸåŠ©åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼ï¼ŒMyBatis 3 æ›¿æ¢äº†ä¹‹å‰çš„å¤§éƒ¨åˆ†å…ƒç´ ï¼Œå¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨è¦å­¦ä¹ çš„å…ƒç´ ç§ç±»æ¯”åŸæ¥çš„ä¸€åŠè¿˜è¦å°‘ã€‚</p><h3 id="_2-ifå’Œwhereæ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_2-ifå’Œwhereæ ‡ç­¾" aria-hidden="true">#</a> 2. ifå’Œwhereæ ‡ç­¾</h3><p>ä½¿ç”¨åŠ¨æ€ SQL æœ€å¸¸è§æƒ…æ™¯æ˜¯æ ¹æ®æ¡ä»¶åŒ…å« where / if å­å¥çš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByCondition(Employee employee); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select emp_id,emp_name,emp_salary from t_emp
    <span class="token comment">&lt;!-- whereæ ‡ç­¾ä¼šè‡ªåŠ¨å»æ‰â€œæ ‡ç­¾ä½“å†…å‰é¢å¤šä½™çš„and/orâ€ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ä½¿ç”¨ifæ ‡ç­¾ï¼Œè®©æˆ‘ä»¬å¯ä»¥æœ‰é€‰æ‹©çš„åŠ å…¥SQLè¯­å¥çš„ç‰‡æ®µã€‚è¿™ä¸ªSQLè¯­å¥ç‰‡æ®µæ˜¯å¦è¦åŠ å…¥æ•´ä¸ªSQLè¯­å¥ï¼Œå°±çœ‹ifæ ‡ç­¾åˆ¤æ–­çš„ç»“æœæ˜¯å¦ä¸ºtrue --&gt;</span>
        <span class="token comment">&lt;!-- åœ¨ifæ ‡ç­¾çš„testå±æ€§ä¸­ï¼Œå¯ä»¥è®¿é—®å®ä½“ç±»çš„å±æ€§ï¼Œä¸å¯ä»¥è®¿é—®æ•°æ®åº“è¡¨çš„å­—æ®µ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- åœ¨ifæ ‡ç­¾å†…éƒ¨ï¼Œéœ€è¦è®¿é—®æ¥å£çš„å‚æ•°æ—¶è¿˜æ˜¯æ­£å¸¸å†™#{} --&gt;</span>
            or emp_name=#{empName}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empSalary <span class="token entity named-entity" title="&gt;">&amp;gt;</span> 2000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            or emp_salary&gt;#{empSalary}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ WHERE emp_name=? or emp_salary&gt;?
         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ WHERE emp_salary&gt;?
         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ æ²¡æœ‰whereå­å¥
         --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-setæ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_3-setæ ‡ç­¾" aria-hidden="true">#</a> 3. setæ ‡ç­¾</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- void updateEmployeeDynamic(Employee employee) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmployeeDynamic<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    update t_emp
    <span class="token comment">&lt;!-- set emp_name=#{empName},emp_salary=#{empSalary} --&gt;</span>
    <span class="token comment">&lt;!-- ä½¿ç”¨setæ ‡ç­¾åŠ¨æ€ç®¡ç†setå­å¥ï¼Œå¹¶ä¸”åŠ¨æ€å»æ‰ä¸¤ç«¯å¤šä½™çš„é€—å· --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_name=#{empName},
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empSalary <span class="token entity named-entity" title="&lt;">&amp;lt;</span> 3000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_salary=#{empSalary},
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    where emp_id=#{empId}
    <span class="token comment">&lt;!--
         ç¬¬ä¸€ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ SET emp_name=?, emp_salary=?
         ç¬¬äºŒç§æƒ…å†µï¼šéƒ¨åˆ†æ¡ä»¶æ»¡è¶³ SET emp_salary=?
         ç¬¬ä¸‰ç§æƒ…å†µï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ update t_emp where emp_id=?
            æ²¡æœ‰setå­å¥çš„updateè¯­å¥ä¼šå¯¼è‡´SQLè¯­æ³•é”™è¯¯
     --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-trimæ ‡ç­¾-äº†è§£" tabindex="-1"><a class="header-anchor" href="#_4-trimæ ‡ç­¾-äº†è§£" aria-hidden="true">#</a> 4. trimæ ‡ç­¾(äº†è§£)</h3><p>ä½¿ç”¨trimæ ‡ç­¾æ§åˆ¶æ¡ä»¶éƒ¨åˆ†ä¸¤ç«¯æ˜¯å¦åŒ…å«æŸäº›å­—ç¬¦</p><ul><li>prefixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€</li><li>suffixå±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€</li><li>prefixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li><li>suffixOverrideså±æ€§ï¼šæŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByTrim(Employee employee) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByConditionByTrim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select emp_id,emp_name,emp_age,emp_salary,emp_gender
    from t_emp
    
    <span class="token comment">&lt;!-- prefixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„å‰ç¼€ --&gt;</span>
    <span class="token comment">&lt;!-- suffixå±æ€§æŒ‡å®šè¦åŠ¨æ€æ·»åŠ çš„åç¼€ --&gt;</span>
    <span class="token comment">&lt;!-- prefixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„å‰ç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span>
    <span class="token comment">&lt;!-- suffixOverrideså±æ€§æŒ‡å®šè¦åŠ¨æ€å»æ‰çš„åç¼€ï¼Œä½¿ç”¨â€œ|â€åˆ†éš”æœ‰å¯èƒ½çš„å¤šä¸ªå€¼ --&gt;</span>
    <span class="token comment">&lt;!-- å½“å‰ä¾‹å­ç”¨whereæ ‡ç­¾å®ç°æ›´ç®€æ´ï¼Œä½†æ˜¯trimæ ‡ç­¾æ›´çµæ´»ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•æœ‰éœ€è¦çš„åœ°æ–¹ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where<span class="token punctuation">&quot;</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and|or<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_name=#{empName} and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empSalary <span class="token entity named-entity" title="&gt;">&amp;gt;</span> 3000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_salary&gt;#{empSalary} and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAge <span class="token entity named-entity" title="&lt;">&amp;lt;</span>= 20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_age=#{empAge} or
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empGender==&#39;male&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            emp_gender=#{empGender}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-choose-when-otherwiseæ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_5-choose-when-otherwiseæ ‡ç­¾" aria-hidden="true">#</a> 5. choose/when/otherwiseæ ‡ç­¾</h3><p>åœ¨å¤šä¸ªåˆ†æ”¯æ¡ä»¶ä¸­ï¼Œä»…æ‰§è¡Œä¸€ä¸ªã€‚</p><ul><li>ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œæ¡ä»¶åˆ¤æ–­</li><li>é‡åˆ°çš„ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†æ”¯ä¼šè¢«é‡‡çº³</li><li>è¢«é‡‡çº³åˆ†æ”¯åé¢çš„åˆ†æ”¯éƒ½å°†ä¸è¢«è€ƒè™‘</li><li>å¦‚æœæ‰€æœ‰çš„whenåˆ†æ”¯éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œotherwiseåˆ†æ”¯</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByChoose(Employee employee) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectEmployeeByConditionByChoose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select emp_id,emp_name,emp_salary from t_emp
    where
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>emp_name=#{empName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empSalary <span class="token entity named-entity" title="&lt;">&amp;lt;</span> 3000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>emp_salary <span class="token entity named-entity" title="&lt;">&amp;lt;</span> 3000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>1=1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!--
     ç¬¬ä¸€ç§æƒ…å†µï¼šç¬¬ä¸€ä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_name=?
     ç¬¬äºŒç§æƒ…å†µï¼šç¬¬äºŒä¸ªwhenæ»¡è¶³æ¡ä»¶ where emp_salary &lt; 3000
     ç¬¬ä¸‰ç§æƒ…å†µï¼šä¸¤ä¸ªwhenéƒ½ä¸æ»¡è¶³ where 1=1 æ‰§è¡Œäº†otherwise
     --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-foreachæ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_6-foreachæ ‡ç­¾" aria-hidden="true">#</a> 6. foreachæ ‡ç­¾</h3><p><strong>åŸºæœ¬ç”¨æ³•</strong></p><p>ç”¨æ‰¹é‡æ’å…¥ä¸¾ä¾‹</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--
    collectionå±æ€§ï¼šè¦éå†çš„é›†åˆ
    itemå±æ€§ï¼šéå†é›†åˆçš„è¿‡ç¨‹ä¸­èƒ½å¾—åˆ°æ¯ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œåœ¨itemå±æ€§ä¸­è®¾ç½®ä¸€ä¸ªåå­—ï¼Œå°†æ¥é€šè¿‡è¿™ä¸ªåå­—å¼•ç”¨éå†å‡ºæ¥çš„å¯¹è±¡
    separatorå±æ€§ï¼šæŒ‡å®šå½“foreachæ ‡ç­¾çš„æ ‡ç­¾ä½“é‡å¤æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œå„ä¸ªæ ‡ç­¾ä½“å­—ç¬¦ä¸²ä¹‹é—´çš„åˆ†éš”ç¬¦
    openå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„å‰é¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²
    closeå±æ€§ï¼šæŒ‡å®šæ•´ä¸ªå¾ªç¯æŠŠå­—ç¬¦ä¸²æ‹¼å¥½åï¼Œå­—ç¬¦ä¸²æ•´ä½“çš„åé¢è¦æ·»åŠ çš„å­—ç¬¦ä¸²
    indexå±æ€§ï¼šè¿™é‡Œèµ·ä¸€ä¸ªåå­—ï¼Œä¾¿äºåé¢å¼•ç”¨
        éå†Listé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Listé›†åˆçš„ç´¢å¼•å€¼
        éå†Mapé›†åˆï¼Œè¿™é‡Œèƒ½å¤Ÿå¾—åˆ°Mapé›†åˆçš„key
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>values<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myIndex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- åœ¨foreachæ ‡ç­¾å†…éƒ¨å¦‚æœéœ€è¦å¼•ç”¨éå†å¾—åˆ°çš„å…·ä½“çš„ä¸€ä¸ªå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨itemå±æ€§å£°æ˜çš„åç§° --&gt;</span>
    (#{emp.empName},#{myIndex},#{emp.empSalary},#{emp.empGender})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ‰¹é‡æ›´æ–°æ—¶éœ€è¦æ³¨æ„</strong></p><p>ä¸Šé¢æ‰¹é‡æ’å…¥çš„ä¾‹å­æœ¬è´¨ä¸Šæ˜¯ä¸€æ¡SQLè¯­å¥ï¼Œè€Œå®ç°æ‰¹é‡æ›´æ–°åˆ™éœ€è¦å¤šæ¡SQLè¯­å¥æ‹¼èµ·æ¥ï¼Œç”¨åˆ†å·åˆ†å¼€ã€‚ä¹Ÿå°±æ˜¯ä¸€æ¬¡æ€§å‘é€å¤šæ¡SQLè¯­å¥è®©æ•°æ®åº“æ‰§è¡Œã€‚æ­¤æ—¶éœ€è¦åœ¨æ•°æ®åº“è¿æ¥ä¿¡æ¯çš„URLåœ°å€ä¸­è®¾ç½®ï¼š</p><div class="language-.properties line-numbers-mode" data-ext=".properties"><pre class="language-.properties"><code>atguigu.dev.url=jdbc:mysql:///mybatis-example?allowMultiQueries=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯¹åº”çš„foreachæ ‡ç­¾å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- int updateEmployeeBatch(@Param(&quot;empList&quot;) List&lt;Employee&gt; empList) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmployeeBatch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        update t_emp set emp_name=#{emp.empName} where emp_id=#{emp.empId}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…³äºforeachæ ‡ç­¾çš„collectionå±æ€§</strong></p><p>å¦‚æœæ²¡æœ‰ç»™æ¥å£ä¸­Listç±»å‹çš„å‚æ•°ä½¿ç”¨@Paramæ³¨è§£æŒ‡å®šä¸€ä¸ªå…·ä½“çš„åå­—ï¼Œé‚£ä¹ˆåœ¨collectionå±æ€§ä¸­é»˜è®¤å¯ä»¥ä½¿ç”¨collectionæˆ–listæ¥å¼•ç”¨è¿™ä¸ªlisté›†åˆã€‚è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡å¼‚å¸¸ä¿¡æ¯çœ‹å‡ºæ¥ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>Parameter &#39;empList&#39; not found. Available parameters are [arg0, collection, list]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸ºäº†é¿å…éšæ™¦çš„è¡¨è¾¾é€ æˆä¸€å®šçš„è¯¯ä¼šï¼Œå»ºè®®ä½¿ç”¨@Paramæ³¨è§£æ˜ç¡®å£°æ˜å˜é‡çš„åç§°ï¼Œç„¶ååœ¨foreachæ ‡ç­¾çš„collectionå±æ€§ä¸­æŒ‰ç…§@Paramæ³¨è§£æŒ‡å®šçš„åç§°æ¥å¼•ç”¨ä¼ å…¥çš„å‚æ•°ã€‚</p><h3 id="_7-sqlç‰‡æ®µ" tabindex="-1"><a class="header-anchor" href="#_7-sqlç‰‡æ®µ" aria-hidden="true">#</a> 7. sqlç‰‡æ®µ</h3><p><strong>æŠ½å–é‡å¤çš„SQLç‰‡æ®µ</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ä½¿ç”¨sqlæ ‡ç­¾æŠ½å–é‡å¤å‡ºç°çš„SQLç‰‡æ®µ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mySelectSql<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select emp_id,emp_name,emp_age,emp_salary,emp_gender from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼•ç”¨å·²æŠ½å–çš„SQLç‰‡æ®µ</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- ä½¿ç”¨includeæ ‡ç­¾å¼•ç”¨å£°æ˜çš„SQLç‰‡æ®µ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mySelectSql<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…­ã€mybatisé«˜çº§æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#å…­ã€mybatisé«˜çº§æ‰©å±•" aria-hidden="true">#</a> å…­ã€MyBatisé«˜çº§æ‰©å±•</h2><h3 id="_1-mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–" aria-hidden="true">#</a> 1. Mapperæ‰¹é‡æ˜ å°„ä¼˜åŒ–</h3><ol><li><p>éœ€æ±‚</p><p>Mapper é…ç½®æ–‡ä»¶å¾ˆå¤šæ—¶ï¼Œåœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­ä¸€ä¸ªä¸€ä¸ªæ³¨å†Œå¤ªéº»çƒ¦ï¼Œå¸Œæœ›æœ‰ä¸€ä¸ªåŠæ³•èƒ½å¤Ÿä¸€åŠ³æ°¸é€¸ã€‚</p></li><li><p>é…ç½®æ–¹å¼</p><p>Mybatis å…è®¸åœ¨æŒ‡å®š Mapper æ˜ å°„æ–‡ä»¶æ—¶ï¼ŒåªæŒ‡å®šå…¶æ‰€åœ¨çš„åŒ…ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶è¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ Mapper é…ç½®æ–‡ä»¶å°†è¢«è‡ªåŠ¨åŠ è½½ã€æ³¨å†Œï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p></li><li><p>èµ„æºåˆ›å»ºè¦æ±‚</p></li></ol><ul><li>Mapper æ¥å£å’Œ Mapper é…ç½®æ–‡ä»¶åç§°ä¸€è‡´ <ul><li>Mapper æ¥å£ï¼šEmployeeMapper.java</li><li>Mapper é…ç½®æ–‡ä»¶ï¼šEmployeeMapper.xml</li></ul></li><li>Mapper é…ç½®æ–‡ä»¶æ”¾åœ¨ Mapper æ¥å£æ‰€åœ¨çš„åŒ…å†… <ul><li><p>å¯ä»¥å°†mapperxmlæ–‡ä»¶æ”¾åœ¨mapperæ¥å£æ‰€åœ¨çš„åŒ…ï¼</p></li><li><p>å¯ä»¥åœ¨sourcesä¸‹åˆ›å»ºmapperæ¥å£åŒ…ä¸€è‡´çš„æ–‡ä»¶å¤¹ç»“æ„å­˜æ”¾mapperxmlæ–‡ä»¶</p><p><img src="`+x+'" alt=""></p><p><img src="'+S+'" alt=""></p></li></ul></li></ul><h3 id="_2-æ’ä»¶å’Œåˆ†é¡µæ’ä»¶pagehelper" tabindex="-1"><a class="header-anchor" href="#_2-æ’ä»¶å’Œåˆ†é¡µæ’ä»¶pagehelper" aria-hidden="true">#</a> 2. æ’ä»¶å’Œåˆ†é¡µæ’ä»¶PageHelper</h3><h4 id="_2-1-æ’ä»¶æœºåˆ¶å’Œpagehelperæ’ä»¶ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-1-æ’ä»¶æœºåˆ¶å’Œpagehelperæ’ä»¶ä»‹ç»" aria-hidden="true">#</a> 2.1 æ’ä»¶æœºåˆ¶å’ŒPageHelperæ’ä»¶ä»‹ç»</h4><p>MyBatis å¯¹æ’ä»¶è¿›è¡Œäº†æ ‡å‡†åŒ–çš„è®¾è®¡ï¼Œå¹¶æä¾›äº†ä¸€å¥—å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ã€‚æ’ä»¶å¯ä»¥åœ¨ç”¨äºè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œæ‹¦æˆªï¼Œå¹¶å…è®¸é€šè¿‡è‡ªå®šä¹‰å¤„ç†ç¨‹åºæ¥æ‹¦æˆªå’Œä¿®æ”¹ SQL è¯­å¥ã€æ˜ å°„è¯­å¥çš„ç»“æœç­‰ã€‚</p><p>å…·ä½“æ¥è¯´ï¼ŒMyBatis çš„æ’ä»¶æœºåˆ¶åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªç»„ä»¶ï¼š</p><ol><li><code>Interceptor</code>ï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼šå®šä¹‰ä¸€ä¸ªæ‹¦æˆªæ–¹æ³• <code>intercept</code>ï¼Œè¯¥æ–¹æ³•åœ¨æ‰§è¡Œ SQL è¯­å¥ã€æ‰§è¡ŒæŸ¥è¯¢ã€æŸ¥è¯¢ç»“æœçš„æ˜ å°„æ—¶ä¼šè¢«è°ƒç”¨ã€‚</li><li><code>Invocation</code>ï¼ˆè°ƒç”¨ï¼‰ï¼šå®é™…ä¸Šæ˜¯å¯¹è¢«æ‹¦æˆªçš„æ–¹æ³•çš„å°è£…ï¼Œå°è£…äº† <code>Object target</code>ã€<code>Method method</code> å’Œ <code>Object[] args</code> è¿™ä¸‰ä¸ªå­—æ®µã€‚</li><li><code>InterceptorChain</code>ï¼ˆæ‹¦æˆªå™¨é“¾ï¼‰ï¼šå¯¹æ‰€æœ‰çš„æ‹¦æˆªå™¨è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬å°†æ‰€æœ‰çš„ Interceptor é“¾æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶åœ¨æ‰§è¡Œ SQL è¯­å¥æ—¶æŒ‰é¡ºåºè°ƒç”¨ã€‚</li></ol><p>æ’ä»¶çš„å¼€å‘éå¸¸ç®€å•ï¼Œåªéœ€è¦å®ç° Interceptor æ¥å£ï¼Œå¹¶ä½¿ç”¨æ³¨è§£ <code>@Intercepts</code> æ¥æ ‡æ³¨éœ€è¦æ‹¦æˆªçš„å¯¹è±¡å’Œæ–¹æ³•ï¼Œç„¶ååœ¨ MyBatis çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ’ä»¶å³å¯ã€‚</p><p>PageHelper æ˜¯ MyBatis ä¸­æ¯”è¾ƒè‘—åçš„åˆ†é¡µæ’ä»¶ï¼Œå®ƒæä¾›äº†å¤šç§åˆ†é¡µæ–¹å¼ï¼ˆä¾‹å¦‚ MySQL å’Œ Oracle åˆ†é¡µæ–¹å¼ï¼‰ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¹¶ä¸”ä½¿ç”¨éå¸¸ç®€å•ã€‚ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹ PageHelper çš„ä½¿ç”¨æ–¹å¼ã€‚</p>',129),$={href:"https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md#%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%B9%E8%A8%80",target:"_blank",rel:"noopener noreferrer"},nn=e(`<h4 id="_2-2-pagehelperæ’ä»¶ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-2-pagehelperæ’ä»¶ä½¿ç”¨" aria-hidden="true">#</a> 2.2 PageHelperæ’ä»¶ä½¿ç”¨</h4><ol><li><p>pom.xmlå¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>mybatis-config.xmlé…ç½®åˆ†é¡µæ’ä»¶</p><p>åœ¨ MyBatis çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  PageHelper çš„æ’ä»¶ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.github.pagehelper.PageInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>helperDialect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mysql<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œ<code>com.github.pagehelper.PageInterceptor</code> æ˜¯ PageHelper æ’ä»¶çš„åç§°ï¼Œ<code>dialect</code> å±æ€§ç”¨äºæŒ‡å®šæ•°æ®åº“ç±»å‹ï¼ˆæ”¯æŒå¤šç§æ•°æ®åº“ï¼‰</p></li><li><p>é¡µæ’ä»¶ä½¿ç”¨</p><p>åœ¨æŸ¥è¯¢æ–¹æ³•ä¸­ä½¿ç”¨åˆ†é¡µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testTeacherRelationshipToMulti</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">TeacherMapper</span> teacherMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">TeacherMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">PageHelper</span><span class="token punctuation">.</span><span class="token function">startPage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æŸ¥è¯¢Customerå¯¹è±¡åŒæ—¶å°†å…³è”çš„Orderé›†åˆæŸ¥è¯¢å‡ºæ¥</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> allTeachers <span class="token operator">=</span> teacherMapper<span class="token punctuation">.</span><span class="token function">findAllTeachers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//</span>
    <span class="token class-name">PageInfo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> pageInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageInfo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>allTeachers<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pageInfo = &quot;</span> <span class="token operator">+</span> pageInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> total <span class="token operator">=</span> pageInfo<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ€»è®°å½•æ•°</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;total = &quot;</span> <span class="token operator">+</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> pages <span class="token operator">=</span> pageInfo<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·å–æ€»é¡µæ•°</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pages = &quot;</span> <span class="token operator">+</span> pages<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> pageNum <span class="token operator">=</span> pageInfo<span class="token punctuation">.</span><span class="token function">getPageNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–å½“å‰é¡µç </span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pageNum = &quot;</span> <span class="token operator">+</span> pageNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> pageSize <span class="token operator">=</span> pageInfo<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pageSize = &quot;</span> <span class="token operator">+</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Teacher</span><span class="token punctuation">&gt;</span></span> teachers <span class="token operator">=</span> pageInfo<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–æŸ¥è¯¢é¡µçš„æ•°æ®é›†åˆ</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;teachers = &quot;</span> <span class="token operator">+</span> teachers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    teachers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_3-é€†å‘å·¥ç¨‹å’Œmybatisxæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-é€†å‘å·¥ç¨‹å’Œmybatisxæ’ä»¶" aria-hidden="true">#</a> 3. é€†å‘å·¥ç¨‹å’ŒMybatisXæ’ä»¶</h3><h4 id="_3-1-ormæ€ç»´ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_3-1-ormæ€ç»´ä»‹ç»" aria-hidden="true">#</a> 3.1 ORMæ€ç»´ä»‹ç»</h4><p>ORMï¼ˆObject-Relational Mappingï¼Œå¯¹è±¡-å…³ç³»æ˜ å°„ï¼‰æ˜¯ä¸€ç§å°†æ•°æ®åº“å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„å¯¹è±¡ä¹‹é—´è¿›è¡Œè½¬æ¢çš„æŠ€æœ¯ã€‚å®ƒå°†å¯¹è±¡å’Œå…³ç³»æ•°æ®åº“çš„æ¦‚å¿µè¿›è¡Œæ˜ å°„ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„æ“ä½œå°†å¯¹è±¡å…³è”åˆ°æ•°æ®è¡¨ä¸­çš„ä¸€è¡Œæˆ–å¤šè¡Œä¸Šã€‚</p><p>è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡æ€ç»´è¿›è¡Œæ•°æ®åº“æ“ä½œï¼ï¼ï¼</p><p><strong>ORM æ¡†æ¶é€šå¸¸æœ‰åŠè‡ªåŠ¨å’Œå…¨è‡ªåŠ¨ä¸¤ç§æ–¹å¼ã€‚</strong></p><ul><li>åŠè‡ªåŠ¨ ORM é€šå¸¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œå°†å®ä½“ç±»å’Œæ•°æ®è¡¨è¿›è¡Œæ˜ å°„ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨å°†æŸ¥è¯¢çš„ç»“æœé›†è½¬æ¢æˆå®ä½“å¯¹è±¡ã€‚</li><li>å…¨è‡ªåŠ¨ ORM åˆ™æ˜¯å°†å®ä½“ç±»å’Œæ•°æ®è¡¨è¿›è¡Œè‡ªåŠ¨æ˜ å°„ï¼Œä½¿ç”¨ API è¿›è¡Œæ•°æ®åº“æ“ä½œæ—¶ï¼ŒORM æ¡†æ¶ä¼šè‡ªåŠ¨æ‰§è¡Œ SQL è¯­å¥å¹¶å°†æŸ¥è¯¢ç»“æœè½¬æ¢æˆå®ä½“å¯¹è±¡ï¼Œç¨‹åºå‘˜æ— éœ€å†æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å’Œè½¬æ¢ä»£ç ã€‚</li></ul><p><strong>ä¸‹é¢æ˜¯åŠè‡ªåŠ¨å’Œå…¨è‡ªåŠ¨ ORM æ¡†æ¶çš„åŒºåˆ«ï¼š</strong></p><ol><li>æ˜ å°„æ–¹å¼ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨æŒ‡å®šå®ä½“ç±»å’Œæ•°æ®è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œé€šå¸¸ä½¿ç”¨ XML æ–‡ä»¶æˆ–æ³¨è§£æ–¹å¼æ¥æŒ‡å®šï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶åˆ™å¯ä»¥è‡ªåŠ¨è¿›è¡Œå®ä½“ç±»å’Œæ•°æ®è¡¨çš„æ˜ å°„ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</li><li>æŸ¥è¯¢æ–¹å¼ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶é€šå¸¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å¹¶å°†æŸ¥è¯¢ç»“æœé›†è½¬æ¢æˆå®ä½“å¯¹è±¡ï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶å¯ä»¥è‡ªåŠ¨ç»„è£… SQL è¯­å¥ã€æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœè½¬æ¢æˆå®ä½“å¯¹è±¡ã€‚</li><li>æ€§èƒ½ï¼šç”±äºåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥ï¼Œå› æ­¤ç¨‹åºå‘˜å¿…é¡»å¯¹ SQL è¯­å¥å’Œæ•°æ®åº“çš„åº•å±‚çŸ¥è¯†æœ‰ä¸€å®šçš„äº†è§£ï¼Œæ‰èƒ½ç¼–å†™é«˜æ•ˆçš„ SQL è¯­å¥ï¼›è€Œå…¨è‡ªåŠ¨ ORM æ¡†æ¶é€šè¿‡è‡ªåŠ¨ä¼˜åŒ–ç”Ÿæˆçš„ SQL è¯­å¥æ¥æé«˜æ€§èƒ½ï¼Œç¨‹åºå‘˜æ— éœ€è¿›è¡Œä¼˜åŒ–ã€‚</li><li>å­¦ä¹ æˆæœ¬ï¼šåŠè‡ªåŠ¨ ORM æ¡†æ¶éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ SQL è¯­å¥å’Œæ˜ å°„é…ç½®ï¼Œè¦æ±‚ç¨‹åºå‘˜å…·å¤‡è¾ƒé«˜çš„æ•°æ®åº“å’Œ SQL çŸ¥è¯†ï¼›å…¨è‡ªåŠ¨ ORM æ¡†æ¶å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ SQL è¯­å¥å’Œæ˜ å°„é…ç½®ï¼Œç¨‹åºå‘˜æ— éœ€äº†è§£è¿‡å¤šçš„æ•°æ®åº“å’Œ SQL çŸ¥è¯†ã€‚</li></ol><p>å¸¸è§çš„åŠè‡ªåŠ¨ ORM æ¡†æ¶åŒ…æ‹¬ MyBatis ç­‰ï¼›å¸¸è§çš„å…¨è‡ªåŠ¨ ORM æ¡†æ¶åŒ…æ‹¬ Hibernateã€Spring Data JPAã€MyBatis-Plus ç­‰ã€‚</p><h4 id="_3-1-é€†å‘å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-1-é€†å‘å·¥ç¨‹" aria-hidden="true">#</a> 3.1 é€†å‘å·¥ç¨‹</h4><p> MyBatis çš„é€†å‘å·¥ç¨‹æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–ç”ŸæˆæŒä¹…å±‚ä»£ç å’Œæ˜ å°„æ–‡ä»¶çš„å·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„å’Œè®¾ç½®çš„å‚æ•°ç”Ÿæˆå¯¹åº”çš„å®ä½“ç±»ã€Mapper.xml æ–‡ä»¶ã€Mapper æ¥å£ç­‰ä»£ç æ–‡ä»¶ï¼Œç®€åŒ–äº†å¼€å‘è€…æ‰‹åŠ¨ç”Ÿæˆçš„è¿‡ç¨‹ã€‚é€†å‘å·¥ç¨‹ä½¿å¼€å‘è€…å¯ä»¥å¿«é€Ÿåœ°æ„å»ºèµ· DAO å±‚ï¼Œå¹¶å¿«é€Ÿä¸Šæ‰‹è¿›è¡Œä¸šåŠ¡å¼€å‘ã€‚ MyBatis çš„é€†å‘å·¥ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼šé€šè¿‡ MyBatis Generator æ’ä»¶å®ç°å’Œé€šè¿‡ Maven æ’ä»¶å®ç°ã€‚æ— è®ºæ˜¯å“ªç§æ–¹å¼ï¼Œé€†å‘å·¥ç¨‹ä¸€èˆ¬éœ€è¦æŒ‡å®šä¸€äº›é…ç½®å‚æ•°ï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥ URLã€ç”¨æˆ·åã€å¯†ç ã€è¦ç”Ÿæˆçš„è¡¨åã€ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„ç­‰ç­‰ã€‚ æ€»çš„æ¥è¯´ï¼ŒMyBatis çš„é€†å‘å·¥ç¨‹ä¸ºç¨‹åºå‘˜æä¾›äº†ä¸€ç§æ–¹ä¾¿å¿«æ·çš„æ–¹å¼ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°ç”ŸæˆæŒä¹…å±‚ä»£ç å’Œæ˜ å°„æ–‡ä»¶ï¼Œæ˜¯åŠè‡ªåŠ¨ ORM æ€ç»´åƒå…¨è‡ªåŠ¨å‘å±•çš„è¿‡ç¨‹ï¼Œæé«˜ç¨‹åºå‘˜çš„å¼€å‘æ•ˆç‡ã€‚</p><p><strong>æ³¨æ„ï¼šé€†å‘å·¥ç¨‹åªèƒ½ç”Ÿæˆå•è¡¨crudçš„æ“ä½œï¼Œå¤šè¡¨æŸ¥è¯¢ä¾ç„¶éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™ï¼</strong></p><h4 id="_3-2-é€†å‘å·¥ç¨‹æ’ä»¶mybatisxä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-2-é€†å‘å·¥ç¨‹æ’ä»¶mybatisxä½¿ç”¨" aria-hidden="true">#</a> 3.2 é€†å‘å·¥ç¨‹æ’ä»¶MyBatisXä½¿ç”¨</h4><p> MyBatisX æ˜¯ä¸€ä¸ª MyBatis çš„ä»£ç ç”Ÿæˆæ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®å’Œæ“ä½œå¿«é€Ÿç”Ÿæˆ MyBatis Mapperã€pojo ç±»å’Œ Mapper.xml æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ MyBatisX æ’ä»¶å®ç°é€†å‘å·¥ç¨‹çš„æ­¥éª¤ï¼š</p><ol><li><p>å®‰è£…æ’ä»¶ï¼š</p><p>åœ¨ IntelliJ IDEA ä¸­æ‰“å¼€æ’ä»¶å¸‚åœºï¼Œæœç´¢ MyBatisX å¹¶å®‰è£…ã€‚</p></li><li><p>ä½¿ç”¨ IntelliJ IDEAè¿æ¥æ•°æ®åº“</p><ul><li><p>è¿æ¥æ•°æ®åº“</p><p><img src="`+w+'" alt=""></p></li><li><p>å¡«å†™ä¿¡æ¯</p><p><img src="'+T+'" alt=""></p></li><li><p>å±•ç¤ºåº“è¡¨</p><p><img src="'+L+'" alt=""></p></li><li><p>é€†å‘å·¥ç¨‹ä½¿ç”¨</p><p><img src="'+I+'" alt=""></p><p><img src="'+j+'" alt=""></p><p><img src="'+C+'" alt=""></p></li></ul></li><li><p>æŸ¥çœ‹ç”Ÿæˆç»“æœ</p><p><img src="'+N+`" alt=""></p></li><li><p>é€†å‘å·¥ç¨‹æ¡ˆä¾‹ä½¿ç”¨</p><p>æ­£å¸¸ä½¿ç”¨å³å¯ï¼Œè‡ªåŠ¨ç”Ÿæˆå•è¡¨çš„crudæ–¹æ³•ï¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* <span class="token keyword">@author</span> Jackiechan
* <span class="token keyword">@description</span> é’ˆå¯¹è¡¨ã€userã€‘çš„æ•°æ®åº“æ“ä½œMapper
* <span class="token keyword">@createDate</span> 2023-06-02 16:55:32
* @Entity com.atguigu.pojo.User
*/</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> <span class="token function">deleteByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> record<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">insertSelective</span><span class="token punctuation">(</span><span class="token class-name">User</span> record<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> <span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token class-name">User</span> record<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">User</span> record<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="ä¸ƒã€mybatisæ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€mybatisæ€»ç»“" aria-hidden="true">#</a> ä¸ƒã€MyBatisæ€»ç»“</h2><p><img src="http://heavy_code_industry.gitee.io/code_heavy_industry/assets/img/img014.4d03b574.png" alt=""></p><ul><li>Mybatisç¯å¢ƒæ‰€éœ€ä¾èµ– â˜…</li><li>é…ç½® <ul><li>Mybatiså…¨å±€é…ç½®</li><li>Mapperé…ç½® â˜…</li></ul></li><li>Mapperæ¥å£ â˜…</li><li>API <ul><li>SqlSessionFactory</li><li>SqlSession</li></ul></li><li>é€†å‘å·¥ç¨‹ </li><li>åˆ†é¡µæ’ä»¶</li></ul>`,20);function sn(an,tn){const a=o("ExternalLinkIcon");return l(),c("div",null,[O,n("p",null,[n("a",D,[s("https://mybatis.org/mybatis-3/zh/index.html"),t(a)])]),P,n("ul",null,[n("li",null,[s("configurationï¼ˆé…ç½®ï¼‰ "),n("ul",null,[n("li",null,[n("a",U,[s("propertiesï¼ˆå±æ€§ï¼‰"),t(a)])]),n("li",null,[n("a",F,[s("settingsï¼ˆè®¾ç½®ï¼‰"),t(a)])]),n("li",null,[n("a",Q,[s("typeAliasesï¼ˆç±»å‹åˆ«åï¼‰"),t(a)])]),n("li",null,[n("a",J,[s("typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰"),t(a)])]),n("li",null,[n("a",H,[s("objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰"),t(a)])]),n("li",null,[n("a",G,[s("pluginsï¼ˆæ’ä»¶ï¼‰"),t(a)])]),n("li",null,[n("a",V,[s("environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰"),t(a)]),X]),n("li",null,[n("a",z,[s("databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰"),t(a)])]),n("li",null,[n("a",K,[s("mappersï¼ˆæ˜ å°„å™¨ï¼‰"),t(a)])])])])]),W,n("p",null,[n("a",Y,[s("https://mybatis.org/mybatis-3/zh/configuration.html#typeAliases"),t(a)])]),Z,n("p",null,[n("a",$,[s("https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md#å¦‚ä½•é…ç½®æ•°æ®åº“æ–¹è¨€"),t(a)])]),nn])}const pn=p(R,[["render",sn],["__file","04_MyBatisæŒä¹…å±‚æ¡†æ¶.html.vue"]]);export{pn as default};
