import{_ as s,o as a,c as e,d as t,e as n}from"./app-8007fa1b.js";const p="/assets/img0106-548290be.png",c="/assets/img0107-6603365c.png",o="/assets/img0108-99818a5a.png",i="/assets/img0051-cbd10a62.png",l="/assets/img0111-72f91901.png",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQsAAABRCAIAAABKVRQgAAAJVElEQVR42u2dX2wURRzHp4qCbQ0ouav/Ii2hQA6rJgYj+qCmqNAXMKEvoPaJP/piWqVRE33xQVOxfUTxqYq8QFKNyR2oDfEFEo2JWDDIkRZfBO5CUhJL1CB1d2b/zJ+d2W07d7d3fD9Pe3t7szPT32fmN3u33abZ2VkCANDQBEMAMABDADABQwAwYceQsW9/CLablyxes3JF+wP31rppAFjAviGMXGfHmo4Hq9aMwu6mngMbhs+d6O/UHFEceXL1wEmyKz/76eZKnDyq5LBWhJ7dWEGQTmRDrl69umjRopaWFn7nzMzM9evXly5dqitFNUTHi88/XYlmWDOERTsJi/I+x4j+NAxpZGRDDh06ND093dfXF0ji6DE6Orps2bLt27frSmkIQ3gX/KKKYWSf13mQpFYwpG6RDWE+OBtMEumlrpR5GhLE37tnVwcjN4tEfhj3B3YKF6JBSO/K50mPEIveUcXwhWxIWCZnw761J948y8VyUVOY2CZxDjHUKmyppnWVyAHBwohYhwRWbNu27ciRIyROD7JQQzZsOHnSH7u5bS+KeD0YLI7U/ckNkT+raCcYEvWChzfEWCt1v9Q6GJI+olfqTJJyuZzJZGL1IAs0hPARTORwJjSE/LgsBK/W7uP2h7sTGcKHNN1PwrAXPSgqkW02pLDbVCvfALkVECPFaK9lOZLk8/menp5YPYjekJhVhxCNQq4SvBCSHu4To6RPCeSkhqxSB/QwRtWZIohnmiGF1hJxHghL1tZKeYO1AoKkmUpd7WU4hjxb+EPaeXzzCm8rgSFeNPpBJJmjDspiLHJlKoZols3aXEp/NUA2RFsrfto6qbYCpJHUG7JZsw4pJsvs5eMjVwt8hEqGFEZGVvUHtYuOZdVDpVZEN21hHZJ20m8I0V7LKgRXvfK9h3vCsPb378qfW/u+5lqW9msO2RDu1LqLtdGVFWrlz2zDXQMD0qUsviYwJH1U/HdZJkMahMLcvykBdQMMWTBFfBvYyMCQBVEQr2rVujrAPvj1+4JQfsYFGg0YAoAJGAKACRgCgAkYAoAJGAKAiVoagrvbQfpJiyGMZHe3F3Y3fbXV+yHJ4V73Oqu7dfZdfKcN7GPHkOre3Q5DQPWwY0h17273DQn3wBBQKewYUtW722EIqCLW1iHVu7tdyLKYF2yL/uMEegR+ZwtsYXOlXqW72zWGhHezuj+WInAEWMHytSwrd7erJJtDhP9XgqQLWCFdV3t1wBBQKxrHkIEu/gbbLmRZwAqNY8jZrl0HDmChDiyD32UBYAKGAGAChgBgAoYAYAKGAGCiafXe47WuAwDpBYYAYAKGAGCiXg35cNNitvHW0X9uWXxr5rH7/r5y7e2Ov4Kdta4gaBDq3pAPplqXLG8u//znjX/+47WpdQVBg1BjQ+6/a8l7WzvfOfz7lb/+ndMHUzWH3JjNfPJR5tjeM183NVXzvJVt1D3t3w5kvh/+cd+lem2UlSbU2JDlrbeP7n7E2ej79NScJEnVHAJD5lhsewfdHv/y+GunhMJpT67rdjdnPos6NTtg5fhPm47NKAXKH2kEQ8h8JcEcElellsG961d+J4dgrWvlxjehYtx4JFfcQQa5TmN13jjhRr/u3Z3Z0vhEdmXJM0Qu8LlrL3409ZvVv0LtDSHzkgRzSFyVUmuI11F0u32SG+DpkN+833tXW/8tLz/zamAIZwX9SI4ctDzppcIQh857Wr7pX39sovz6wTNJjp/rHOL9Pb4sb9zhzsjO/L6HrCvuyDpvTY3/9PxREoxehOt3sunxsW52s2RpMPy7sjSA7b7gHHaaZHWG8MdP0dxALIEvtn1yfGZnd1Y8Ut4ZWaa0c/L781MbV3XLNVRPyqLwDNmxrpsexo++QryKqdGeX1r57sq9sH6sq+ye5d4OQwbFcA4eJr95s8TD5TVflMMzint4E3iMhghSGZrgzjnG5gekwpAqzCFeALFweZS6MXHG+WMEnTjm7PT72vkbvPDr8T2XO4L+5Qsh/t/eOWyozWRIRNIs7glyiTEWwWGV3Ox56KJupzf0BjGx55escqIwXPQnbWV5y2Ck20HPOIe9ksl/TqMw+KzfXadpIbQOEYepxbo6eYNOqHf4VvbC3AyhcT8Zpm1Z3syYJhibH1B7Q6qzDuHn9MjtIPLohhvuXtRy6z8p0w1eBoaMhUO1+6mhtnVSZiyXIIQ4H/dutqDIQHe2eVNfgDsHXlohn4g3RHvSVn7QlVbJQ0QYILjILvlK0+6KP0wq01s6S8MNmdcc4n2KdUjpwmeXM+S76LQtqm6tSRLRm+VaVqwhzjZLAAZIjh/J/AViRMSrhshziLJ2jApWvQw6Q5T1aMSJYgxh5ZtCJByAae5EWOLHxRyLVKe7vKyJDufqYXyZ5lnCnDIF6MxRV4PmJtSHIVX7PiSJIW7fvdQ8SVomD3ovB9um9p2SkxnCZbE7SXyW5R+fGdx0behos5zwhI4lM+RiVsz0cuRzb6gWT0RMWZaYIMUYwuWfdBieGQwye767uPjmD1PKlOcQms2yBLJVtZqubYQrtrFzS5iR+vNbZBPqw5B5U4k5hHBLCzbcui+76OfpYoDwc7qTNjhr6K5rMSv1cIEYudYXV+oJDPFMVhbE6om8pCJ+pR5niJevuzunJkqki/CXm3Ze9nvGm2zlw+Riww70V8y8Nmp3Kd9pCOsQ/qTj/OJENCSqCTeLIXa/D9GNT5FU6AJ8StBlSnWElSbUvSEWvw+Za4c2tiHBNdz6bZ2VJtSrIdZhCZXuKn4kjWqInwjFXAZNMxabAEMAMAFDADCB/+QAgAkYAoAJGAKACRgCgIlaGvLx6SvB9p233fJE5o6H715S6w4BQMCaIdPT0/l8fsuWLUmePsXgDWE81dbseFLrPgEgxP6TPpM8wZChGqLjjYeW16h/wM2O/Sd9ksSSwBCQfuw/6TO5JDAEpB/7K/VSqbR///5cLtfb22s+ct6GsIdD0032QDbueeobhs+d6O+kT4xmj2zzdgAwL+pwDol40q34PHWqxwTEADaox3UImx/4uUGUxnn//bXwA1ihfq9lsXmDeQJDQKVI1/chOqQsa+R8f7//5HQqhpR4uZMM8VKuwsjIqn7IAuZLWr5TNyPNIeEy3Ft6KEuTcC2PZ6uDBYHfZQFgAoYAYAKGAGAChgBgAoYAYAKGAGDif9Tfl1cQW3oDAAAAAElFTkSuQmCC",r="/assets/img0109-ea152146.png",d="/assets/img0110-ea803049.png",k="/assets/img0053-b5153109.png",m="/assets/img0054-ec3661ad.png",v="data:image/png;base64,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",b="/assets/img0112-8cab6d42.png",h="data:image/png;base64,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",g="data:image/png;base64,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",y="data:image/png;base64,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",w="/assets/img0116-a1e7a4fa.png",S={},f=n('<h1 id="一、jdbc概述" tabindex="-1"><a class="header-anchor" href="#一、jdbc概述" aria-hidden="true">#</a> 一、JDBC概述</h1><h2 id="_1、应用程序结构" tabindex="-1"><a class="header-anchor" href="#_1、应用程序结构" aria-hidden="true">#</a> 1、应用程序结构</h2><p>『三层架构』：</p><ul><li><strong>表述层</strong>（表示层、表现层）：负责对接浏览器（由Servlet负责实现） <ul><li>控制层：Servlet负责接收请求、处理请求、请求处理完成后跳转页面</li><li>视图层：通过HTML、CSS、JavaScript、Vue等技术给用户展示网页操作界面</li></ul></li><li><strong>业务逻辑层</strong>：负责处理业务逻辑（由Service负责实现） <ul><li>获取数据</li><li>组装数据</li><li>根据业务逻辑需求计算数据</li></ul></li><li><strong>持久化层</strong>：负责对接数据库，执行数据库的读写操作（由Dao负责实现）</li></ul><br><h2 id="_2、jdbc解决的问题" tabindex="-1"><a class="header-anchor" href="#_2、jdbc解决的问题" aria-hidden="true">#</a> 2、JDBC解决的问题</h2><p>Java面对的数据库有很多不同选择：</p><ul><li>MySQL</li><li>Oracle</li><li>DB2</li><li>SQLServer</li><li>……</li></ul><br><p>每个具体数据库产品连接方式都不一样，如果每连接一个数据库，都单独编写代码，会有两个问题：</p><ul><li>增加了程序员的学习成本</li><li>导致代码不可迁移</li></ul><br><p>所以为了屏蔽这个层面的差异，Java官方设定了JDBC这样一套标准。各个数据库厂商基于标准提供具体连接方式。<br> 这样一来，程序员就可以按照相同的方式来对接不同数据库，降低了学习成本、提高了开发效率。</p><br><p>具体到代码层面：</p><ul><li>JDBC标准体现为<strong>一组接口</strong></li><li>各个数据库厂商为这一套接口提供的实现，我们称之为：<strong>数据库驱动</strong><ul><li>例如：MySQL数据库的驱动是mysql-connector-java-8.0.19.jar</li></ul></li></ul><br><p>什么是jar包？<br></p><blockquote><p>jar包本质上是一个压缩包。里面存放的是一整套xxx.class字节码文件。<br> 这些字节码文件当然是Java源文件编译得到的。<br> 在我们的程序中引入jar包，那么相当于我们的工程中就有了这些xxx.class字节码文件。<br> 于是我们就可以在自己的工程中，使用xxx.class字节码文件里面的类。</p></blockquote><br><p>如何导入jar包？<br><img src="'+p+'" alt="img.png"></p><br><p><img src="'+c+'" alt="img.png"></p><br><p><img src="'+o+'" alt="img.png"></p><h2 id="_3、面向接口编程" tabindex="-1"><a class="header-anchor" href="#_3、面向接口编程" aria-hidden="true">#</a> 3、面向接口编程</h2><ul><li>JDBC标准的具体体现就是一组接口。</li><li>各个数据库厂商提供的数据库驱动是这一组接口的具体实现。</li><li>只要接口不变，不管实现层怎么调整，上层代码都不需要改变。</li><li>让上层和下层代码得到了充分的解耦</li></ul><br><p><img src="'+i+'" alt="images"></p><br><p><img src="'+l+'" alt="img.png"></p><br><h1 id="二、jdbc-连接-mysql" tabindex="-1"><a class="header-anchor" href="#二、jdbc-连接-mysql" aria-hidden="true">#</a> 二、JDBC 连接 MySQL</h1><h2 id="_1、导入-jar-包" tabindex="-1"><a class="header-anchor" href="#_1、导入-jar-包" aria-hidden="true">#</a> 1、导入 jar 包</h2><p><img src="'+u+`" alt="images"></p><h2 id="_2、编写代码" tabindex="-1"><a class="header-anchor" href="#_2、编写代码" aria-hidden="true">#</a> 2、编写代码</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01Connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 1、加载 MySQL 驱动类：驱动类会在底层做一个操作，叫做『注册驱动』  </span>
    <span class="token comment">// 反射机制加载全类名，底层会通过类加载器把 xxx.class 文件加载到内存  </span>
    <span class="token comment">// 此时会执行类中的静态代码块  </span>
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 2、准备连接数据库需要使用的详细参数  </span>
    <span class="token comment">// [1]连接数据库时使用的 URL 地址  </span>
    <span class="token comment">// 协议名称://MySQL数据库的 IP 地址:MySQL数据库的端口号  </span>
    <span class="token comment">// MySQL8需要我们在这个连接地址后附带时区信息  </span>
    <span class="token comment">// 如果没有附加时区信息，会抛出异常  </span>
    <span class="token comment">// java.sql.SQLException: The server time zone value &#39;�й���׼ʱ��&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the &#39;serverTimezone&#39; configuration property) to use a more specifc time zone value if you want to utilize time zone support.  </span>
    <span class="token class-name">String</span> jdbcUrl <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db_hr?serverTimezone=Asia/Shanghai&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// [2]连接数据库时使用的用户名  </span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// [3]连接数据库时使用的密码  </span>
    <span class="token class-name">String</span> userPwd <span class="token operator">=</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 3、通过驱动管理器类创建数据库连接  </span>
    <span class="token comment">// java.sql.Connection 是 JDBC 标准中定义的一个接口  </span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>jdbcUrl<span class="token punctuation">,</span> username<span class="token punctuation">,</span> userPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;connection = &quot;</span> <span class="token operator">+</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 4、像使用 I/O 流一样，数据库连接对象用完也需要关闭  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>如何理解注册驱动这个操作？<br></p><p><img src="`+r+`" alt="img.png"></p><h2 id="_3、借助junit注解抽取代码" tabindex="-1"><a class="header-anchor" href="#_3、借助junit注解抽取代码" aria-hidden="true">#</a> 3、借助junit注解抽取代码</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 把数据库连接对象声明为成员变量，这样各个方法都可以使用  </span>
<span class="token keyword">private</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">;</span>  
  
<span class="token comment">// 在每一个 @Test 方法前执行  </span>
<span class="token annotation punctuation">@Before</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>  
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">String</span> jdbcUrl <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db_hr?serverTimezone=Asia/Shanghai&quot;</span><span class="token punctuation">;</span>  
    <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>  
    <span class="token class-name">String</span> userPwd <span class="token operator">=</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">;</span>  
    connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>jdbcUrl<span class="token punctuation">,</span> username<span class="token punctuation">,</span> userPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// 在每一个 @Test 方法后执行  </span>
<span class="token annotation punctuation">@After</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三、具体操作" tabindex="-1"><a class="header-anchor" href="#三、具体操作" aria-hidden="true">#</a> 三、具体操作</h1><h2 id="_1、建库建表" tabindex="-1"><a class="header-anchor" href="#_1、建库建表" aria-hidden="true">#</a> 1、建库建表</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> db_hr<span class="token punctuation">;</span>

<span class="token keyword">use</span> db_hr<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t_emp<span class="token punctuation">(</span>
    emp_id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    emp_name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    emp_salary <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>  
    user_id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>  
    user_name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    user_pwd <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>  
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2、增删改" tabindex="-1"><a class="header-anchor" href="#_2、增删改" aria-hidden="true">#</a> 2、增删改</h2><h3 id="_1api选择" tabindex="-1"><a class="header-anchor" href="#_1api选择" aria-hidden="true">#</a> ①API选择</h3><ul><li>Statement：SQL语句的参数只能通过拼字符串的方式传入。 <ul><li>编写代码非常繁琐、容易错</li><li>有 SQL 注入的风险</li></ul></li><li>PreparedStatement：能够执行预编译 SQL 语句。SQL 语句的参数通过“?占位符”方式传入。 <ul><li>防止 SQL 注入</li><li>避免拼接 SQL 语句字符串出错</li></ul></li></ul><h3 id="_2测试-statement" tabindex="-1"><a class="header-anchor" href="#_2测试-statement" aria-hidden="true">#</a> ②测试：Statement</h3><p>执行SQL语句：参数写死</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token variable">@Test</span>  
<span class="token keyword">public</span> void test02Insert<span class="token punctuation">(</span><span class="token punctuation">)</span> throws SQLException {  
    <span class="token comment">// 1、编写 SQL 语句  </span>
    String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">&quot;insert into t_employee(emp_name, emp_salary, emp_gender) VALUES(&#39;jdbc name01&#39;, 1111, &#39;male&#39;)&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 2、创建 Statement 对象  </span>
    <span class="token comment">// java.sql.Statement 是 JDBC 标准中定义的一个接口  </span>
    Statement statement <span class="token operator">=</span> connection<span class="token punctuation">.</span>createStatement<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 3、调用 Statement 对象的方法执行 SQL 语句  </span>
    <span class="token comment">// 返回值是受影响的行数  </span>
    <span class="token keyword">int</span> effectedRows <span class="token operator">=</span> statement<span class="token punctuation">.</span>executeUpdate<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span><span class="token string">&quot;effectedRows = &quot;</span> <span class="token operator">+</span> effectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>  
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行SQL语句：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02Statement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>  
  
    <span class="token class-name">String</span> empName <span class="token operator">=</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">;</span>  
    <span class="token class-name">Double</span> empSalary <span class="token operator">=</span> <span class="token number">25.37d</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 1、编写 SQL 语句  </span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_emp(emp_name,emp_salary) values(&#39;&quot;</span><span class="token operator">+</span>empName<span class="token operator">+</span><span class="token string">&quot;&#39;,&#39;&quot;</span><span class="token operator">+</span>empSalary<span class="token operator">+</span><span class="token string">&quot;&#39;)&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 2、创建 Statement 对象  </span>
    <span class="token class-name">Statement</span> statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 3、执行 SQL 语句  </span>
    <span class="token keyword">boolean</span> executeResult <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;executeResult = &quot;</span> <span class="token operator">+</span> executeResult<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>SQL注入：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token variable">@Test</span>  
<span class="token keyword">public</span> void test03SQLInjection<span class="token punctuation">(</span><span class="token punctuation">)</span> throws SQLException {  
    String userName <span class="token operator">=</span> <span class="token string">&quot;harry&quot;</span><span class="token punctuation">;</span>  
      
    <span class="token comment">// 刻意拼接 SQL 字符串，让 SQL 原本的查询条件失效  </span>
    String userPassword <span class="token operator">=</span> <span class="token string">&quot;&#39; or &#39;1&#39;=&#39;1&quot;</span><span class="token punctuation">;</span>  
    <span class="token comment">// &quot;select user_id, user_name, user_pwd from t_user where user_name=&#39;harry&#39; and user_pwd=&#39;&#39; or &#39;1&#39;=&#39;1&#39;&quot;  </span>
    String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">&quot;select user_id, user_name, user_pwd from t_user where user_name=&#39;&quot;</span><span class="token operator">+</span>userName<span class="token operator">+</span><span class="token string">&quot;&#39; and user_pwd=&#39;&quot;</span><span class="token operator">+</span>userPassword<span class="token operator">+</span><span class="token string">&quot;&#39;&quot;</span><span class="token punctuation">;</span>  
      
    Statement statement <span class="token operator">=</span> connection<span class="token punctuation">.</span>createStatement<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      
    statement<span class="token punctuation">.</span><span class="token keyword">execute</span><span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      
    ResultSet resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span>getResultSet<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      
    <span class="token keyword">boolean</span> <span class="token keyword">next</span> <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token keyword">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span><span class="token keyword">next</span>?<span class="token string">&quot;登录成功&quot;</span>:<span class="token string">&quot;登录失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3测试-preparedstatement" tabindex="-1"><a class="header-anchor" href="#_3测试-preparedstatement" aria-hidden="true">#</a> ③测试：PreparedStatement</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01OperationUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token comment">// update、delete、insert语句的Java代码都是下面套路：</span>
    <span class="token comment">// 1、SQL 字符串</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_emp(emp_name, emp_salary) values(?,?)&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、通过 Connection 对象获取 PreparedStatement 对象</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、准备 SQL 语句所需参数</span>
    <span class="token class-name">String</span> empName <span class="token operator">=</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">Double</span> empSalary <span class="token operator">=</span> <span class="token number">2255.33d</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、给 SQL 语句设置参数</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> empName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> empSalary<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 5、执行 SQL 语句</span>
    <span class="token keyword">int</span> effectedRows <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;effectedRows = &quot;</span> <span class="token operator">+</span> effectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>PreparedStatement不怕 SQL 注入：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04SQLInjection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>  
    <span class="token class-name">String</span> userName <span class="token operator">=</span> <span class="token string">&quot;harry&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token comment">// 即使刻意拼接，也会被视作一个整体字符串，无法实现 SQL 注入  </span>
    <span class="token class-name">String</span> userPassword <span class="token operator">=</span> <span class="token string">&quot;&#39; or &#39;1&#39;=&#39;1&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select user_id, user_name, user_pwd from t_user where user_name=? and user_pwd=?&quot;</span><span class="token punctuation">;</span>  
  
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> userName<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> userPassword<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
    <span class="token keyword">boolean</span> next <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>next<span class="token operator">?</span><span class="token string">&quot;登录成功&quot;</span><span class="token operator">:</span><span class="token string">&quot;登录失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3、查询" tabindex="-1"><a class="header-anchor" href="#_3、查询" aria-hidden="true">#</a> 3、查询</h2><br><p><img src="`+d+`" alt="img.png"></p><br><ul><li>每一次调用 next() 方法都会向下移动指针</li><li>指针指向的新的位置： <ul><li>有数据：next()方法返回true</li><li>无数据：next()方法返回false</li></ul></li></ul><br><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02OperationQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、SQL 字符串</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select emp_id, emp_name, emp_salary from t_emp where emp_id=?&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、准备 SQL 语句的参数</span>
    <span class="token class-name">Integer</span> empId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、获取 PreparedStatement 对象</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、给 SQL 语句设置参数</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> empId<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 5、执行 SQL 语句</span>
    <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 6、解析结果集</span>
    <span class="token comment">// next()方法：移动指针，指向查询结果中的下一条记录。初始状态下，位于第一条记录前面。</span>
    <span class="token comment">// 所以第一次调用 next() 方法就指向了第一条记录。</span>
    <span class="token comment">// 如果指针移动后指向的位置存在查询结果记录，返回 true，否则返回 false</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// getXxx(&quot;字段名&quot;) 返回当前记录中指定字段名的数据</span>
        <span class="token keyword">int</span> empIdFromDB <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;emp_id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> empName <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;emp_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> empSalary <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">&quot;emp_salary&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;empIdFromDB = &quot;</span> <span class="token operator">+</span> empIdFromDB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;empName = &quot;</span> <span class="token operator">+</span> empName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;empSalary = &quot;</span> <span class="token operator">+</span> empSalary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4、获取自增主键" tabindex="-1"><a class="header-anchor" href="#_4、获取自增主键" aria-hidden="true">#</a> 4、获取自增主键</h2><h3 id="_1应用场景" tabindex="-1"><a class="header-anchor" href="#_1应用场景" aria-hidden="true">#</a> ①应用场景</h3><p>在订单功能中，有两个表：</p><ul><li>t_order：订单表 <ul><li>order_id：本表的主键</li></ul></li><li>t_order_item：订单详情表 <ul><li>item_id：本表的主键</li><li>item_name：商品名称</li><li>item_price：商品价格</li><li>item_count：商品数量</li><li>order_id：指向当前详情所在订单的外键</li></ul></li></ul><br><p>对t_order_item表执行insert操作：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 保存订单详情时，必须指定它所在的订单的主键值</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_order_item<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> order_id<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><br><p>所以必须能够获取到保存订单时数据库表自增的主键值。</p><h3 id="_2代码实现" tabindex="-1"><a class="header-anchor" href="#_2代码实现" aria-hidden="true">#</a> ②代码实现</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03OperationAutoIncr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、SQL 字符串</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_emp(emp_name, emp_salary) values(?,?)&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、通过 Connection 对象获取 PreparedStatement 对象</span>
    <span class="token comment">// ※想要拿到自增主键需要在获取 PreparedStatement 对象时多指定一个参数</span>
    <span class="token comment">// PreparedStatement.RETURN_GENERATED_KEYS 是 Statement 接口定义的一个常量</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token class-name">PreparedStatement</span><span class="token punctuation">.</span><span class="token constant">RETURN_GENERATED_KEYS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、准备 SQL 语句所需参数</span>
    <span class="token class-name">String</span> empName <span class="token operator">=</span> <span class="token string">&quot;jerry&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">Double</span> empSalary <span class="token operator">=</span> <span class="token number">6699.33d</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、给 SQL 语句设置参数</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> empName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> empSalary<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 5、执行 SQL 语句</span>
    <span class="token keyword">int</span> effectedRows <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;effectedRows = &quot;</span> <span class="token operator">+</span> effectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 6、获取自增主键所在的结果集</span>
    <span class="token class-name">ResultSet</span> generatedKeysResultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">getGeneratedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 7、解析结果集获取自增主键</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>generatedKeysResultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 从结果集中读取自增主键值（不能使用字段名称，只能使用索引）</span>
        <span class="token keyword">int</span> empId <span class="token operator">=</span> generatedKeysResultSet<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;自增主键值：empId = &quot;</span> <span class="token operator">+</span> empId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5、批量增删改" tabindex="-1"><a class="header-anchor" href="#_5、批量增删改" aria-hidden="true">#</a> 5、批量增删改</h2><h3 id="_1为什么需要批量操作" tabindex="-1"><a class="header-anchor" href="#_1为什么需要批量操作" aria-hidden="true">#</a> ①为什么需要批量操作</h3><p>假设今天中午你想吃五个菜：</p><ul><li>方式一：在美团外卖上每点一个菜单独下单，外卖小哥送五次。多费很多时间，多在路上。</li><li>方式二：在美团外卖五个菜下一个订单</li></ul><p>所以我们JDBC和数据库交互也一样，如果一个功能需要执行很多条 SQL 语句，那么最好一次性发送给数据库， 而不是一条一条单独发送给数据库。</p><h3 id="_2实现代码" tabindex="-1"><a class="header-anchor" href="#_2实现代码" aria-hidden="true">#</a> ②实现代码</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04OperationUseBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、使用 insert 操作举例</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_emp(emp_name, emp_salary) values(?,?)&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、获取 PreparedStatement</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、设置参数并且执行</span>
    <span class="token keyword">long</span> beginTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span>i<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 先不执行 SQL 语句，而是积攒到一起</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4、全部收集完成后，一起执行</span>
    <span class="token comment">// 再给连接数据库的 URL 地址后面附加一个参数：?rewriteBatchedStatements=true</span>
    <span class="token comment">// 表示开启批量执行 SQL 语句功能，把多条 SQL 语句编译为一条执行</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">long</span> endTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">long</span> usedTime <span class="token operator">=</span> endTime <span class="token operator">-</span> beginTime<span class="token punctuation">;</span>
    <span class="token comment">// 11346ms（没有加rewriteBatchedStatements参数，和逐条执行效果一样）</span>
    <span class="token comment">// 262ms（加rewriteBatchedStatements参数之后，体现出了批量操作的威力）</span>
    <span class="token comment">// 11685ms（把insert语句中values改成value，也会导致批量操作失效）</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;usedTime = &quot;</span> <span class="token operator">+</span> usedTime <span class="token operator">+</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6、保存二进制文件到blob-了解" tabindex="-1"><a class="header-anchor" href="#_6、保存二进制文件到blob-了解" aria-hidden="true">#</a> 6、保存二进制文件到BLOB [了解]</h2><h3 id="_1blob概念" tabindex="-1"><a class="header-anchor" href="#_1blob概念" aria-hidden="true">#</a> ①BLOB概念</h3><p>Binary Large Object，二进制的大对象。可以用来保存二进制的文件数据。<br> 但是实际开发时，用户上传的文件都是保存到专门的文件服务器。<br></p><h3 id="_2代码实现-1" tabindex="-1"><a class="header-anchor" href="#_2代码实现-1" aria-hidden="true">#</a> ②代码实现</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05OperationBLOB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、SQL 语句</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_emp(emp_name, emp_salary, emp_photo) values(?,?,?)&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、准备给 SQL 语句设置的参数</span>
    <span class="token class-name">String</span> empName <span class="token operator">=</span> <span class="token string">&quot;harry&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">Double</span> empSalary <span class="token operator">=</span> <span class="token number">8866.33d</span><span class="token punctuation">;</span>

	<span class="token comment">// ※ 图片文件可以放在module根目录</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;mi.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、创建 PreparedStatement</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、设置参数</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> empName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> empSalary<span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 5、执行 SQL 语句</span>
    <span class="token comment">// 如果文件大小超过 BLOB 类型的容量，会抛异常：</span>
    <span class="token comment">// com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column &#39;emp_photo&#39; at row 1</span>
    <span class="token keyword">int</span> effectedRows <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;effectedRows = &quot;</span> <span class="token operator">+</span> effectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="_7、事务处理-重要" tabindex="-1"><a class="header-anchor" href="#_7、事务处理-重要" aria-hidden="true">#</a> 7、事务处理 [重要]</h2><h3 id="_1概念" tabindex="-1"><a class="header-anchor" href="#_1概念" aria-hidden="true">#</a> ①概念</h3><p>一个具体功能中包含多条 SQL 语句（增删改语句），这些 SQL 语句一个都不能少。<br> 如果执行的时候，有任何一条 SQL 语句执行失败，那么所有 SQL 语句执行的效果都撤销。</p><h3 id="_2acid属性" tabindex="-1"><a class="header-anchor" href="#_2acid属性" aria-hidden="true">#</a> ②ACID属性</h3><ul><li>A：原子性 一个具体功能中包含的多条 SQL 语句一个都不能少，缺任何一个都无法完成功能。</li><li>C：一致性 SQL 语句执行之前数据是正确的，执行之后数据仍然是正确的。 <ul><li>情况一：所有 SQL 语句执行成功，提交事务</li><li>情况二：有任何一条 SQL 语句失败，回滚事务</li></ul></li><li>I：隔离性 事务在并发执行过程中，各个事务之间彼此独立 <ul><li>并发问题：脏读、不可重复读、幻读</li><li>隔离级别：读未提交、读已提交、可重复读、串行化</li></ul></li><li>D：持久性 事务一旦提交就不能再撤销了</li></ul><h3 id="_3代码" tabindex="-1"><a class="header-anchor" href="#_3代码" aria-hidden="true">#</a> ③代码</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test06OperationTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>

    <span class="token comment">// 0、准备两个更新操作的 SQL 语句</span>
    <span class="token class-name">String</span> sql01 <span class="token operator">=</span> <span class="token string">&quot;update t_emp set emp_name=?,emp_salary=? where emp_id=?&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> sql02 <span class="token operator">=</span> <span class="token string">&quot;update t_2emp set emp_name=?,emp_salary=? where emp_id=?&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1、关闭事务的自动提交（也可以称之为：开启事务）</span>
        <span class="token comment">// 之所以要这么做是因为：事务自动提交时每执行一条 SQL 语句就直接提交事务</span>
        <span class="token comment">// 多条 SQL 语句就是多个事务，就无法纳入同一个事务统一管理了</span>
        connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2、获取 PreparedStatement</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement01 <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql01<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement02 <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql02<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3、给 SQL 语句设置参数</span>
        preparedStatement01<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;**********&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement01<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1000.00d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement01<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        preparedStatement02<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;---------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement02<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2000.00d</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement02<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5、执行 SQL 语句</span>
        preparedStatement01<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement02<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 6、如果能够执行到这里：说明执行 SQL 语句成功，没有抛异常</span>
        <span class="token comment">// 所以提交事务</span>
        connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 7、打印异常信息</span>
        <span class="token class-name">String</span> message <span class="token operator">=</span> exception<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 8、回滚事务</span>
        connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="四、数据库连接池" tabindex="-1"><a class="header-anchor" href="#四、数据库连接池" aria-hidden="true">#</a> 四、数据库连接池</h1><h2 id="_1、需求背景" tabindex="-1"><a class="header-anchor" href="#_1、需求背景" aria-hidden="true">#</a> 1、需求背景</h2><p>每一次建立数据库连接，创建 Connection 对象，都需要通过网络和数据库进行通信；数据库这边还需要检查用户名、密码是否正确，鉴定权限。</p><br><p>所以建立数据库连接并不轻松，每一次连接数据库都需要付出一定的开销：</p><ul><li>CPU计算资源</li><li>网络传输时间开销</li></ul><br>`,106),q=n('<br><p>如果每一次需要数据库连接都自己随便创建，那么很可能造成无节制的创建，进而造成内存空间不够（OOM内存溢出）。</p><br><p>结论：创建、使用、释放数据库连接应该有一个总体的妥善的管理。</p><ul><li>创建出来的Connection对象最好能够实现复用</li><li>限制最大数量，避免内存溢出</li></ul><h2 id="_2、数据库连接池工作机制" tabindex="-1"><a class="header-anchor" href="#_2、数据库连接池工作机制" aria-hidden="true">#</a> 2、数据库连接池工作机制</h2><h3 id="_1初始状态" tabindex="-1"><a class="header-anchor" href="#_1初始状态" aria-hidden="true">#</a> ①初始状态</h3><ul><li>数据库连接池对象创建时，会按照初始连接数创建数据库连接对象</li><li>没有和客户端建立连接的conn对象是空闲状态</li><li>和客户端建立连接的conn对象是繁忙（正在使用）状态</li></ul><br><p><img src="'+k+'" alt="images"></p><h3 id="_2最大连接数" tabindex="-1"><a class="header-anchor" href="#_2最大连接数" aria-hidden="true">#</a> ②最大连接数</h3><ul><li>数据库连接达到最大连接数就不会再创建新对象了</li><li>达到最大连接数之后，还需要连接的话就需要等待</li></ul><br><p><img src="'+m+`" alt="images"></p><h2 id="_3、druid连接池用法" tabindex="-1"><a class="header-anchor" href="#_3、druid连接池用法" aria-hidden="true">#</a> 3、Druid连接池用法</h2><h3 id="_1初步实现" tabindex="-1"><a class="header-anchor" href="#_1初步实现" aria-hidden="true">#</a> ①初步实现</h3><p>数据库连接池也叫数据源，JDBC中数据源的顶级接口：javax.sql.DataSource。数据库连接池也有很多不同实现。</p><ul><li>C3P0</li><li>DBCP</li><li>Druid（阿里开发的，推荐使用）</li><li>……</li></ul><p>使用步骤：</p><ul><li>导入druid-1.0.9.jar</li><li>准备连接数据库的参数</li><li>把参数封装到Properties 对象中</li><li>调用工厂类的方法创建数据源</li><li>再从数据源中获取数据库连接</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01GenerateDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、准备数据库连接池的相关参数</span>
    <span class="token class-name">String</span> jdbcUrl <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:3306/db_hr?serverTimezone=Asia/Shanghai&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> initialSize <span class="token operator">=</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> maxActive <span class="token operator">=</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> maxWait <span class="token operator">=</span> <span class="token string">&quot;2000&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> driverClassName <span class="token operator">=</span> <span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、把上面参数封装到 Properties 对象中</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span> jdbcUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;initialSize&quot;</span><span class="token punctuation">,</span> initialSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;maxActive&quot;</span><span class="token punctuation">,</span> maxActive<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;maxWait&quot;</span><span class="token punctuation">,</span> maxWait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driverClassName&quot;</span><span class="token punctuation">,</span> driverClassName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、根据 Properties 对象创建数据库连接池</span>
    <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、获取数据库连接</span>
    <span class="token comment">// 在一个线程中按顺序执行，每一次循环用完连接、关闭之后才申请下一个</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;数据库连接建立 &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// TimeUnit.SECONDS.sleep(3);</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2把连接信息提取到文件" tabindex="-1"><a class="header-anchor" href="#_2把连接信息提取到文件" aria-hidden="true">#</a> ②把连接信息提取到文件</h3><h4 id="_1-创建配置文件" tabindex="-1"><a class="header-anchor" href="#_1-创建配置文件" aria-hidden="true">#</a> [1]创建配置文件</h4><p><img src="`+v+`" alt="images"></p><br><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/db_hr?serverTimezone=Asia/Shanghai</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">atguigu</span>
<span class="token key attr-name">initialSize</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token key attr-name">maxActive</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>
<span class="token key attr-name">driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.cj.jdbc.Driver</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-java代码" tabindex="-1"><a class="header-anchor" href="#_2-java代码" aria-hidden="true">#</a> [2]Java代码</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02DataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、创建 Properties 对象</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、从类路径下加载配置文件的输入流</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">DataSourceTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3、让 Properties 对象通过输入加载配置信息</span>
    properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、创建数据源</span>
    <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;connection = &quot;</span> <span class="token operator">+</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-意义" tabindex="-1"><a class="header-anchor" href="#_3-意义" aria-hidden="true">#</a> [3]意义</h4><ul><li>Java代码和配置信息解耦</li><li>配置信息如果有修改，不会导致 Java 代码重新编译、项目重新部署</li><li>可以准备多套配置文件分别对应不同服务器环境 <ul><li>开发环境：团队内的服务器，部署开发过程中尚不稳定的版本，方便模块之间互相调用</li><li>测试环境：给测试工程师使用的环境</li><li>生产环境：项目正式上线之后，最终用户实际使用的环境</li></ul></li></ul><h2 id="_4、jdbc管理数据库连接的工具类" tabindex="-1"><a class="header-anchor" href="#_4、jdbc管理数据库连接的工具类" aria-hidden="true">#</a> 4、JDBC管理数据库连接的工具类</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 当前类的作用：初始化数据源，提供数据库连接的获取和释放
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtil</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1、创建 Properties 对象</span>
        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 2、加载外部配置信息</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">JDBCUtil</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 3、创建数据源对象</span>
            dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 获取数据库连接的工具方法
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 释放数据库连接的工具方法
     * <span class="token keyword">@param</span> <span class="token parameter">connection</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">releaseConnection</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h1 id="五、dao" tabindex="-1"><a class="header-anchor" href="#五、dao" aria-hidden="true">#</a> 五、DAO</h1><h2 id="_1、三层架构结构梳理" tabindex="-1"><a class="header-anchor" href="#_1、三层架构结构梳理" aria-hidden="true">#</a> 1、三层架构结构梳理</h2><p><img src="`+b+'" alt="img.png"></p><h2 id="_2、dao接口和实现类" tabindex="-1"><a class="header-anchor" href="#_2、dao接口和实现类" aria-hidden="true">#</a> 2、DAO接口和实现类</h2><h3 id="_1employeedao接口" tabindex="-1"><a class="header-anchor" href="#_1employeedao接口" aria-hidden="true">#</a> ①EmployeeDao接口</h3><p><img src="'+h+`" alt="img.png"></p><br><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EmployeeDao</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2employeedaoimpl实现类" tabindex="-1"><a class="header-anchor" href="#_2employeedaoimpl实现类" aria-hidden="true">#</a> ②EmployeeDaoImpl实现类</h3><p><img src="`+g+`" alt="img.png"></p><br><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeDaoImpl</span> <span class="token keyword">extends</span> <span class="token class-name">BaseDao</span> <span class="token keyword">implements</span> <span class="token class-name">EmployeeDao</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3basedao" tabindex="-1"><a class="header-anchor" href="#_3basedao" aria-hidden="true">#</a> ③BaseDao</h3><p><img src="`+y+`" alt="img.png"></p><br><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3、basedao手动实现" tabindex="-1"><a class="header-anchor" href="#_3、basedao手动实现" aria-hidden="true">#</a> 3、BaseDao手动实现</h2><h3 id="_1通用增删改方法" tabindex="-1"><a class="header-anchor" href="#_1通用增删改方法" aria-hidden="true">#</a> ①通用增删改方法</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 通用增删改方法
 * <span class="token keyword">@param</span> <span class="token parameter">sql</span> 执行增删改操作的 SQL 语句
 * <span class="token keyword">@param</span> <span class="token parameter">params</span> 以可变参数形式传入的 SQL 语句的参数
 * <span class="token keyword">@return</span> 执行 SQL 语句之后，受影响的行数
 */</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">commonUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1、声明变量</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2、创建 PreparedStatement 对象</span>
        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3、遍历可变参数数组，给 SQL 设置参数</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 4、从数组中取出具体参数值</span>
            <span class="token class-name">Object</span> param <span class="token operator">=</span> params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// 5、设置参数，参数索引从 1 开始，所以是 i + 1</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 6、执行 SQL 语句</span>
        <span class="token keyword">return</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// ※把编译时异常转换为运行时异常继续抛出，这么做是为了避免掩盖问题</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

        <span class="token comment">// 7、释放资源</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>preparedStatement <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2通用查询方法-返回-list" tabindex="-1"><a class="header-anchor" href="#_2通用查询方法-返回-list" aria-hidden="true">#</a> ②通用查询方法：返回 List</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 查询数据库表，每一条记录封装一个实体类对象，多条记录组成 List 集合
 * <span class="token keyword">@param</span> <span class="token parameter">sql</span>
 * <span class="token keyword">@param</span> <span class="token parameter">clazz</span> 当前要查询的实体类对象的 Class 对象
 * <span class="token keyword">@param</span> <span class="token parameter">params</span>
 * <span class="token keyword">@return</span> 查询结果组成的 List 集合
 */</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getBeanList</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1、声明变量</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2、创建 PreparedStatement 对象</span>
        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3、给 SQL 语句设置参数</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 4、从数组中取出具体参数值</span>
            <span class="token class-name">Object</span> param <span class="token operator">=</span> params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// 5、设置参数，参数索引从 1 开始，所以是 i + 1</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 6、执行 SQL 语句</span>
        resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 7、创建集合对象，用来存放每一个从结果集中解析得到的 Java 实体类对象</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 8、解析结果集</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">// 9、创建当前指针指向记录对应的 Java 实体类对象</span>
            <span class="token class-name">T</span> instance <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ※提出问题：作为通用的查询，此时无法确定字段名称、数量……</span>
            <span class="token comment">// ※解决问题的前提：Java 实体类的属性和数据库表字段一一对应</span>
            <span class="token comment">// ※API 层面的支持：Java 反射技术</span>
            <span class="token comment">// ※API 层面的支持：ResultSetMetaData 结果集元数据</span>
            <span class="token comment">// 10、获取结果集元数据对象</span>
            <span class="token class-name">ResultSetMetaData</span> resultSetMetaData <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getMetaData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 11、通过结果集元数据对象获取结果集中字段的数量</span>
            <span class="token keyword">int</span> columnCount <span class="token operator">=</span> resultSetMetaData<span class="token punctuation">.</span><span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 12、遍历当前行指针指向的记录</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> columnCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 13、根据循环变量从当前行获取对应单元格的值</span>
                <span class="token class-name">Object</span> value <span class="token operator">=</span> resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// 14、通过反射的方式把 value 存入实体类对象的对应的属性中</span>
                <span class="token comment">// 假设 value 是 emp_name 字段的值</span>
                <span class="token comment">// 那么它对应的 Java 实体类对象的属性 empName</span>
                <span class="token comment">// ※这里我们可以要求 SQL 语句给每一个字段都设置别名，</span>
                <span class="token comment">// 别名需要正好就是 Java 实体类对象的属性名</span>
                <span class="token comment">// [1]从结果集元数据中读取当前索引（i）对应的列的别名</span>
                <span class="token class-name">String</span> columnLabel <span class="token operator">=</span> resultSetMetaData<span class="token punctuation">.</span><span class="token function">getColumnLabel</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// [2]以 columnLabel 作为属性名获取 Java 实体类对应的 Field 对象</span>
                <span class="token class-name">Field</span> field <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>columnLabel<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// [3]突破 Field 对象的访问限制</span>
                field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// [4]调用 Field 对象的 set() 方法设置属性值</span>
                field<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 15、把已经填充好的 Java 实体类对象存入 List&lt;T&gt; 集合</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 16、把填充好的 List&lt;T&gt; 集合作为返回值返回</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>resultSet <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>preparedStatement <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">releaseConnection</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3通用查询方法-返回单个对象" tabindex="-1"><a class="header-anchor" href="#_3通用查询方法-返回单个对象" aria-hidden="true">#</a> ③通用查询方法：返回单个对象</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 查询单个实体类对象
 * <span class="token keyword">@param</span> <span class="token parameter">sql</span>
 * <span class="token keyword">@param</span> <span class="token parameter">clazz</span> 当前要查询的实体类对象的 Class 对象
 * <span class="token keyword">@param</span> <span class="token parameter">params</span>
 * <span class="token keyword">@return</span> 单个实体类对象
 */</span>
<span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getSingleBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Object</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1、调用查询集合的方法先根据 SQL 语句查询 List 集合</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> beanList <span class="token operator">=</span> <span class="token function">getBeanList</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2、对 beanList 进行判空操作</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>beanList <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> beanList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 3、检查 beanList 长度是否大于 1</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>beanList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;too many results!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4、取出集合中唯一的元素返回</span>
    <span class="token keyword">return</span> beanList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4通用批量增删改方法" tabindex="-1"><a class="header-anchor" href="#_4通用批量增删改方法" aria-hidden="true">#</a> ④通用批量增删改方法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">/**
 * 通用批量增删改方法
 * @param sql
 * @param paramArrays 二维数组
 *        二维数组中的每一个数组对应 SQL 语句执行一次
 *        insert into t_employee(emp_name, emp_age, emp_salary) values(?,?,?); [&quot;name01&quot;, 21, 1000]
 *        insert into t_employee(emp_name, emp_age, emp_salary) values(?,?,?); [&quot;name02&quot;, 22, 2000]
 *        insert into t_employee(emp_name, emp_age, emp_salary) values(?,?,?); [&quot;name03&quot;, 23, 3000]
 */</span>
<span class="token keyword">public</span> void batchUpdate<span class="token punctuation">(</span>String <span class="token keyword">sql</span><span class="token punctuation">,</span> Object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> paramArrays<span class="token punctuation">)</span> {
    <span class="token comment">// 1、声明变量</span>
    Connection connection <span class="token operator">=</span> JDBCUtils<span class="token punctuation">.</span>getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    PreparedStatement preparedStatement <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

    try {
        <span class="token comment">// 2、创建 PreparedStatement 对象</span>
        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span>prepareStatement<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3、遍历二维数组</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> paramArrays <span class="token operator">!=</span> <span class="token boolean">null</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> paramArrays<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span> {
            Object<span class="token punctuation">[</span><span class="token punctuation">]</span> paramArray <span class="token operator">=</span> paramArrays<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// 4、遍历可变参数数组，给 SQL 设置参数</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> paramArray <span class="token operator">!=</span> <span class="token boolean">null</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> paramArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span> {
                Object param <span class="token operator">=</span> paramArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

                preparedStatement<span class="token punctuation">.</span>setObject<span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
            }

            <span class="token comment">// 5、把上面设置的参数执行一次积攒</span>
            preparedStatement<span class="token punctuation">.</span>addBatch<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        }

        <span class="token comment">// 6、执行 SQL 语句</span>
        preparedStatement<span class="token punctuation">.</span>executeBatch<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {

        <span class="token comment">// ※把编译时异常转换为运行时异常继续抛出，这么做是为了避免掩盖问题</span>
        throw new RuntimeException<span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    } finally {

        <span class="token comment">// 7、释放资源</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>preparedStatement <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                preparedStatement<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                throw new RuntimeException<span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }

        JDBCUtils<span class="token punctuation">.</span>releaseConnection<span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4、basedao借助dbutils实现" tabindex="-1"><a class="header-anchor" href="#_4、basedao借助dbutils实现" aria-hidden="true">#</a> 4、BaseDao借助DBUtils实现</h2><h3 id="_1dbutils简介" tabindex="-1"><a class="header-anchor" href="#_1dbutils简介" aria-hidden="true">#</a> ①DBUtils简介</h3><p>DBUtils是Apache软件基金会组织维护的一款JDBC工具集，可以帮助我们极大的简化JDBC代码。</p><br><p><img src="`+w+`" alt="img.png"></p><br><h3 id="_2导入jar包" tabindex="-1"><a class="header-anchor" href="#_2导入jar包" aria-hidden="true">#</a> ②导入jar包</h3><p>commons-dbutils-1.7.jar</p><br><h3 id="_3重构basedao" tabindex="-1"><a class="header-anchor" href="#_3重构basedao" aria-hidden="true">#</a> ③重构BaseDao</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseDaoDBUtilImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">BaseDao</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">QueryRunner</span> queryRunner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1、获取数据库连接</span>
            <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2、调用 QueryRunner 的方法执行更新操作</span>
            <span class="token keyword">return</span> queryRunner<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1、获取数据库连接</span>
            <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2、调用 QueryRunner 的方法执行查询操作</span>
            <span class="token keyword">return</span> queryRunner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">selectSingleEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 1、获取数据库连接</span>
            <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 2、调用 QueryRunner 的方法执行查询操作</span>
            <span class="token keyword">return</span> queryRunner<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>connection<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">,</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="_5、小结" tabindex="-1"><a class="header-anchor" href="#_5、小结" aria-hidden="true">#</a> 5、小结</h2><p>搭建持久化层开发环境操作步骤：</p><ul><li>导入jar包 <ul><li>commons-dbutils-1.4.jar</li><li>druid-1.0.9.jar</li><li>mysql-connector-java-8.0.19.jar</li></ul></li><li>创建jdbc.properties属性文件</li><li>加入JDBCUtils</li><li>加入BaseDao（DBUtils实现的）</li></ul>`,73);function A(x,L){return a(),e("div",null,[f,t(" 另外，每一个 Connection 对象如果用完即弃，被抛弃的 Connection 对象就需要由垃圾回收（GC）机制回收。 - GC需要付出各种资源代价 - 下次用的时候又需要重新创建 Connection 对象 "),q])}const B=s(S,[["render",A],["__file","note02-JDBC.html.vue"]]);export{B as default};
