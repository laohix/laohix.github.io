<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>三、Spring MVC控制层框架 | 老嗨学Java</title><meta name="description" content="老嗨的Java学习笔记">
    <link rel="preload" href="/assets/style-996fc24a.css" as="style"><link rel="stylesheet" href="/assets/style-996fc24a.css">
    <link rel="modulepreload" href="/assets/app-8007fa1b.js"><link rel="modulepreload" href="/assets/03_SpringMVC控制层框架.html-58845fc3.js"><link rel="modulepreload" href="/assets/03_SpringMVC控制层框架.html-586715b5.js"><link rel="prefetch" href="/assets/index.html-1fb086bf.js" as="script"><link rel="prefetch" href="/assets/0、消息队列-Kafka.html-3142c93a.js" as="script"><link rel="prefetch" href="/assets/1、架构师核心-云计算基础.html-f8db19e6.js" as="script"><link rel="prefetch" href="/assets/2、架构师核心-云上演练场.html-294ec799.js" as="script"><link rel="prefetch" href="/assets/3、附录：中间件与环境安装文档.html-f88cf549.js" as="script"><link rel="prefetch" href="/assets/ds.html-64ee17f4.js" as="script"><link rel="prefetch" href="/assets/MySQL01-安装.html-ef2d6cfe.js" as="script"><link rel="prefetch" href="/assets/MySQL02-逻辑架构.html-dd8a9d98.js" as="script"><link rel="prefetch" href="/assets/MySQL03-索引-主键索引.html-57f374d4.js" as="script"><link rel="prefetch" href="/assets/MySQL04-索引-非主键索引.html-e769d107.js" as="script"><link rel="prefetch" href="/assets/MySQL05-优化-Explain分析.html-e80eb7d4.js" as="script"><link rel="prefetch" href="/assets/MySQL06-优化-索引失效.html-c3d49833.js" as="script"><link rel="prefetch" href="/assets/MySQL07-优化-专题.html-cbaa7c1b.js" as="script"><link rel="prefetch" href="/assets/MySQL08-优化-索引总结.html-cf824359.js" as="script"><link rel="prefetch" href="/assets/MySQL09-日志-基础日志.html-9832c63b.js" as="script"><link rel="prefetch" href="/assets/MySQL10-日志-事务日志.html-558640e9.js" as="script"><link rel="prefetch" href="/assets/MySQL11-锁-概述.html-c7025812.js" as="script"><link rel="prefetch" href="/assets/MySQL12-锁-MyISAM表锁.html-66352f40.js" as="script"><link rel="prefetch" href="/assets/MySQL13-锁-InnoDB行锁.html-a8c8a598.js" as="script"><link rel="prefetch" href="/assets/MySQL14-MVCC-快照读和当前读.html-2a23e453.js" as="script"><link rel="prefetch" href="/assets/MySQL15-MVCC-隐藏字段以及Undo Log版本链.html-b5f03e7e.js" as="script"><link rel="prefetch" href="/assets/MySQL16-MVCC-ReadView.html-fd666988.js" as="script"><link rel="prefetch" href="/assets/MySQL17-ShardingSphere.html-38cdd855.js" as="script"><link rel="prefetch" href="/assets/00-环境安装.html-f6f66c10.js" as="script"><link rel="prefetch" href="/assets/01-前端部署.html-bd30cdc7.js" as="script"><link rel="prefetch" href="/assets/02-ElasticSearch入门.html-b6b10d96.js" as="script"><link rel="prefetch" href="/assets/03-MongoDB入门.html-d0f23e1b.js" as="script"><link rel="prefetch" href="/assets/第10章 直播.html-21264b1c.js" as="script"><link rel="prefetch" href="/assets/第1章 专辑管理.html-ba227dcb.js" as="script"><link rel="prefetch" href="/assets/第2章 声音管理.html-e2e4a539.js" as="script"><link rel="prefetch" href="/assets/第3章 用户登录.html-b6bb26c6.js" as="script"><link rel="prefetch" href="/assets/第4章 检索模块.html-776318b0.js" as="script"><link rel="prefetch" href="/assets/第5章 详情介绍.html-348287aa.js" as="script"><link rel="prefetch" href="/assets/第6章 详情优化.html-e61bbb06.js" as="script"><link rel="prefetch" href="/assets/第7章 订单.html-e648baec.js" as="script"><link rel="prefetch" href="/assets/第8章 支付.html-1f9a2246.js" as="script"><link rel="prefetch" href="/assets/第9章 分布式任务调度.html-9518f9c4.js" as="script"><link rel="prefetch" href="/assets/高频面试题.html-fae5b787.js" as="script"><link rel="prefetch" href="/assets/人事面试.html-ff795090.js" as="script"><link rel="prefetch" href="/assets/01-多线程回顾.html-e1120012.js" as="script"><link rel="prefetch" href="/assets/02-synchronized.html-5c77ae5a.js" as="script"><link rel="prefetch" href="/assets/03-Lock操作.html-5630e0d7.js" as="script"><link rel="prefetch" href="/assets/04-Lock原理.html-e8bd23a7.js" as="script"><link rel="prefetch" href="/assets/05-集合.html-3c585021.js" as="script"><link rel="prefetch" href="/assets/06-ThreadPool.html-793a3dc0.js" as="script"><link rel="prefetch" href="/assets/07-CompletableFuture.html-364166ac.js" as="script"><link rel="prefetch" href="/assets/01-JVM-概述.html-cee4faef.js" as="script"><link rel="prefetch" href="/assets/02-JVM-类加载机制.html-1c524af3.js" as="script"><link rel="prefetch" href="/assets/03-JVM-不重要部分.html-c947bf70.js" as="script"><link rel="prefetch" href="/assets/04-JVM-执行引擎.html-47720212.js" as="script"><link rel="prefetch" href="/assets/05-JVM-方法区.html-48ea6010.js" as="script"><link rel="prefetch" href="/assets/06-JVM-Java栈.html-b2180fe3.js" as="script"><link rel="prefetch" href="/assets/07-JVM-堆.html-4b788c63.js" as="script"><link rel="prefetch" href="/assets/08-JVM-GC.html-29439b6b.js" as="script"><link rel="prefetch" href="/assets/JAVASE晨考题.html-f05dc822.js" as="script"><link rel="prefetch" href="/assets/day01 Java语言概述.html-1fda3bb6.js" as="script"><link rel="prefetch" href="/assets/写在前面.html-fc337683.js" as="script"><link rel="prefetch" href="/assets/day02 变量和数据类型.html-8f407b2a.js" as="script"><link rel="prefetch" href="/assets/day03 变量和数据类型.html-8ffaaef9.js" as="script"><link rel="prefetch" href="/assets/day04 分支结构和循环结构.html-e9d16eab.js" as="script"><link rel="prefetch" href="/assets/day05 循环结构.html-9a795d54.js" as="script"><link rel="prefetch" href="/assets/day06-方法和数组.html-d20d5969.js" as="script"><link rel="prefetch" href="/assets/day07-数组和排序.html-25cf3e27.js" as="script"><link rel="prefetch" href="/assets/day08-初识面向对象.html-b5ffade8.js" as="script"><link rel="prefetch" href="/assets/day09-封装和继承.html-4c9bf841.js" as="script"><link rel="prefetch" href="/assets/day10-方法重写和多态.html-0cfbdb5f.js" as="script"><link rel="prefetch" href="/assets/day11-方法重写和多态.html-a25b783a.js" as="script"><link rel="prefetch" href="/assets/day12-多态和抽象类.html-44222e8f.js" as="script"><link rel="prefetch" href="/assets/day13-接口与异常.html-4d10591b.js" as="script"><link rel="prefetch" href="/assets/day14-常用类API.html-edf36def.js" as="script"><link rel="prefetch" href="/assets/day16-常用类与集合.html-64cf7598.js" as="script"><link rel="prefetch" href="/assets/day17-IO.html-e6768eb8.js" as="script"><link rel="prefetch" href="/assets/day19-多线程.html-503428c5.js" as="script"><link rel="prefetch" href="/assets/day20-网络编程.html-37af4547.js" as="script"><link rel="prefetch" href="/assets/day21-注解和反射.html-a3730ee5.js" as="script"><link rel="prefetch" href="/assets/day22-JDK8新特性1.html-b9b55bd7.js" as="script"><link rel="prefetch" href="/assets/day22-JDK8新特性2.html-f6df570b.js" as="script"><link rel="prefetch" href="/assets/day23-JDK8-17新特性.html-3abaf41a.js" as="script"><link rel="prefetch" href="/assets/晨考题.html-de57ad6d.js" as="script"><link rel="prefetch" href="/assets/01_第一章 WEB开发概述.html-1dbbd30a.js" as="script"><link rel="prefetch" href="/assets/02_第二章 HTML_CSS.html-916f46d2.js" as="script"><link rel="prefetch" href="/assets/03_第三章 JavaScript.html-7a90e1eb.js" as="script"><link rel="prefetch" href="/assets/04_第四章 XML_Tomcat_HTTP.html-bf50e831.js" as="script"><link rel="prefetch" href="/assets/05_第五章 Servlet.html-23be7265.js" as="script"><link rel="prefetch" href="/assets/06_第六章 会话_过滤器_监听器.html-635c5880.js" as="script"><link rel="prefetch" href="/assets/07_第七章 前端工程化.html-cb13aec6.js" as="script"><link rel="prefetch" href="/assets/08_第八章 微头条项目开发.html-5106e762.js" as="script"><link rel="prefetch" href="/assets/note01-mysql.html-66233436.js" as="script"><link rel="prefetch" href="/assets/note02-JDBC.html-bea658fa.js" as="script"><link rel="prefetch" href="/assets/03-javascript.html-5a613b89.js" as="script"><link rel="prefetch" href="/assets/tomcat.html-bbe14e67.js" as="script"><link rel="prefetch" href="/assets/Servlet.html-15a69ca2.js" as="script"><link rel="prefetch" href="/assets/06-请求响应.html-f9615c07.js" as="script"><link rel="prefetch" href="/assets/07-会话控制1.html-aab5f854.js" as="script"><link rel="prefetch" href="/assets/07-会话控制2.html-2f3ad241.js" as="script"><link rel="prefetch" href="/assets/08-前端工程化.html-413f0190.js" as="script"><link rel="prefetch" href="/assets/vue01.html-b972244d.js" as="script"><link rel="prefetch" href="/assets/vue02.html-9fe9d760.js" as="script"><link rel="prefetch" href="/assets/路由PiniaAjax.html-09ab172d.js" as="script"><link rel="prefetch" href="/assets/基本CURD.html-2f1c2355.js" as="script"><link rel="prefetch" href="/assets/微头条01.html-47ed86a9.js" as="script"><link rel="prefetch" href="/assets/微头条02.html-b6559f52.js" as="script"><link rel="prefetch" href="/assets/day01课件.html-78ada56a.js" as="script"><link rel="prefetch" href="/assets/day02课件.html-6cda48fe.js" as="script"><link rel="prefetch" href="/assets/day03课件.html-365d52f1.js" as="script"><link rel="prefetch" href="/assets/day04课件.html-58fc8ec8.js" as="script"><link rel="prefetch" href="/assets/day05课件.html-bceea261.js" as="script"><link rel="prefetch" href="/assets/day06课件.html-f2e0dd53.js" as="script"><link rel="prefetch" href="/assets/day07课件.html-f13f9eeb.js" as="script"><link rel="prefetch" href="/assets/day08课件.html-0fb61cba.js" as="script"><link rel="prefetch" href="/assets/day09课件.html-e38e203c.js" as="script"><link rel="prefetch" href="/assets/day10课件.html-1c68030a.js" as="script"><link rel="prefetch" href="/assets/day11课件.html-781dba6c.js" as="script"><link rel="prefetch" href="/assets/day12课件.html-98726a91.js" as="script"><link rel="prefetch" href="/assets/day13课件.html-603dd7ea.js" as="script"><link rel="prefetch" href="/assets/day14课件.html-d5c5551a.js" as="script"><link rel="prefetch" href="/assets/day15课件.html-e88ed510.js" as="script"><link rel="prefetch" href="/assets/day16课件.html-dbf17c3c.js" as="script"><link rel="prefetch" href="/assets/day17课件.html-93ffeb00.js" as="script"><link rel="prefetch" href="/assets/day18课件.html-4b062541.js" as="script"><link rel="prefetch" href="/assets/day19课件.html-1c8f6498.js" as="script"><link rel="prefetch" href="/assets/01_Maven依赖管理项目构建工具.html-bc144dc3.js" as="script"><link rel="prefetch" href="/assets/02_Spring企业开发核心框架.html-bebdf320.js" as="script"><link rel="prefetch" href="/assets/04_MyBatis持久层框架.html-cfa16061.js" as="script"><link rel="prefetch" href="/assets/05_SSM整合实战.html-d42afd8d.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-f49748d8.js" as="script"><link rel="prefetch" href="/assets/Linux.html-37b694e1.js" as="script"><link rel="prefetch" href="/assets/Redis.html-cc9ca178.js" as="script"><link rel="prefetch" href="/assets/Git.html-aa4ccf6c.js" as="script"><link rel="prefetch" href="/assets/Git补充.html-83d43827.js" as="script"><link rel="prefetch" href="/assets/微博客项目.html-d3c5e15a.js" as="script"><link rel="prefetch" href="/assets/JAVASE.html-b104e62b.js" as="script"><link rel="prefetch" href="/assets/集合类.html-9bae3066.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-065d1ba8.js" as="script"><link rel="prefetch" href="/assets/Spring、SpringMVC、SpringBoot.html-31a101c0.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-0e969995.js" as="script"><link rel="prefetch" href="/assets/JVM.html-2eae294b.js" as="script"><link rel="prefetch" href="/assets/JUC.html-ded2f895.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-4d672801.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-64f7651f.js" as="script"><link rel="prefetch" href="/assets/Redis.html-18608ca0.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-0d0cf47c.js" as="script"><link rel="prefetch" href="/assets/Cloud核心中间件.html-dc3c7549.js" as="script"><link rel="prefetch" href="/assets/ElasticSearch.html-b09f50b1.js" as="script"><link rel="prefetch" href="/assets/微服务、分布式.html-048e20f6.js" as="script"><link rel="prefetch" href="/assets/线程、并发.html-ed282712.js" as="script"><link rel="prefetch" href="/assets/场景题.html-6a7ca62a.js" as="script"><link rel="prefetch" href="/assets/项目上线问题排查.html-2297b364.js" as="script"><link rel="prefetch" href="/assets/Netty.html-b0e1ae6d.js" as="script"><link rel="prefetch" href="/assets/Tomcat.html-2e8a636f.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-4f990e17.js" as="script"><link rel="prefetch" href="/assets/云计算.html-b54dfe1a.js" as="script"><link rel="prefetch" href="/assets/404.html-e7f61752.js" as="script"><link rel="prefetch" href="/assets/index.html-02daf10d.js" as="script"><link rel="prefetch" href="/assets/0、消息队列-Kafka.html-2d86f9f0.js" as="script"><link rel="prefetch" href="/assets/1、架构师核心-云计算基础.html-3fb6b2bb.js" as="script"><link rel="prefetch" href="/assets/2、架构师核心-云上演练场.html-4ac7655d.js" as="script"><link rel="prefetch" href="/assets/3、附录：中间件与环境安装文档.html-f2a9f5a6.js" as="script"><link rel="prefetch" href="/assets/ds.html-963bdbcc.js" as="script"><link rel="prefetch" href="/assets/MySQL01-安装.html-9e7a5142.js" as="script"><link rel="prefetch" href="/assets/MySQL02-逻辑架构.html-e49c9908.js" as="script"><link rel="prefetch" href="/assets/MySQL03-索引-主键索引.html-1a0009d1.js" as="script"><link rel="prefetch" href="/assets/MySQL04-索引-非主键索引.html-f99af40f.js" as="script"><link rel="prefetch" href="/assets/MySQL05-优化-Explain分析.html-10d50fe7.js" as="script"><link rel="prefetch" href="/assets/MySQL06-优化-索引失效.html-1f40389e.js" as="script"><link rel="prefetch" href="/assets/MySQL07-优化-专题.html-bf0d0920.js" as="script"><link rel="prefetch" href="/assets/MySQL08-优化-索引总结.html-1f06e38f.js" as="script"><link rel="prefetch" href="/assets/MySQL09-日志-基础日志.html-8939defd.js" as="script"><link rel="prefetch" href="/assets/MySQL10-日志-事务日志.html-a586301b.js" as="script"><link rel="prefetch" href="/assets/MySQL11-锁-概述.html-a1ff4680.js" as="script"><link rel="prefetch" href="/assets/MySQL12-锁-MyISAM表锁.html-431bac20.js" as="script"><link rel="prefetch" href="/assets/MySQL13-锁-InnoDB行锁.html-a550ace3.js" as="script"><link rel="prefetch" href="/assets/MySQL14-MVCC-快照读和当前读.html-0b5a3729.js" as="script"><link rel="prefetch" href="/assets/MySQL15-MVCC-隐藏字段以及Undo Log版本链.html-a1c6776e.js" as="script"><link rel="prefetch" href="/assets/MySQL16-MVCC-ReadView.html-c1e51ff3.js" as="script"><link rel="prefetch" href="/assets/MySQL17-ShardingSphere.html-ed9efe7d.js" as="script"><link rel="prefetch" href="/assets/00-环境安装.html-934d4fa1.js" as="script"><link rel="prefetch" href="/assets/01-前端部署.html-7ecf4dba.js" as="script"><link rel="prefetch" href="/assets/02-ElasticSearch入门.html-283dbe77.js" as="script"><link rel="prefetch" href="/assets/03-MongoDB入门.html-69a4a4a8.js" as="script"><link rel="prefetch" href="/assets/第10章 直播.html-c8aafb0d.js" as="script"><link rel="prefetch" href="/assets/第1章 专辑管理.html-4b625176.js" as="script"><link rel="prefetch" href="/assets/第2章 声音管理.html-a806b421.js" as="script"><link rel="prefetch" href="/assets/第3章 用户登录.html-5618a773.js" as="script"><link rel="prefetch" href="/assets/第4章 检索模块.html-e6d05c7b.js" as="script"><link rel="prefetch" href="/assets/第5章 详情介绍.html-aaad695e.js" as="script"><link rel="prefetch" href="/assets/第6章 详情优化.html-af2c56ba.js" as="script"><link rel="prefetch" href="/assets/第7章 订单.html-7935e820.js" as="script"><link rel="prefetch" href="/assets/第8章 支付.html-09c56a16.js" as="script"><link rel="prefetch" href="/assets/第9章 分布式任务调度.html-65b3eeb8.js" as="script"><link rel="prefetch" href="/assets/高频面试题.html-57ddba99.js" as="script"><link rel="prefetch" href="/assets/人事面试.html-c67b53f2.js" as="script"><link rel="prefetch" href="/assets/01-多线程回顾.html-ad14fe66.js" as="script"><link rel="prefetch" href="/assets/02-synchronized.html-6c81e2b1.js" as="script"><link rel="prefetch" href="/assets/03-Lock操作.html-d9a75c60.js" as="script"><link rel="prefetch" href="/assets/04-Lock原理.html-452ff47f.js" as="script"><link rel="prefetch" href="/assets/05-集合.html-c22f2e16.js" as="script"><link rel="prefetch" href="/assets/06-ThreadPool.html-1c996064.js" as="script"><link rel="prefetch" href="/assets/07-CompletableFuture.html-157d75ee.js" as="script"><link rel="prefetch" href="/assets/01-JVM-概述.html-0a8f706a.js" as="script"><link rel="prefetch" href="/assets/02-JVM-类加载机制.html-24c2246f.js" as="script"><link rel="prefetch" href="/assets/03-JVM-不重要部分.html-593529e8.js" as="script"><link rel="prefetch" href="/assets/04-JVM-执行引擎.html-d664c70a.js" as="script"><link rel="prefetch" href="/assets/05-JVM-方法区.html-044e94ca.js" as="script"><link rel="prefetch" href="/assets/06-JVM-Java栈.html-f040f620.js" as="script"><link rel="prefetch" href="/assets/07-JVM-堆.html-eb771867.js" as="script"><link rel="prefetch" href="/assets/08-JVM-GC.html-b6a06b6f.js" as="script"><link rel="prefetch" href="/assets/JAVASE晨考题.html-aa2c8513.js" as="script"><link rel="prefetch" href="/assets/day01 Java语言概述.html-47e50702.js" as="script"><link rel="prefetch" href="/assets/写在前面.html-b82db28d.js" as="script"><link rel="prefetch" href="/assets/day02 变量和数据类型.html-c57f144c.js" as="script"><link rel="prefetch" href="/assets/day03 变量和数据类型.html-20aedf99.js" as="script"><link rel="prefetch" href="/assets/day04 分支结构和循环结构.html-7fc993ca.js" as="script"><link rel="prefetch" href="/assets/day05 循环结构.html-e431d1d8.js" as="script"><link rel="prefetch" href="/assets/day06-方法和数组.html-3570ba0b.js" as="script"><link rel="prefetch" href="/assets/day07-数组和排序.html-5239b286.js" as="script"><link rel="prefetch" href="/assets/day08-初识面向对象.html-4bbdb62d.js" as="script"><link rel="prefetch" href="/assets/day09-封装和继承.html-32328569.js" as="script"><link rel="prefetch" href="/assets/day10-方法重写和多态.html-e16e8952.js" as="script"><link rel="prefetch" href="/assets/day11-方法重写和多态.html-8ce01638.js" as="script"><link rel="prefetch" href="/assets/day12-多态和抽象类.html-2749500d.js" as="script"><link rel="prefetch" href="/assets/day13-接口与异常.html-fcd02458.js" as="script"><link rel="prefetch" href="/assets/day14-常用类API.html-a496e9e8.js" as="script"><link rel="prefetch" href="/assets/day16-常用类与集合.html-0713bcc6.js" as="script"><link rel="prefetch" href="/assets/day17-IO.html-92c3608d.js" as="script"><link rel="prefetch" href="/assets/day19-多线程.html-68ca3126.js" as="script"><link rel="prefetch" href="/assets/day20-网络编程.html-06df787e.js" as="script"><link rel="prefetch" href="/assets/day21-注解和反射.html-53e281d7.js" as="script"><link rel="prefetch" href="/assets/day22-JDK8新特性1.html-73e1bd92.js" as="script"><link rel="prefetch" href="/assets/day22-JDK8新特性2.html-7b945c03.js" as="script"><link rel="prefetch" href="/assets/day23-JDK8-17新特性.html-14e90bcb.js" as="script"><link rel="prefetch" href="/assets/晨考题.html-a920b4c8.js" as="script"><link rel="prefetch" href="/assets/01_第一章 WEB开发概述.html-26089f90.js" as="script"><link rel="prefetch" href="/assets/02_第二章 HTML_CSS.html-c818b632.js" as="script"><link rel="prefetch" href="/assets/03_第三章 JavaScript.html-bfc72912.js" as="script"><link rel="prefetch" href="/assets/04_第四章 XML_Tomcat_HTTP.html-d7750d1a.js" as="script"><link rel="prefetch" href="/assets/05_第五章 Servlet.html-a7ea9037.js" as="script"><link rel="prefetch" href="/assets/06_第六章 会话_过滤器_监听器.html-4e70feed.js" as="script"><link rel="prefetch" href="/assets/07_第七章 前端工程化.html-6e6208af.js" as="script"><link rel="prefetch" href="/assets/08_第八章 微头条项目开发.html-c4a7847b.js" as="script"><link rel="prefetch" href="/assets/note01-mysql.html-a799c9e3.js" as="script"><link rel="prefetch" href="/assets/note02-JDBC.html-fc72c497.js" as="script"><link rel="prefetch" href="/assets/03-javascript.html-c569ab44.js" as="script"><link rel="prefetch" href="/assets/tomcat.html-1f41ceeb.js" as="script"><link rel="prefetch" href="/assets/Servlet.html-6da67955.js" as="script"><link rel="prefetch" href="/assets/06-请求响应.html-6cfbe496.js" as="script"><link rel="prefetch" href="/assets/07-会话控制1.html-c050f024.js" as="script"><link rel="prefetch" href="/assets/07-会话控制2.html-6809564a.js" as="script"><link rel="prefetch" href="/assets/08-前端工程化.html-c299db1c.js" as="script"><link rel="prefetch" href="/assets/vue01.html-1b5a29e0.js" as="script"><link rel="prefetch" href="/assets/vue02.html-d4b7237e.js" as="script"><link rel="prefetch" href="/assets/路由PiniaAjax.html-733cbb4d.js" as="script"><link rel="prefetch" href="/assets/基本CURD.html-b685fc41.js" as="script"><link rel="prefetch" href="/assets/微头条01.html-708a9edd.js" as="script"><link rel="prefetch" href="/assets/微头条02.html-014a39e2.js" as="script"><link rel="prefetch" href="/assets/day01课件.html-9f32a135.js" as="script"><link rel="prefetch" href="/assets/day02课件.html-15fef847.js" as="script"><link rel="prefetch" href="/assets/day03课件.html-23a90d5b.js" as="script"><link rel="prefetch" href="/assets/day04课件.html-7229c45c.js" as="script"><link rel="prefetch" href="/assets/day05课件.html-104d0769.js" as="script"><link rel="prefetch" href="/assets/day06课件.html-923ff723.js" as="script"><link rel="prefetch" href="/assets/day07课件.html-07e5061e.js" as="script"><link rel="prefetch" href="/assets/day08课件.html-e048c61c.js" as="script"><link rel="prefetch" href="/assets/day09课件.html-96ae8a34.js" as="script"><link rel="prefetch" href="/assets/day10课件.html-eb53fb4f.js" as="script"><link rel="prefetch" href="/assets/day11课件.html-60322589.js" as="script"><link rel="prefetch" href="/assets/day12课件.html-64b71d8a.js" as="script"><link rel="prefetch" href="/assets/day13课件.html-fcc3480d.js" as="script"><link rel="prefetch" href="/assets/day14课件.html-bd7eb6b2.js" as="script"><link rel="prefetch" href="/assets/day15课件.html-b4e1b366.js" as="script"><link rel="prefetch" href="/assets/day16课件.html-ad53a07e.js" as="script"><link rel="prefetch" href="/assets/day17课件.html-8aa27ef6.js" as="script"><link rel="prefetch" href="/assets/day18课件.html-3663bd2a.js" as="script"><link rel="prefetch" href="/assets/day19课件.html-fa7095b7.js" as="script"><link rel="prefetch" href="/assets/01_Maven依赖管理项目构建工具.html-fc1143af.js" as="script"><link rel="prefetch" href="/assets/02_Spring企业开发核心框架.html-b34d61ae.js" as="script"><link rel="prefetch" href="/assets/04_MyBatis持久层框架.html-cc07e6b2.js" as="script"><link rel="prefetch" href="/assets/05_SSM整合实战.html-b0f640a4.js" as="script"><link rel="prefetch" href="/assets/SpringBoot.html-89205698.js" as="script"><link rel="prefetch" href="/assets/Linux.html-fa1c8247.js" as="script"><link rel="prefetch" href="/assets/Redis.html-bf2c2663.js" as="script"><link rel="prefetch" href="/assets/Git.html-68229a5c.js" as="script"><link rel="prefetch" href="/assets/Git补充.html-cfa36d44.js" as="script"><link rel="prefetch" href="/assets/微博客项目.html-13c2e896.js" as="script"><link rel="prefetch" href="/assets/JAVASE.html-e54fd3f0.js" as="script"><link rel="prefetch" href="/assets/集合类.html-c286edd4.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-8c237aeb.js" as="script"><link rel="prefetch" href="/assets/Spring、SpringMVC、SpringBoot.html-6526fc6f.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-8e2d6ad0.js" as="script"><link rel="prefetch" href="/assets/JVM.html-053acc7f.js" as="script"><link rel="prefetch" href="/assets/JUC.html-9a7ec1c2.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-a03374a5.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-dc0f0e41.js" as="script"><link rel="prefetch" href="/assets/Redis.html-38205d4a.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-62429ec7.js" as="script"><link rel="prefetch" href="/assets/Cloud核心中间件.html-60ca6271.js" as="script"><link rel="prefetch" href="/assets/ElasticSearch.html-bcec7126.js" as="script"><link rel="prefetch" href="/assets/微服务、分布式.html-73b8bbdf.js" as="script"><link rel="prefetch" href="/assets/线程、并发.html-cb215269.js" as="script"><link rel="prefetch" href="/assets/场景题.html-d906fa5f.js" as="script"><link rel="prefetch" href="/assets/项目上线问题排查.html-baba1f1d.js" as="script"><link rel="prefetch" href="/assets/Netty.html-808e1fe2.js" as="script"><link rel="prefetch" href="/assets/Tomcat.html-2e454008.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-f7e96712.js" as="script"><link rel="prefetch" href="/assets/云计算.html-96cb414a.js" as="script"><link rel="prefetch" href="/assets/404.html-35013f6f.js" as="script"><link rel="prefetch" href="/assets/SearchResult-8164bd28.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="老嗨学Java"><span class="site-name can-hide">老嗨学Java</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaSE"><span class="title">JavaSE</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaSE"><span class="title">JavaSE</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java_se/00-晨考题/JAVASE晨考题.md" class="" aria-label="00-JavaSE晨考题"><!--[--><!--]--> 00-JavaSE晨考题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day01-笔记/day01 Java语言概述.md" class="" aria-label="day01-Java语言概述"><!--[--><!--]--> day01-Java语言概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day02-笔记/day02 变量和数据类型.md" class="" aria-label="day02-变量和数据类型"><!--[--><!--]--> day02-变量和数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day03-笔记/day03 变量和数据类型.md" class="" aria-label="day03-变量和数据类型"><!--[--><!--]--> day03-变量和数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day04-笔记/day04 分支结构和循环结构.md" class="" aria-label="day04-分支结构和循环结构"><!--[--><!--]--> day04-分支结构和循环结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day05-笔记/day05 循环结构.md" class="" aria-label="day05-循环结构"><!--[--><!--]--> day05-循环结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day06-笔记/day06-方法和数组.md" class="" aria-label="day06-方法和数组"><!--[--><!--]--> day06-方法和数组 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day07-笔记/day07-数组和排序.md" class="" aria-label="day07-数组和排序"><!--[--><!--]--> day07-数组和排序 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day08-笔记/day08-初识面向对象.md" class="" aria-label="day08-初识面向对象"><!--[--><!--]--> day08-初识面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day09-笔记/day09-封装和继承.md" class="" aria-label="day09-封装和继承"><!--[--><!--]--> day09-封装和继承 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day10-笔记/day10-方法重写和多态.md" class="" aria-label="day10-方法重写和多态"><!--[--><!--]--> day10-方法重写和多态 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day11-笔记/day11-方法重写和多态.md" class="" aria-label="day11-方法重写和多态"><!--[--><!--]--> day11-方法重写和多态 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day12-笔记/day12-多态和抽象类.md" class="" aria-label="day12-多态和抽象类"><!--[--><!--]--> day12-多态和抽象类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day13-笔记/day13-接口与异常.md" class="" aria-label="day13-接口与异常"><!--[--><!--]--> day13-接口与异常 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day14-笔记/day14-常用类API.md" class="" aria-label="day14-常用类API"><!--[--><!--]--> day14-常用类API <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day16-笔记/day16-常用类与集合.md" class="" aria-label="day16-常用类与集合"><!--[--><!--]--> day16-常用类与集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day17-笔记/day17-IO.md" class="" aria-label="day17-IO"><!--[--><!--]--> day17-IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day19-笔记/day19-多线程.md" class="" aria-label="day19-多线程"><!--[--><!--]--> day19-多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day20-笔记/day20-网络编程.md" class="" aria-label="day20-网络编程"><!--[--><!--]--> day20-网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day21-笔记/day21-注解和反射.md" class="" aria-label="day21-注解和反射"><!--[--><!--]--> day21-注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day22-笔记/day22-JDK8新特性1.md" class="" aria-label="day22-JDK8新特性1"><!--[--><!--]--> day22-JDK8新特性1 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day22-笔记/day22-JDK8新特性2.md" class="" aria-label="day22-JDK8新特性2"><!--[--><!--]--> day22-JDK8新特性2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day23-笔记/day23-JDK8-17新特性.md" class="" aria-label="day23-JDK8-17新特性"><!--[--><!--]--> day23-JDK8-17新特性 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaWeb"><span class="title">JavaWeb</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaWeb"><span class="title">JavaWeb</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java_web/00-晨考题/晨考题.md" class="" aria-label="00.晨考题"><!--[--><!--]--> 00.晨考题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/01-mysql/note01-mysql.md" class="" aria-label="01.MySQL"><!--[--><!--]--> 01.MySQL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/02-jdbc/note02-JDBC.md" class="" aria-label="02.JDBC"><!--[--><!--]--> 02.JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/03-js/03-javascript.md" class="" aria-label="03.JavaScript"><!--[--><!--]--> 03.JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/04-tomcat/tomcat.md" class="" aria-label="04.tomcat"><!--[--><!--]--> 04.tomcat <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/05-servlet/Servlet.md" class="" aria-label="05.Servlet"><!--[--><!--]--> 05.Servlet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/06-请求响应/06-请求响应.md" class="" aria-label="06.请求响应"><!--[--><!--]--> 06.请求响应 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/07-会话控制/07-会话控制1.md" class="" aria-label="07.会话控制1"><!--[--><!--]--> 07.会话控制1 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/07-会话控制/07-会话控制2.md" class="" aria-label="07.会话控制2"><!--[--><!--]--> 07.会话控制2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/08-前端工程化/08-前端工程化.md" class="" aria-label="08.前端工程化"><!--[--><!--]--> 08.前端工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/09-vue01/vue01.md" class="" aria-label="09.vue01"><!--[--><!--]--> 09.vue01 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/10-vue02/vue02.md" class="" aria-label="10.vue02"><!--[--><!--]--> 10.vue02 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/11-路由PiniaAjax/路由PiniaAjax.md" class="" aria-label="11.路由PiniaAjax"><!--[--><!--]--> 11.路由PiniaAjax <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/12-基本CURD/基本CURD.md" class="" aria-label="12.基本CURD"><!--[--><!--]--> 12.基本CURD <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/13-微头条01/微头条01.md" class="" aria-label="13.微头条01"><!--[--><!--]--> 13.微头条01 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/14-微头条02/微头条02.md" class="" aria-label="14.微头条02"><!--[--><!--]--> 14.微头条02 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>资料</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/01_第一章 WEB开发概述.md" class="" aria-label="第一章 WEB开发概述"><!--[--><!--]--> 第一章 WEB开发概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/02_第二章 HTML&amp;CSS.md" class="" aria-label="第二章 HTML&amp;CSS"><!--[--><!--]--> 第二章 HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/03_第三章 JavaScript.md" class="" aria-label="第三章 JavaScript"><!--[--><!--]--> 第三章 JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/04_第四章 XML_Tomcat_HTTP.md" class="" aria-label="第四章 XML_Tomcat_HTTP"><!--[--><!--]--> 第四章 XML_Tomcat_HTTP <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/05_第五章 Servlet.md" class="" aria-label="第五章 Servlet"><!--[--><!--]--> 第五章 Servlet <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/06_第六章 会话_过滤器_监听器.md" class="" aria-label="第六章 会话_过滤器_监听器"><!--[--><!--]--> 第六章 会话_过滤器_监听器 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/07_第七章 前端工程化.md" class="" aria-label="第七章 前端工程化"><!--[--><!--]--> 第七章 前端工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/08_第八章 微头条项目开发.md" class="" aria-label="第八章 微头条项目开发"><!--[--><!--]--> 第八章 微头条项目开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="SSM"><span class="title">SSM</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ssm/01_Maven/01_Maven依赖管理项目构建工具.md" class="" aria-label="01.Maven"><!--[--><!--]--> 01.Maven <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/02_Spring/02_Spring企业开发核心框架.md" class="" aria-label="02.Spring"><!--[--><!--]--> 02.Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/03_SpringMVC/03_SpringMVC控制层框架.md" class="" aria-label="03.SpringMVC"><!--[--><!--]--> 03.SpringMVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/04_MyBatis/04_MyBatis持久层框架.md" class="" aria-label="04.MyBatis"><!--[--><!--]--> 04.MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/05_SSM/05_SSM整合实战.md" class="" aria-label="05.SSM整合实战"><!--[--><!--]--> 05.SSM整合实战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/06_SpringBoot/SpringBoot.md" class="" aria-label="06.SpringBoot"><!--[--><!--]--> 06.SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/07_Linux/Linux.md" class="" aria-label="07.Linux"><!--[--><!--]--> 07.Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/08_Redis/Redis.md" class="" aria-label="08.Redis"><!--[--><!--]--> 08.Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/09_Git/Git.md" class="" aria-label="09.Git"><!--[--><!--]--> 09.Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/10_Git补充/Git补充.md" class="" aria-label="10.Git补充"><!--[--><!--]--> 10.Git补充 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/11_微博客项目/微博客项目.md" class="" aria-label="11.微博客项目"><!--[--><!--]--> 11.微博客项目 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="尚品甄选"><span class="title">尚品甄选</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="尚品甄选"><span class="title">尚品甄选</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/spzx/day01/day01课件.md" class="" aria-label="day01课件"><!--[--><!--]--> day01课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day02/day02课件.md" class="" aria-label="day02课件"><!--[--><!--]--> day02课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day03/day03课件.md" class="" aria-label="day03课件"><!--[--><!--]--> day03课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day04/day04课件.md" class="" aria-label="day04课件"><!--[--><!--]--> day04课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day05/day05课件.md" class="" aria-label="day05课件"><!--[--><!--]--> day05课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day06/day06课件.md" class="" aria-label="day06课件"><!--[--><!--]--> day06课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day07/day07课件.md" class="" aria-label="day07课件"><!--[--><!--]--> day07课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day08/day08课件.md" class="" aria-label="day08课件"><!--[--><!--]--> day08课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day09/day09课件.md" class="" aria-label="day09课件"><!--[--><!--]--> day09课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day10/day10课件.md" class="" aria-label="day10课件"><!--[--><!--]--> day10课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day11/day11课件.md" class="" aria-label="day11课件"><!--[--><!--]--> day11课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day12/day12课件.md" class="" aria-label="day12课件"><!--[--><!--]--> day12课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day13/day13课件.md" class="" aria-label="day13课件"><!--[--><!--]--> day13课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day14/day14课件.md" class="" aria-label="day14课件"><!--[--><!--]--> day14课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day15/day15课件.md" class="" aria-label="day15课件"><!--[--><!--]--> day15课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day16/day16课件.md" class="" aria-label="day16课件"><!--[--><!--]--> day16课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day17/day17课件.md" class="" aria-label="day17课件"><!--[--><!--]--> day17课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day18/day18课件.md" class="" aria-label="day18课件"><!--[--><!--]--> day18课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day19/day19课件.md" class="" aria-label="day19课件"><!--[--><!--]--> day19课件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java高级"><span class="title">Java高级</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java高级"><span class="title">Java高级</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JVM</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/01-JVM-概述.md" class="" aria-label="01.JVM-概述"><!--[--><!--]--> 01.JVM-概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/02-JVM-类加载机制.md" class="" aria-label="02.JVM-类加载机制"><!--[--><!--]--> 02.JVM-类加载机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/03-JVM-不重要部分.md" class="" aria-label="03.JVM-不重要部分"><!--[--><!--]--> 03.JVM-不重要部分 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/04-JVM-执行引擎.md" class="" aria-label="04.JVM-执行引擎"><!--[--><!--]--> 04.JVM-执行引擎 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/05-JVM-方法区.md" class="" aria-label="05.JVM-方法区"><!--[--><!--]--> 05.JVM-方法区 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/06-JVM-Java栈.md" class="" aria-label="06.JVM-Java栈"><!--[--><!--]--> 06.JVM-Java栈 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/07-JVM-堆.md" class="" aria-label="07.JVM-堆"><!--[--><!--]--> 07.JVM-堆 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/08-JVM-GC.md" class="" aria-label="08.JVM-GC"><!--[--><!--]--> 08.JVM-GC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JUC</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/01-多线程回顾.md" class="" aria-label="01.多线程回顾"><!--[--><!--]--> 01.多线程回顾 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/02-synchronized.md" class="" aria-label="02.synchronized"><!--[--><!--]--> 02.synchronized <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/03-Lock操作.md" class="" aria-label="03.Lock操作"><!--[--><!--]--> 03.Lock操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/04-Lock原理.md" class="" aria-label="04.Lock原理"><!--[--><!--]--> 04.Lock原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/05-集合.md" class="" aria-label="05.集合"><!--[--><!--]--> 05.集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/06-ThreadPool.md" class="" aria-label="06.ThreadPool"><!--[--><!--]--> 06.ThreadPool <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/07-CompletableFuture.md" class="" aria-label="07.CompletableFuture"><!--[--><!--]--> 07.CompletableFuture <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MySQL"><span class="title">MySQL</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MySQL"><span class="title">MySQL</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mysql/MySQL01-安装.md" class="" aria-label="MySQL01-安装"><!--[--><!--]--> MySQL01-安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL02-逻辑架构.md" class="" aria-label="MySQL02-逻辑架构"><!--[--><!--]--> MySQL02-逻辑架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL03-索引-主键索引.md" class="" aria-label="MySQL03-索引-主键索引"><!--[--><!--]--> MySQL03-索引-主键索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL04-索引-非主键索引.md" class="" aria-label="MySQL04-索引-非主键索引"><!--[--><!--]--> MySQL04-索引-非主键索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL05-优化-Explain分析.md" class="" aria-label="MySQL05-优化-Explain分析"><!--[--><!--]--> MySQL05-优化-Explain分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL06-优化-索引失效.md" class="" aria-label="MySQL06-优化-索引失效"><!--[--><!--]--> MySQL06-优化-索引失效 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL07-优化-专题.md" class="" aria-label="MySQL07-优化-专题"><!--[--><!--]--> MySQL07-优化-专题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL08-优化-索引总结.md" class="" aria-label="MySQL08-优化-索引总结"><!--[--><!--]--> MySQL08-优化-索引总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL09-日志-基础日志.md" class="" aria-label="MySQL09-日志-基础日志"><!--[--><!--]--> MySQL09-日志-基础日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL10-日志-事务日志.md" class="" aria-label="MySQL10-日志-事务日志"><!--[--><!--]--> MySQL10-日志-事务日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL11-锁-概述.md" class="" aria-label="MySQL11-锁-概述"><!--[--><!--]--> MySQL11-锁-概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL12-锁-MyISAM表锁.md" class="" aria-label="MySQL12-锁-MyISAM表锁"><!--[--><!--]--> MySQL12-锁-MyISAM表锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL13-锁-InnoDB行锁.md" class="" aria-label="MySQL13-锁-InnoDB行锁"><!--[--><!--]--> MySQL13-锁-InnoDB行锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL14-MVCC-快照读和当前读.md" class="" aria-label="MySQL14-MVCC-快照读和当前读"><!--[--><!--]--> MySQL14-MVCC-快照读和当前读 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL15-MVCC-隐藏字段以及Undo Log版本链.md" class="" aria-label="MySQL15-MVCC-隐藏字段以及Undo Log版本链"><!--[--><!--]--> MySQL15-MVCC-隐藏字段以及Undo Log版本链 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL16-MVCC-ReadView.md" class="" aria-label="MySQL16-MVCC-ReadView"><!--[--><!--]--> MySQL16-MVCC-ReadView <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL17-ShardingSphere.md" class="" aria-label="MySQL17-ShardingSphere"><!--[--><!--]--> MySQL17-ShardingSphere <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="云上实战"><span class="title">云上实战</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="云上实战"><span class="title">云上实战</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cloud/0、消息队列-Kafka.md" class="" aria-label="0、消息队列-Kafka"><!--[--><!--]--> 0、消息队列-Kafka <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/1、架构师核心-云计算基础.md" class="" aria-label="1、架构师核心-云计算基础"><!--[--><!--]--> 1、架构师核心-云计算基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/2、架构师核心-云上演练场.md" class="" aria-label="2、架构师核心-云上演练场"><!--[--><!--]--> 2、架构师核心-云上演练场 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/3、附录：中间件与环境安装文档.md" class="" aria-label="3、附录：中间件与环境安装文档"><!--[--><!--]--> 3、附录：中间件与环境安装文档 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/datastructure/ds.md" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="谷粒随享"><span class="title">谷粒随享</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="谷粒随享"><span class="title">谷粒随享</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tingshu/00-环境安装.md" class="" aria-label="00-环境安装"><!--[--><!--]--> 00-环境安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/01-前端部署.md" class="" aria-label="01-前端部署"><!--[--><!--]--> 01-前端部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/02-ElasticSearch入门.md" class="" aria-label="02-ElasticSearch入门"><!--[--><!--]--> 02-ElasticSearch入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/03-MongoDB入门.md" class="" aria-label="03-MongoDB入门"><!--[--><!--]--> 03-MongoDB入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第1章 专辑管理.md" class="" aria-label="第1章 专辑管理"><!--[--><!--]--> 第1章 专辑管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第2章 声音管理.md" class="" aria-label="第2章 声音管理"><!--[--><!--]--> 第2章 声音管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第3章 用户登录.md" class="" aria-label="第3章 用户登录"><!--[--><!--]--> 第3章 用户登录 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第4章 检索模块.md" class="" aria-label="第4章 检索模块"><!--[--><!--]--> 第4章 检索模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第5章 详情介绍.md" class="" aria-label="第5章 详情介绍"><!--[--><!--]--> 第5章 详情介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第6章 详情优化.md" class="" aria-label="第6章 详情优化"><!--[--><!--]--> 第6章 详情优化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第7章 订单.md" class="" aria-label="第7章 订单"><!--[--><!--]--> 第7章 订单 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第8章 支付.md" class="" aria-label="第8章 支付"><!--[--><!--]--> 第8章 支付 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第9章 分布式任务调度.md" class="" aria-label="第9章 分布式任务调度"><!--[--><!--]--> 第9章 分布式任务调度 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第10章 直播.md" class="" aria-label="第10章 直播"><!--[--><!--]--> 第10章 直播 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试专题01"><span class="title">面试专题01</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试专题01"><span class="title">面试专题01</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/00.高频面试题/高频面试题.md" class="" aria-label="高频面试题"><!--[--><!--]--> 高频面试题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/01.Java基础/01.JAVASE/JAVASE.md" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/01.Java基础/01.JAVASE/JAVASE.md" class="" aria-label="01.JAVASE"><!--[--><!--]--> 01.JAVASE <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/01.Java基础/02.集合类/集合类.md" class="" aria-label="02.集合类"><!--[--><!--]--> 02.集合类 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/02.Java框架/01.MyBatis/MyBatis.md" class="" aria-label="Java框架"><!--[--><!--]--> Java框架 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/01.MyBatis/MyBatis.md" class="" aria-label="01.MyBatis"><!--[--><!--]--> 01.MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/02.Spring、SpringMVC、SpringBoot/Spring、SpringMVC、SpringBoot.md" class="" aria-label="02.Spring、SpringMVC、SpringBoot"><!--[--><!--]--> 02.Spring、SpringMVC、SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/03.SpringCloud/SpringCloud.md" class="" aria-label="03.SpringCloud"><!--[--><!--]--> 03.SpringCloud <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/03.Java高级/01.JVM/JVM.md" class="" aria-label="Java高级"><!--[--><!--]--> Java高级 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/01.JVM/JVM.md" class="" aria-label="01.JVM"><!--[--><!--]--> 01.JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/02.JUC/JUC.md" class="" aria-label="02.JUC"><!--[--><!--]--> 02.JUC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/线程、并发/线程、并发.md" class="" aria-label="04.线程、并发"><!--[--><!--]--> 04.线程、并发 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/03.设计模式/设计模式.md" class="" aria-label="05.设计模式"><!--[--><!--]--> 05.设计模式 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/07.分布式/微服务、分布式/微服务、分布式.md" class="" aria-label="分布式"><!--[--><!--]--> 分布式 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/微服务、分布式/微服务、分布式.md" class="" aria-label="01.微服务、分布式"><!--[--><!--]--> 01.微服务、分布式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/Cloud核心中间件/Cloud核心中间件.md" class="" aria-label="02.Cloud核心中间件"><!--[--><!--]--> 02.Cloud核心中间件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试专题02"><span class="title">面试专题02</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试专题02"><span class="title">面试专题02</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/04.数据库/MySQL/MySQL.md" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/04.数据库/MySQL/MySQL.md" class="" aria-label="01.MYSQL"><!--[--><!--]--> 01.MYSQL <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/05.缓存/Redis/Redis.md" class="" aria-label="02.Redis"><!--[--><!--]--> 02.Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/06.消息队列/RabbitMQ/RabbitMQ.md" class="" aria-label="03.消息队列"><!--[--><!--]--> 03.消息队列 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/ElasticSearch/ElasticSearch.md" class="" aria-label="04.ElasticSearch"><!--[--><!--]--> 04.ElasticSearch <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/08.场景题/场景题/场景题.md" class="" aria-label="场景题"><!--[--><!--]--> 场景题 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/08.场景题/场景题/场景题.md" class="" aria-label="01.场景题"><!--[--><!--]--> 01.场景题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/08.场景题/项目上线问题排查/项目上线问题排查.md" class="" aria-label="02.项目上线问题排查"><!--[--><!--]--> 02.项目上线问题排查 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/09.人事面试/人事面试.md" class="" aria-label="03.人事面试"><!--[--><!--]--> 03.人事面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/10.网络/计算机网络/计算机网络.md" class="" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/计算机网络/计算机网络.md" class="" aria-label="01.计算机网络"><!--[--><!--]--> 01.计算机网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/Netty/Netty.md" class="" aria-label="02.Netty"><!--[--><!--]--> 02.Netty <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/Tomcat/Tomcat.md" class="" aria-label="03.Tomcat"><!--[--><!--]--> 03.Tomcat <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/11.热门领域概念/云计算/云计算.md" class="" aria-label="04.云计算"><!--[--><!--]--> 04.云计算 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/laohix/laohix.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaSE"><span class="title">JavaSE</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaSE"><span class="title">JavaSE</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java_se/00-晨考题/JAVASE晨考题.md" class="" aria-label="00-JavaSE晨考题"><!--[--><!--]--> 00-JavaSE晨考题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day01-笔记/day01 Java语言概述.md" class="" aria-label="day01-Java语言概述"><!--[--><!--]--> day01-Java语言概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day02-笔记/day02 变量和数据类型.md" class="" aria-label="day02-变量和数据类型"><!--[--><!--]--> day02-变量和数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day03-笔记/day03 变量和数据类型.md" class="" aria-label="day03-变量和数据类型"><!--[--><!--]--> day03-变量和数据类型 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day04-笔记/day04 分支结构和循环结构.md" class="" aria-label="day04-分支结构和循环结构"><!--[--><!--]--> day04-分支结构和循环结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day05-笔记/day05 循环结构.md" class="" aria-label="day05-循环结构"><!--[--><!--]--> day05-循环结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day06-笔记/day06-方法和数组.md" class="" aria-label="day06-方法和数组"><!--[--><!--]--> day06-方法和数组 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day07-笔记/day07-数组和排序.md" class="" aria-label="day07-数组和排序"><!--[--><!--]--> day07-数组和排序 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day08-笔记/day08-初识面向对象.md" class="" aria-label="day08-初识面向对象"><!--[--><!--]--> day08-初识面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day09-笔记/day09-封装和继承.md" class="" aria-label="day09-封装和继承"><!--[--><!--]--> day09-封装和继承 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day10-笔记/day10-方法重写和多态.md" class="" aria-label="day10-方法重写和多态"><!--[--><!--]--> day10-方法重写和多态 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day11-笔记/day11-方法重写和多态.md" class="" aria-label="day11-方法重写和多态"><!--[--><!--]--> day11-方法重写和多态 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day12-笔记/day12-多态和抽象类.md" class="" aria-label="day12-多态和抽象类"><!--[--><!--]--> day12-多态和抽象类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day13-笔记/day13-接口与异常.md" class="" aria-label="day13-接口与异常"><!--[--><!--]--> day13-接口与异常 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day14-笔记/day14-常用类API.md" class="" aria-label="day14-常用类API"><!--[--><!--]--> day14-常用类API <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day16-笔记/day16-常用类与集合.md" class="" aria-label="day16-常用类与集合"><!--[--><!--]--> day16-常用类与集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day17-笔记/day17-IO.md" class="" aria-label="day17-IO"><!--[--><!--]--> day17-IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day19-笔记/day19-多线程.md" class="" aria-label="day19-多线程"><!--[--><!--]--> day19-多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day20-笔记/day20-网络编程.md" class="" aria-label="day20-网络编程"><!--[--><!--]--> day20-网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day21-笔记/day21-注解和反射.md" class="" aria-label="day21-注解和反射"><!--[--><!--]--> day21-注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day22-笔记/day22-JDK8新特性1.md" class="" aria-label="day22-JDK8新特性1"><!--[--><!--]--> day22-JDK8新特性1 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day22-笔记/day22-JDK8新特性2.md" class="" aria-label="day22-JDK8新特性2"><!--[--><!--]--> day22-JDK8新特性2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_se/day23-笔记/day23-JDK8-17新特性.md" class="" aria-label="day23-JDK8-17新特性"><!--[--><!--]--> day23-JDK8-17新特性 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="JavaWeb"><span class="title">JavaWeb</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="JavaWeb"><span class="title">JavaWeb</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java_web/00-晨考题/晨考题.md" class="" aria-label="00.晨考题"><!--[--><!--]--> 00.晨考题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/01-mysql/note01-mysql.md" class="" aria-label="01.MySQL"><!--[--><!--]--> 01.MySQL <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/02-jdbc/note02-JDBC.md" class="" aria-label="02.JDBC"><!--[--><!--]--> 02.JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/03-js/03-javascript.md" class="" aria-label="03.JavaScript"><!--[--><!--]--> 03.JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/04-tomcat/tomcat.md" class="" aria-label="04.tomcat"><!--[--><!--]--> 04.tomcat <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/05-servlet/Servlet.md" class="" aria-label="05.Servlet"><!--[--><!--]--> 05.Servlet <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/06-请求响应/06-请求响应.md" class="" aria-label="06.请求响应"><!--[--><!--]--> 06.请求响应 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/07-会话控制/07-会话控制1.md" class="" aria-label="07.会话控制1"><!--[--><!--]--> 07.会话控制1 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/07-会话控制/07-会话控制2.md" class="" aria-label="07.会话控制2"><!--[--><!--]--> 07.会话控制2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/08-前端工程化/08-前端工程化.md" class="" aria-label="08.前端工程化"><!--[--><!--]--> 08.前端工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/09-vue01/vue01.md" class="" aria-label="09.vue01"><!--[--><!--]--> 09.vue01 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/10-vue02/vue02.md" class="" aria-label="10.vue02"><!--[--><!--]--> 10.vue02 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/11-路由PiniaAjax/路由PiniaAjax.md" class="" aria-label="11.路由PiniaAjax"><!--[--><!--]--> 11.路由PiniaAjax <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/12-基本CURD/基本CURD.md" class="" aria-label="12.基本CURD"><!--[--><!--]--> 12.基本CURD <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/13-微头条01/微头条01.md" class="" aria-label="13.微头条01"><!--[--><!--]--> 13.微头条01 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java_web/14-微头条02/微头条02.md" class="" aria-label="14.微头条02"><!--[--><!--]--> 14.微头条02 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>资料</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/01_第一章 WEB开发概述.md" class="" aria-label="第一章 WEB开发概述"><!--[--><!--]--> 第一章 WEB开发概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/02_第二章 HTML&amp;CSS.md" class="" aria-label="第二章 HTML&amp;CSS"><!--[--><!--]--> 第二章 HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/03_第三章 JavaScript.md" class="" aria-label="第三章 JavaScript"><!--[--><!--]--> 第三章 JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/04_第四章 XML_Tomcat_HTTP.md" class="" aria-label="第四章 XML_Tomcat_HTTP"><!--[--><!--]--> 第四章 XML_Tomcat_HTTP <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/05_第五章 Servlet.md" class="" aria-label="第五章 Servlet"><!--[--><!--]--> 第五章 Servlet <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/06_第六章 会话_过滤器_监听器.md" class="" aria-label="第六章 会话_过滤器_监听器"><!--[--><!--]--> 第六章 会话_过滤器_监听器 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/07_第七章 前端工程化.md" class="" aria-label="第七章 前端工程化"><!--[--><!--]--> 第七章 前端工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_web/00-资料/08_第八章 微头条项目开发.md" class="" aria-label="第八章 微头条项目开发"><!--[--><!--]--> 第八章 微头条项目开发 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="SSM"><span class="title">SSM</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="SSM"><span class="title">SSM</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ssm/01_Maven/01_Maven依赖管理项目构建工具.md" class="" aria-label="01.Maven"><!--[--><!--]--> 01.Maven <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/02_Spring/02_Spring企业开发核心框架.md" class="" aria-label="02.Spring"><!--[--><!--]--> 02.Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/03_SpringMVC/03_SpringMVC控制层框架.md" class="" aria-label="03.SpringMVC"><!--[--><!--]--> 03.SpringMVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/04_MyBatis/04_MyBatis持久层框架.md" class="" aria-label="04.MyBatis"><!--[--><!--]--> 04.MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/05_SSM/05_SSM整合实战.md" class="" aria-label="05.SSM整合实战"><!--[--><!--]--> 05.SSM整合实战 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/06_SpringBoot/SpringBoot.md" class="" aria-label="06.SpringBoot"><!--[--><!--]--> 06.SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/07_Linux/Linux.md" class="" aria-label="07.Linux"><!--[--><!--]--> 07.Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/08_Redis/Redis.md" class="" aria-label="08.Redis"><!--[--><!--]--> 08.Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/09_Git/Git.md" class="" aria-label="09.Git"><!--[--><!--]--> 09.Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/10_Git补充/Git补充.md" class="" aria-label="10.Git补充"><!--[--><!--]--> 10.Git补充 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ssm/11_微博客项目/微博客项目.md" class="" aria-label="11.微博客项目"><!--[--><!--]--> 11.微博客项目 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="尚品甄选"><span class="title">尚品甄选</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="尚品甄选"><span class="title">尚品甄选</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/spzx/day01/day01课件.md" class="" aria-label="day01课件"><!--[--><!--]--> day01课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day02/day02课件.md" class="" aria-label="day02课件"><!--[--><!--]--> day02课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day03/day03课件.md" class="" aria-label="day03课件"><!--[--><!--]--> day03课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day04/day04课件.md" class="" aria-label="day04课件"><!--[--><!--]--> day04课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day05/day05课件.md" class="" aria-label="day05课件"><!--[--><!--]--> day05课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day06/day06课件.md" class="" aria-label="day06课件"><!--[--><!--]--> day06课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day07/day07课件.md" class="" aria-label="day07课件"><!--[--><!--]--> day07课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day08/day08课件.md" class="" aria-label="day08课件"><!--[--><!--]--> day08课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day09/day09课件.md" class="" aria-label="day09课件"><!--[--><!--]--> day09课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day10/day10课件.md" class="" aria-label="day10课件"><!--[--><!--]--> day10课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day11/day11课件.md" class="" aria-label="day11课件"><!--[--><!--]--> day11课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day12/day12课件.md" class="" aria-label="day12课件"><!--[--><!--]--> day12课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day13/day13课件.md" class="" aria-label="day13课件"><!--[--><!--]--> day13课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day14/day14课件.md" class="" aria-label="day14课件"><!--[--><!--]--> day14课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day15/day15课件.md" class="" aria-label="day15课件"><!--[--><!--]--> day15课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day16/day16课件.md" class="" aria-label="day16课件"><!--[--><!--]--> day16课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day17/day17课件.md" class="" aria-label="day17课件"><!--[--><!--]--> day17课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day18/day18课件.md" class="" aria-label="day18课件"><!--[--><!--]--> day18课件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/spzx/day19/day19课件.md" class="" aria-label="day19课件"><!--[--><!--]--> day19课件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java高级"><span class="title">Java高级</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java高级"><span class="title">Java高级</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JVM</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/01-JVM-概述.md" class="" aria-label="01.JVM-概述"><!--[--><!--]--> 01.JVM-概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/02-JVM-类加载机制.md" class="" aria-label="02.JVM-类加载机制"><!--[--><!--]--> 02.JVM-类加载机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/03-JVM-不重要部分.md" class="" aria-label="03.JVM-不重要部分"><!--[--><!--]--> 03.JVM-不重要部分 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/04-JVM-执行引擎.md" class="" aria-label="04.JVM-执行引擎"><!--[--><!--]--> 04.JVM-执行引擎 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/05-JVM-方法区.md" class="" aria-label="05.JVM-方法区"><!--[--><!--]--> 05.JVM-方法区 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/06-JVM-Java栈.md" class="" aria-label="06.JVM-Java栈"><!--[--><!--]--> 06.JVM-Java栈 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/07-JVM-堆.md" class="" aria-label="07.JVM-堆"><!--[--><!--]--> 07.JVM-堆 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/jvm/08-JVM-GC.md" class="" aria-label="08.JVM-GC"><!--[--><!--]--> 08.JVM-GC <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>JUC</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/01-多线程回顾.md" class="" aria-label="01.多线程回顾"><!--[--><!--]--> 01.多线程回顾 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/02-synchronized.md" class="" aria-label="02.synchronized"><!--[--><!--]--> 02.synchronized <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/03-Lock操作.md" class="" aria-label="03.Lock操作"><!--[--><!--]--> 03.Lock操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/04-Lock原理.md" class="" aria-label="04.Lock原理"><!--[--><!--]--> 04.Lock原理 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/05-集合.md" class="" aria-label="05.集合"><!--[--><!--]--> 05.集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/06-ThreadPool.md" class="" aria-label="06.ThreadPool"><!--[--><!--]--> 06.ThreadPool <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java_adv/juc/07-CompletableFuture.md" class="" aria-label="07.CompletableFuture"><!--[--><!--]--> 07.CompletableFuture <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MySQL"><span class="title">MySQL</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MySQL"><span class="title">MySQL</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mysql/MySQL01-安装.md" class="" aria-label="MySQL01-安装"><!--[--><!--]--> MySQL01-安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL02-逻辑架构.md" class="" aria-label="MySQL02-逻辑架构"><!--[--><!--]--> MySQL02-逻辑架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL03-索引-主键索引.md" class="" aria-label="MySQL03-索引-主键索引"><!--[--><!--]--> MySQL03-索引-主键索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL04-索引-非主键索引.md" class="" aria-label="MySQL04-索引-非主键索引"><!--[--><!--]--> MySQL04-索引-非主键索引 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL05-优化-Explain分析.md" class="" aria-label="MySQL05-优化-Explain分析"><!--[--><!--]--> MySQL05-优化-Explain分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL06-优化-索引失效.md" class="" aria-label="MySQL06-优化-索引失效"><!--[--><!--]--> MySQL06-优化-索引失效 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL07-优化-专题.md" class="" aria-label="MySQL07-优化-专题"><!--[--><!--]--> MySQL07-优化-专题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL08-优化-索引总结.md" class="" aria-label="MySQL08-优化-索引总结"><!--[--><!--]--> MySQL08-优化-索引总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL09-日志-基础日志.md" class="" aria-label="MySQL09-日志-基础日志"><!--[--><!--]--> MySQL09-日志-基础日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL10-日志-事务日志.md" class="" aria-label="MySQL10-日志-事务日志"><!--[--><!--]--> MySQL10-日志-事务日志 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL11-锁-概述.md" class="" aria-label="MySQL11-锁-概述"><!--[--><!--]--> MySQL11-锁-概述 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL12-锁-MyISAM表锁.md" class="" aria-label="MySQL12-锁-MyISAM表锁"><!--[--><!--]--> MySQL12-锁-MyISAM表锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL13-锁-InnoDB行锁.md" class="" aria-label="MySQL13-锁-InnoDB行锁"><!--[--><!--]--> MySQL13-锁-InnoDB行锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL14-MVCC-快照读和当前读.md" class="" aria-label="MySQL14-MVCC-快照读和当前读"><!--[--><!--]--> MySQL14-MVCC-快照读和当前读 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL15-MVCC-隐藏字段以及Undo Log版本链.md" class="" aria-label="MySQL15-MVCC-隐藏字段以及Undo Log版本链"><!--[--><!--]--> MySQL15-MVCC-隐藏字段以及Undo Log版本链 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL16-MVCC-ReadView.md" class="" aria-label="MySQL16-MVCC-ReadView"><!--[--><!--]--> MySQL16-MVCC-ReadView <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mysql/MySQL17-ShardingSphere.md" class="" aria-label="MySQL17-ShardingSphere"><!--[--><!--]--> MySQL17-ShardingSphere <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="云上实战"><span class="title">云上实战</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="云上实战"><span class="title">云上实战</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cloud/0、消息队列-Kafka.md" class="" aria-label="0、消息队列-Kafka"><!--[--><!--]--> 0、消息队列-Kafka <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/1、架构师核心-云计算基础.md" class="" aria-label="1、架构师核心-云计算基础"><!--[--><!--]--> 1、架构师核心-云计算基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/2、架构师核心-云上演练场.md" class="" aria-label="2、架构师核心-云上演练场"><!--[--><!--]--> 2、架构师核心-云上演练场 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cloud/3、附录：中间件与环境安装文档.md" class="" aria-label="3、附录：中间件与环境安装文档"><!--[--><!--]--> 3、附录：中间件与环境安装文档 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/datastructure/ds.md" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="谷粒随享"><span class="title">谷粒随享</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="谷粒随享"><span class="title">谷粒随享</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/tingshu/00-环境安装.md" class="" aria-label="00-环境安装"><!--[--><!--]--> 00-环境安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/01-前端部署.md" class="" aria-label="01-前端部署"><!--[--><!--]--> 01-前端部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/02-ElasticSearch入门.md" class="" aria-label="02-ElasticSearch入门"><!--[--><!--]--> 02-ElasticSearch入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/03-MongoDB入门.md" class="" aria-label="03-MongoDB入门"><!--[--><!--]--> 03-MongoDB入门 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第1章 专辑管理.md" class="" aria-label="第1章 专辑管理"><!--[--><!--]--> 第1章 专辑管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第2章 声音管理.md" class="" aria-label="第2章 声音管理"><!--[--><!--]--> 第2章 声音管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第3章 用户登录.md" class="" aria-label="第3章 用户登录"><!--[--><!--]--> 第3章 用户登录 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第4章 检索模块.md" class="" aria-label="第4章 检索模块"><!--[--><!--]--> 第4章 检索模块 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第5章 详情介绍.md" class="" aria-label="第5章 详情介绍"><!--[--><!--]--> 第5章 详情介绍 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第6章 详情优化.md" class="" aria-label="第6章 详情优化"><!--[--><!--]--> 第6章 详情优化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第7章 订单.md" class="" aria-label="第7章 订单"><!--[--><!--]--> 第7章 订单 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第8章 支付.md" class="" aria-label="第8章 支付"><!--[--><!--]--> 第8章 支付 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第9章 分布式任务调度.md" class="" aria-label="第9章 分布式任务调度"><!--[--><!--]--> 第9章 分布式任务调度 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/tingshu/第10章 直播.md" class="" aria-label="第10章 直播"><!--[--><!--]--> 第10章 直播 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试专题01"><span class="title">面试专题01</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试专题01"><span class="title">面试专题01</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/00.高频面试题/高频面试题.md" class="" aria-label="高频面试题"><!--[--><!--]--> 高频面试题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/01.Java基础/01.JAVASE/JAVASE.md" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/01.Java基础/01.JAVASE/JAVASE.md" class="" aria-label="01.JAVASE"><!--[--><!--]--> 01.JAVASE <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/01.Java基础/02.集合类/集合类.md" class="" aria-label="02.集合类"><!--[--><!--]--> 02.集合类 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/02.Java框架/01.MyBatis/MyBatis.md" class="" aria-label="Java框架"><!--[--><!--]--> Java框架 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/01.MyBatis/MyBatis.md" class="" aria-label="01.MyBatis"><!--[--><!--]--> 01.MyBatis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/02.Spring、SpringMVC、SpringBoot/Spring、SpringMVC、SpringBoot.md" class="" aria-label="02.Spring、SpringMVC、SpringBoot"><!--[--><!--]--> 02.Spring、SpringMVC、SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/02.Java框架/03.SpringCloud/SpringCloud.md" class="" aria-label="03.SpringCloud"><!--[--><!--]--> 03.SpringCloud <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/03.Java高级/01.JVM/JVM.md" class="" aria-label="Java高级"><!--[--><!--]--> Java高级 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/01.JVM/JVM.md" class="" aria-label="01.JVM"><!--[--><!--]--> 01.JVM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/02.JUC/JUC.md" class="" aria-label="02.JUC"><!--[--><!--]--> 02.JUC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/线程、并发/线程、并发.md" class="" aria-label="04.线程、并发"><!--[--><!--]--> 04.线程、并发 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/03.Java高级/03.设计模式/设计模式.md" class="" aria-label="05.设计模式"><!--[--><!--]--> 05.设计模式 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/07.分布式/微服务、分布式/微服务、分布式.md" class="" aria-label="分布式"><!--[--><!--]--> 分布式 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/微服务、分布式/微服务、分布式.md" class="" aria-label="01.微服务、分布式"><!--[--><!--]--> 01.微服务、分布式 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/Cloud核心中间件/Cloud核心中间件.md" class="" aria-label="02.Cloud核心中间件"><!--[--><!--]--> 02.Cloud核心中间件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="面试专题02"><span class="title">面试专题02</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="面试专题02"><span class="title">面试专题02</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/04.数据库/MySQL/MySQL.md" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/04.数据库/MySQL/MySQL.md" class="" aria-label="01.MYSQL"><!--[--><!--]--> 01.MYSQL <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/05.缓存/Redis/Redis.md" class="" aria-label="02.Redis"><!--[--><!--]--> 02.Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/06.消息队列/RabbitMQ/RabbitMQ.md" class="" aria-label="03.消息队列"><!--[--><!--]--> 03.消息队列 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/07.分布式/ElasticSearch/ElasticSearch.md" class="" aria-label="04.ElasticSearch"><!--[--><!--]--> 04.ElasticSearch <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/08.场景题/场景题/场景题.md" class="" aria-label="场景题"><!--[--><!--]--> 场景题 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/08.场景题/场景题/场景题.md" class="" aria-label="01.场景题"><!--[--><!--]--> 01.场景题 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/08.场景题/项目上线问题排查/项目上线问题排查.md" class="" aria-label="02.项目上线问题排查"><!--[--><!--]--> 02.项目上线问题排查 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/09.人事面试/人事面试.md" class="" aria-label="03.人事面试"><!--[--><!--]--> 03.人事面试 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/interview/10.网络/计算机网络/计算机网络.md" class="" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/计算机网络/计算机网络.md" class="" aria-label="01.计算机网络"><!--[--><!--]--> 01.计算机网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/Netty/Netty.md" class="" aria-label="02.Netty"><!--[--><!--]--> 02.Netty <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/10.网络/Tomcat/Tomcat.md" class="" aria-label="03.Tomcat"><!--[--><!--]--> 03.Tomcat <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/interview/11.热门领域概念/云计算/云计算.md" class="" aria-label="04.云计算"><!--[--><!--]--> 04.云计算 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/laohix/laohix.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">三、Spring MVC控制层框架 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#目录" class="router-link-active router-link-exact-active sidebar-item" aria-label="目录"><!--[--><!--]--> 目录 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#一、springmvc简介和体验" class="router-link-active router-link-exact-active sidebar-item" aria-label="一、SpringMVC简介和体验"><!--[--><!--]--> 一、SpringMVC简介和体验 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 介绍"><!--[--><!--]--> 1. 介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-主要作用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 主要作用"><!--[--><!--]--> 2. 主要作用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-核心组件和调用流程理解" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 核心组件和调用流程理解"><!--[--><!--]--> 3. 核心组件和调用流程理解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_4-快速体验" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 快速体验"><!--[--><!--]--> 4. 快速体验 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#二、springmvc接收数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="二、SpringMVC接收数据"><!--[--><!--]--> 二、SpringMVC接收数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-访问路径设置" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 访问路径设置"><!--[--><!--]--> 1. 访问路径设置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-接收参数-重点" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 接收参数（重点）"><!--[--><!--]--> 2. 接收参数（重点） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-接收cookie数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 接收Cookie数据"><!--[--><!--]--> 3. 接收Cookie数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_4-接收请求头数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 接收请求头数据"><!--[--><!--]--> 4. 接收请求头数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_5-原生api对象操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 原生Api对象操作"><!--[--><!--]--> 5. 原生Api对象操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_6-共享域对象操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. 共享域对象操作"><!--[--><!--]--> 6. 共享域对象操作 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#三、springmvc响应数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="三、SpringMVC响应数据"><!--[--><!--]--> 三、SpringMVC响应数据 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-handler方法分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. handler方法分析"><!--[--><!--]--> 1. handler方法分析 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-页面跳转控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 页面跳转控制"><!--[--><!--]--> 2. 页面跳转控制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-返回json数据-重点" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 返回JSON数据（重点）"><!--[--><!--]--> 3. 返回JSON数据（重点） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_4-返回静态资源处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 返回静态资源处理"><!--[--><!--]--> 4. 返回静态资源处理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#四、restful风格设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="四、RESTFul风格设计"><!--[--><!--]--> 四、RESTFul风格设计 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-restful风格概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. RESTFul风格概述"><!--[--><!--]--> 1. RESTFul风格概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-restful风格实战" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. RESTFul风格实战"><!--[--><!--]--> 2. RESTFul风格实战 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#五、基于restful风格增删改查练习" class="router-link-active router-link-exact-active sidebar-item" aria-label="五、基于RESTFul风格增删改查练习"><!--[--><!--]--> 五、基于RESTFul风格增删改查练习 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-案例功能和接口分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 案例功能和接口分析"><!--[--><!--]--> 1. 案例功能和接口分析 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-工程项目准备" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 工程项目准备"><!--[--><!--]--> 2. 工程项目准备 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-增删改查实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 增删改查实现"><!--[--><!--]--> 3. 增删改查实现 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#六、springmvc其他扩展" class="router-link-active router-link-exact-active sidebar-item" aria-label="六、SpringMVC其他扩展"><!--[--><!--]--> 六、SpringMVC其他扩展 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-异常处理机制" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 异常处理机制"><!--[--><!--]--> 1. 异常处理机制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-拦截器使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 拦截器使用"><!--[--><!--]--> 2. 拦截器使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-参数校验" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 参数校验"><!--[--><!--]--> 3. 参数校验 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_4-文件上传和下载" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.文件上传和下载"><!--[--><!--]--> 4.文件上传和下载 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#七、springmvc底层原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="七、SpringMVC底层原理"><!--[--><!--]--> 七、SpringMVC底层原理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_1-启动配置流程" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 启动配置流程"><!--[--><!--]--> 1. 启动配置流程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_2-请求处理流程原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 请求处理流程原理"><!--[--><!--]--> 2. 请求处理流程原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ssm/03_SpringMVC/03_SpringMVC%E6%8E%A7%E5%88%B6%E5%B1%82%E6%A1%86%E6%9E%B6.html#_3-contextloaderlistener" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. ContextLoaderListener"><!--[--><!--]--> 3. ContextLoaderListener <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="三、spring-mvc控制层框架" tabindex="-1"><a class="header-anchor" href="#三、spring-mvc控制层框架" aria-hidden="true">#</a> 三、Spring MVC控制层框架</h1><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><ul><li><a href="#%E4%B8%80SpringMVC%E7%AE%80%E4%BB%8B%E5%92%8C%E4%BD%93%E9%AA%8C">一、SpringMVC简介和体验</a><ul><li><a href="#1-%E4%BB%8B%E7%BB%8D">1. 介绍</a></li><li><a href="#2-%E4%B8%BB%E8%A6%81%E4%BD%9C%E7%94%A8">2. 主要作用</a></li><li><a href="#3-%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E5%92%8C%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B%E7%90%86%E8%A7%A3">3. 核心组件和调用流程理解</a></li><li><a href="#4-%E5%BF%AB%E9%80%9F%E4%BD%93%E9%AA%8C">4. 快速体验</a></li></ul></li><li><a href="#%E4%BA%8CSpringMVC%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE">二、SpringMVC接收数据</a><ul><li><a href="#1-%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84%E8%AE%BE%E7%BD%AE">1. 访问路径设置</a></li><li><a href="#2-%E6%8E%A5%E6%94%B6%E5%8F%82%E6%95%B0%E9%87%8D%E7%82%B9">2. 接收参数（重点）</a><ul><li><a href="#21-param-%E5%92%8C-json%E5%8F%82%E6%95%B0%E6%AF%94%E8%BE%83">2.1 param 和 json参数比较</a></li><li><a href="#22-param%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6">2.2 param参数接收</a></li><li><a href="#23-%E8%B7%AF%E5%BE%84-%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6">2.3 路径 参数接收</a></li><li><a href="#24-json%E5%8F%82%E6%95%B0%E6%8E%A5%E6%94%B6">2.4 json参数接收</a></li></ul></li><li><a href="#3-%E6%8E%A5%E6%94%B6Cookie%E6%95%B0%E6%8D%AE">3. 接收Cookie数据</a></li><li><a href="#4-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82%E5%A4%B4%E6%95%B0%E6%8D%AE">4. 接收请求头数据</a></li><li><a href="#5-%E5%8E%9F%E7%94%9FApi%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C">5. 原生Api对象操作</a></li><li><a href="#6-%E5%85%B1%E4%BA%AB%E5%9F%9F%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C">6. 共享域对象操作</a><ul><li><a href="#61-%E5%B1%9E%E6%80%A7%E5%85%B1%E4%BA%AB%E5%9F%9F%E4%BD%9C%E7%94%A8%E5%9B%9E%E9%A1%BE">6.1 属性（共享）域作用回顾</a></li><li><a href="#62-Request%E7%BA%A7%E5%88%AB%E5%B1%9E%E6%80%A7%E5%85%B1%E4%BA%AB%E5%9F%9F">6.2 Request级别属性（共享）域</a></li><li><a href="#63-Session%E7%BA%A7%E5%88%AB%E5%B1%9E%E6%80%A7%E5%85%B1%E4%BA%AB%E5%9F%9F">6.3 Session级别属性（共享）域</a></li><li><a href="#64-Application%E7%BA%A7%E5%88%AB%E5%B1%9E%E6%80%A7%E5%85%B1%E4%BA%AB%E5%9F%9F">6.4 Application级别属性（共享）域</a></li></ul></li></ul></li><li><a href="#%E4%B8%89SpringMVC%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE">三、SpringMVC响应数据</a><ul><li><a href="#1-handler%E6%96%B9%E6%B3%95%E5%88%86%E6%9E%90">1. handler方法分析</a></li><li><a href="#2-%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E6%8E%A7%E5%88%B6">2. 页面跳转控制</a><ul><li><a href="#21-%E5%BF%AB%E9%80%9F%E8%BF%94%E5%9B%9Ejsp%E8%A7%86%E5%9B%BE">2.1 快速返回jsp视图</a></li><li><a href="#22-%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91">2.2 转发和重定向</a></li></ul></li><li><a href="#3-%E8%BF%94%E5%9B%9EJSON%E6%95%B0%E6%8D%AE%E9%87%8D%E7%82%B9">3. 返回JSON数据（重点）</a><ul><li><a href="#31-%E5%89%8D%E7%BD%AE%E5%87%86%E5%A4%87">3.1 前置准备</a></li><li><a href="#32-ResponseBody">3.2 @ResponseBody</a></li><li><a href="#33-RestController">3.3 @RestController</a></li></ul></li><li><a href="#4-%E8%BF%94%E5%9B%9E%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86">4. 返回静态资源处理</a></li></ul></li><li><a href="#%E5%9B%9BRESTFul%E9%A3%8E%E6%A0%BC%E8%AE%BE%E8%AE%A1">四、RESTFul风格设计</a><ul><li><a href="#1-RESTFul%E9%A3%8E%E6%A0%BC%E6%A6%82%E8%BF%B0">1. RESTFul风格概述</a><ul><li><a href="#11-RESTFul%E9%A3%8E%E6%A0%BC%E7%AE%80%E4%BB%8B">1.1 RESTFul风格简介</a></li><li><a href="#12-RESTFul%E9%A3%8E%E6%A0%BC%E7%89%B9%E7%82%B9">1.2 RESTFul风格特点</a></li><li><a href="#13-RESTFul%E9%A3%8E%E6%A0%BC%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83">1.3 RESTFul风格设计规范</a></li><li><a href="#14-RESTFul%E9%A3%8E%E6%A0%BC%E5%A5%BD%E5%A4%84">1.4 RESTFul风格好处</a></li></ul></li><li><a href="#2-RESTFul%E9%A3%8E%E6%A0%BC%E5%AE%9E%E6%88%98">2. RESTFul风格实战</a><ul><li><a href="#21-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90">2.1 需求分析</a></li><li><a href="#22-RESTFul%E9%A3%8E%E6%A0%BC%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1">2.2 RESTFul风格接口设计</a></li><li><a href="#23-%E5%90%8E%E5%8F%B0%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0">2.3 后台接口实现</a></li></ul></li></ul></li><li><a href="#%E4%BA%94%E5%9F%BA%E4%BA%8ERESTFul%E9%A3%8E%E6%A0%BC%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E7%BB%83%E4%B9%A0">五、基于RESTFul风格增删改查练习</a><ul><li><a href="#1-%E6%A1%88%E4%BE%8B%E5%8A%9F%E8%83%BD%E5%92%8C%E6%8E%A5%E5%8F%A3%E5%88%86%E6%9E%90">1. 案例功能和接口分析</a><ul><li><a href="#11-%E5%8A%9F%E8%83%BD%E9%A2%84%E8%A7%88">1.1 功能预览</a></li><li><a href="#12-%E6%8E%A5%E5%8F%A3%E5%88%86%E6%9E%90">1.2 接口分析</a></li></ul></li><li><a href="#2-%E5%B7%A5%E7%A8%8B%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87">2. 工程项目准备</a><ul><li><a href="#21-%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA">2.1 前端项目搭建</a></li><li><a href="#22-%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA">2.2 后端项目搭建</a></li></ul></li><li><a href="#3-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%AE%9E%E7%8E%B0">3. 增删改查实现</a><ul><li><a href="#41-%E9%A1%B9%E7%9B%AE%E6%A0%B9%E8%B7%AF%E5%BE%84%E8%AE%BE%E8%AE%A1">4.1 项目根路径设计</a></li><li><a href="#42-SpringMVC%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">4.2 SpringMVC解决跨域问题</a></li><li><a href="#43-%E4%B8%9A%E5%8A%A1%E5%AE%9E%E7%8E%B0">4.3 业务实现</a></li></ul></li></ul></li><li><a href="#%E5%85%ADSpringMVC%E5%85%B6%E4%BB%96%E6%89%A9%E5%B1%95">六、SpringMVC其他扩展</a><ul><li><a href="#1-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6">1. 异常处理机制</a><ul><li><a href="#11-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%A6%82%E5%BF%B5">1.1 异常处理概念</a></li><li><a href="#12-%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%BC%82%E5%B8%B8%E5%A5%BD%E5%A4%84">1.2 声明式异常好处</a></li><li><a href="#13-%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E5%BC%82%E5%B8%B8%E5%A3%B0%E6%98%8E%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">1.3 基于注解异常声明异常处理</a></li></ul></li><li><a href="#2-%E6%8B%A6%E6%88%AA%E5%99%A8%E4%BD%BF%E7%94%A8">2. 拦截器使用</a><ul><li><a href="#21-%E6%8B%A6%E6%88%AA%E5%99%A8%E6%A6%82%E5%BF%B5">2.1 拦截器概念</a></li><li><a href="#22-%E6%8B%A6%E6%88%AA%E5%99%A8%E4%BD%BF%E7%94%A8">2.2 拦截器使用</a></li><li><a href="#23-%E6%8B%A6%E6%88%AA%E5%99%A8%E4%BD%9C%E7%94%A8%E4%BD%8D%E7%BD%AE%E5%9B%BE%E8%A7%A3">2.3 拦截器作用位置图解</a></li><li><a href="#24-%E6%8B%A6%E6%88%AA%E5%99%A8%E6%A1%88%E4%BE%8B">2.4 拦截器案例</a></li></ul></li><li><a href="#3-%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C">3. 参数校验</a></li><li><a href="#4%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD-">4.文件上传和下载 </a><ul><li><a href="#41-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">4.1 文件上传</a></li><li><a href="#42-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">4.2 文件下载</a></li></ul></li></ul></li><li><a href="#%E4%B8%83SpringMVC%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86">七、SpringMVC底层原理</a><ul><li><a href="#1-%E5%90%AF%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%B5%81%E7%A8%8B">1. 启动配置流程</a><ul><li><a href="#11-Servlet-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%9E%E9%A1%BE">1.1 Servlet 生命周期回顾</a></li><li><a href="#12-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C%E8%B0%83%E7%94%A8%E8%B7%AF%E7%BA%BF%E5%9B%BE">1.2 初始化操作调用路线图</a></li><li><a href="#13-SpringMVC-IoC-%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA">1.3 SpringMVC IoC 容器创建</a></li><li><a href="#14-%E5%B0%86-SpringMVC-IoC%E5%AE%B9%E5%99%A8%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%85%A5%E5%BA%94%E7%94%A8%E5%9F%9F">1.4 将 SpringMVC IoC容器对象存入应用域</a></li><li><a href="#15-%E8%AF%B7%E6%B1%82%E6%98%A0%E5%B0%84%E5%88%9D%E5%A7%8B%E5%8C%96">1.5 请求映射初始化</a></li><li><a href="#16-%E5%B0%8F%E7%BB%93">1.6 小结</a></li></ul></li><li><a href="#2-%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E5%8E%9F%E7%90%86">2. 请求处理流程原理</a><ul><li><a href="#21-%E6%80%BB%E4%BD%93%E9%98%B6%E6%AE%B5">2.1 总体阶段</a></li><li><a href="#22-%E8%B0%83%E7%94%A8%E5%89%8D%E9%98%B6%E6%AE%B5">2.2 调用前阶段</a></li><li><a href="#23%E8%B0%83%E7%94%A8%E5%90%8E%E9%98%B6%E6%AE%B5">2.3调用后阶段</a></li><li><a href="#24-%E6%89%80%E6%9C%89%E6%96%AD%E7%82%B9%E6%80%BB%E7%BB%93">2.4 所有断点总结</a></li></ul></li><li><a href="#3-ContextLoaderListener">3. ContextLoaderListener</a><ul><li><a href="#31-%E9%85%8D%E7%BD%AE%E5%88%86%E7%A6%BB%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98">3.1 配置分离相关问题</a></li><li><a href="#32-%E9%85%8D%E7%BD%AEContextLoaderListener">3.2 配置ContextLoaderListener</a></li><li><a href="#33-%E6%8E%A2%E8%AE%A8%E4%B8%A4%E4%B8%AAIoC%E5%AE%B9%E5%99%A8%E4%B9%8B%E9%97%B4%E5%85%B3%E7%B3%BB">3.3 探讨两个IoC容器之间关系</a></li><li><a href="#34-%E4%B8%A4%E4%B8%AAIoC%E5%AE%B9%E5%99%A8%E4%B9%8B%E9%97%B4Bean%E8%AE%BF%E9%97%AE">3.4 两个IoC容器之间Bean访问</a></li><li><a href="#35-%E6%9C%89%E5%8F%AF%E8%83%BD%E9%87%8D%E5%A4%8D%E5%AF%B9%E8%B1%A1">3.5 有可能重复对象</a></li><li><a href="#35-%E5%B0%8F%E7%BB%93">3.5 小结</a></li></ul></li></ul></li></ul><h2 id="一、springmvc简介和体验" tabindex="-1"><a class="header-anchor" href="#一、springmvc简介和体验" aria-hidden="true">#</a> 一、SpringMVC简介和体验</h2><h3 id="_1-介绍" tabindex="-1"><a class="header-anchor" href="#_1-介绍" aria-hidden="true">#</a> 1. 介绍</h3><p><a href="https://docs.spring.io/spring-framework/reference/web/webmvc.html" target="_blank" rel="noopener noreferrer">https://docs.spring.io/spring-framework/reference/web/webmvc.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Spring Web MVC是基于Servlet API构建的原始Web框架，从一开始就包含在Spring Framework中。正式名称“Spring Web MVC”来自其源模块的名称（ <code>spring-webmvc</code> ），但它通常被称为“Spring MVC”。</p><p>在控制层框架历经Strust、WebWork、Strust2等诸多产品的历代更迭之后，目前业界普遍选择了SpringMVC作为Java EE项目表述层开发的<strong>首选方案</strong>。之所以能做到这一点，是因为SpringMVC具备如下显著优势：</p><ul><li><strong>Spring 家族原生产品</strong>，与IOC容器等基础设施无缝对接</li><li>表述层各细分领域需要解决的问题<strong>全方位覆盖</strong>，提供<strong>全面解决方案</strong></li><li><strong>代码清新简洁</strong>，大幅度提升开发效率</li><li>内部组件化程度高，可插拔式组件<strong>即插即用</strong>，想要什么功能配置相应组件即可</li><li><strong>性能卓著</strong>，尤其适合现代大型、超大型互联网项目要求</li></ul><p>原生Servlet API开发代码片段</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> 
                                                        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>  
    <span class="token class-name">String</span> userName <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;userName=&quot;</span><span class="token operator">+</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>基于SpringMVC开发代码片段</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userName<span class="token punctuation">,</span><span class="token class-name">Sting</span> password<span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;userName=&quot;</span><span class="token operator">+</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//调用业务即可</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;result&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-主要作用" tabindex="-1"><a class="header-anchor" href="#_2-主要作用" aria-hidden="true">#</a> 2. 主要作用</h3><p><img src="/assets/image_RZj3JZFMaS-cc0d00b9.png" alt=""></p><p>SSM框架构建起单体项目的技术栈需求！其中的SpringMVC负责表述层（控制层）实现简化！</p><p>SpringMVC的作用主要覆盖的是表述层，例如：</p><ul><li>请求映射</li><li>数据输入</li><li>视图界面</li><li>请求分发</li><li>表单回显</li><li>会话控制</li><li>过滤拦截</li><li>异步交互</li><li>文件上传</li><li>文件下载</li><li>数据校验</li><li>类型转换</li><li>等等等</li></ul><p><strong>最终总结：</strong></p><ol><li>简化前端参数接收( 形参列表 )</li><li>简化后端数据响应( 返回值 )</li><li>以及其他......</li></ol><h3 id="_3-核心组件和调用流程理解" tabindex="-1"><a class="header-anchor" href="#_3-核心组件和调用流程理解" aria-hidden="true">#</a> 3. 核心组件和调用流程理解</h3><p>Spring MVC与许多其他Web框架一样，是围绕前端控制器模式设计的，其中中央 <code>Servlet</code> <code>DispatcherServlet</code> 做整体请求处理调度！</p><p>除了<code>DispatcherServlet</code>SpringMVC还会提供其他特殊的组件协作完成请求处理和响应呈现。</p><p><strong>SpringMVC处理请求流程：</strong></p><p><img src="/assets/image_IOG0UTDH---0c467ae7.png" alt=""></p><p><strong>SpringMVC涉及组件理解：</strong></p><ol><li>DispatcherServlet : SpringMVC提供，我们需要使用web.xml配置使其生效，它是整个流程处理的核心，所有请求都经过它的处理和分发！</li><li>HandlerMapping : SpringMVC提供，我们需要进行IoC配置使其加入IoC容器方可生效，它内部缓存handler(controller方法)和handler访问路径数据，被DispatcherServlet调用，用于查找路径对应的handler！</li><li>HandlerAdapter : SpringMVC提供，我们需要进行IoC配置使其加入IoC容器方可生效，它可以处理请求参数和处理响应数据数据，每次DispatcherServlet都是通过handlerAdapter间接调用handler，他是handler和DispatcherServlet之间的适配器！</li><li>Handler : handler又称处理器，他是Controller类内部的方法简称，是由我们自己定义，用来接收参数，向后调用业务，最终返回响应结果！</li><li>ViewResovler : SpringMVC提供，我们需要进行IoC配置使其加入IoC容器方可生效！视图解析器主要作用简化模版视图页面查找的，但是需要注意，前后端分离项目，后端只返回JSON数据，不返回页面，那就不需要视图解析器！所以，视图解析器，相对其他的组件不是必须的！</li></ol><h3 id="_4-快速体验" tabindex="-1"><a class="header-anchor" href="#_4-快速体验" aria-hidden="true">#</a> 4. 快速体验</h3><ol><li><p>体验场景需求</p><p><img src="/assets/image_r6DxapBw-8-fa2ac437.png" alt=""></p></li><li><p>配置分析</p><ol><li>DispatcherServlet，在web.xml配置！设置处理所有请求！</li><li>HandlerMapping,HandlerAdapter,Handler需要加入到IoC容器，供DS调用！</li><li>Handler自己声明（Controller）需要配置到HandlerMapping中供DS查找！</li></ol></li><li><p>准备项目</p><ol><li><p>创建项目</p><p>springmvc-base-quick</p><p>注意：需要转成maven/web程序！！</p></li><li><p>导入依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>6.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- springioc相关依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- web相关依赖  --&gt;</span>
    <span class="token comment">&lt;!-- 在 pom.xml 中引入 Jakarta EE Web API 的依赖 --&gt;</span>
    <span class="token comment">&lt;!--
        在 Spring Web MVC 6 中，Servlet API 迁移到了 Jakarta EE API，因此在配置 DispatcherServlet 时需要使用
         Jakarta EE 提供的相应类库和命名空间。错误信息 “‘org.springframework.web.servlet.DispatcherServlet’
         is not assignable to ‘javax.servlet.Servlet,jakarta.servlet.Servlet’” 表明你使用了旧版本的
         Servlet API，没有更新到 Jakarta EE 规范。
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.platform<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.jakartaee-web-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>9.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- springwebmvc相关依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>Controller声明</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token comment">//handlers</span>

    <span class="token doc-comment comment">/**
     * handler就是controller内部的具体方法
     * @RequestMapping(&quot;/springmvc/hello&quot;) 就是用来向handlerMapping中注册的方法注解!
     * @ResponseBody 代表向浏览器直接返回数据!
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/springmvc/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HelloController.hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello springmvc!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>SpringIoC配置</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 扫描controller对应的包,将handler加入到ioc--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.controller<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 方案1: 手动配置handlerMapping 和 handlerAdapter --&gt;</span>
    <span class="token comment">&lt;!-- handlerMapping
         RequestMappingHandlerMapping 就是springmvc提供的组件
         支持@RequestMapping方式注册的handler
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- handlerAdapter
         RequestMappingHandlerAdapter 就是springmvc提供的组件
         支持@RequestMapping方式注册的handler
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 方案2: 不配置
         解释: springmvc会在启动的时候,如果发现我们没有配置handlerMapping,handlerAdapter,viewResolver
         就会加载spring-webmvc包下的配置DispatcherServlet.properties下的组件!
         DispatcherServlet.properties:
           org.springframework.web.servlet.HandlerMapping=org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,\
                org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping,\
                org.springframework.web.servlet.function.support.RouterFunctionMapping

            org.springframework.web.servlet.HandlerAdapter=org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,\
                org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,\
                org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter,\
                org.springframework.web.servlet.function.support.HandlerFunctionAdapter
            ........

         所以,我们可以不同写,也会默认加载! 注意: 一旦你配置了,就不会加载对应的默认组件切记!!!
    --&gt;</span>

     <span class="token comment">&lt;!-- viewResolver 不需要配置,因为我们不需要查找逻辑视图!!! --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>web.xml配置</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置SpringMVC中负责处理请求的核心Servlet，也被称为SpringMVC的前端控制器 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- DispatcherServlet的全类名 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 通过初始化参数指定SpringMVC配置文件位置 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 如果不记得contextConfigLocation配置项的名称，可以到DispatcherServlet的父类FrameworkServlet中查找 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 使用classpath:说明这个路径从类路径的根目录开始才查找 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring-mvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 作为框架的核心组件，在启动过程中有大量的初始化操作要做，这些操作放在第一次请求时才执行非常不恰当 --&gt;</span>
    <span class="token comment">&lt;!-- 我们应该将DispatcherServlet设置为随Web应用一起启动 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 对DispatcherServlet来说，url-pattern有两种方式配置 --&gt;</span>
    <span class="token comment">&lt;!-- 配置“/”，表示匹配整个Web应用范围内所有请求。这里有一个硬性规定：不能写成“/*”。
      只有这一个地方有这个特殊要求，以后我们再配置Filter还是可以正常写“/*”。 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>启动测试</p><p>注意： tomcat应该是10+版本！方可支持 Jakarta EE API!</p><p><img src="/assets/image_RmY8VOdQnq-7c974af0.png" alt=""></p></li></ol><h2 id="二、springmvc接收数据" tabindex="-1"><a class="header-anchor" href="#二、springmvc接收数据" aria-hidden="true">#</a> 二、SpringMVC接收数据</h2><h3 id="_1-访问路径设置" tabindex="-1"><a class="header-anchor" href="#_1-访问路径设置" aria-hidden="true">#</a> 1. 访问路径设置</h3><p>@RequestMapping注解的作用就是将请求的 URL 地址和处理请求的方式（handler方法）关联起来，建立映射关系。</p><p>SpringMVC 接收到指定的请求，就会来找到在映射关系中对应的方法来处理这个请求。</p><ol><li><p><strong>精准路径匹配</strong></p><p>在@RequestMapping注解指定 URL 地址时，不使用任何通配符，按照请求地址进行精确匹配。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 精准设置访问地址 /user/login
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserController.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login success!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 精准设置访问地址 /user/register
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/register&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserController.register&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;register success!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>模糊路径匹配</strong></p><p>在@RequestMapping注解指定 URL 地址时，通过使用通配符，匹配多个类似的地址。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     *  路径设置为 /product/*  
     *    /* 为单层任意字符串  /product/a  /product/aaa 可以访问此handler  
     *    /product/a/a 不可以
     *  路径设置为 /product/** 
     *   /** 为任意层任意字符串  /product/a  /product/aaa 可以访问此handler  
     *   /product/a/a 也可以访问
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/product/*&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ProductController.show&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;product show!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>单层匹配和多层匹配：
  /*：只能匹配URL地址中的一层，如果想准确匹配两层，那么就写“/*/*”以此类推。
  /**：可以匹配URL地址中的多层。
其中所谓的一层或多层是指一个URL地址字符串被“/”划分出来的各个层次
这个知识点虽然对于@RequestMapping注解来说实用性不大，但是将来配置拦截器的时候也遵循这个规则。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>类和方法级别区别</strong></p><p><code>@RequestMapping</code> 注解可以用于类级别和方法级别，它们之间的区别如下：</p><ol><li>设置到类级别：<code>@RequestMapping</code> 注解可以设置在控制器类上，用于映射整个控制器的通用请求路径。这样，如果控制器中的多个方法都需要映射同一请求路径，就不需要在每个方法上都添加映射路径。</li><li>设置到方法级别：<code>@RequestMapping</code> 注解也可以单独设置在控制器方法上，用于更细粒度地映射请求路径和处理方法。当多个方法处理同一个路径的不同操作时，可以使用方法级别的 <code>@RequestMapping</code> 注解进行更精细的映射。</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//1.标记到handler方法</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/register&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/logout&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//2.优化标记类+handler方法</span>
<span class="token comment">//类上</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//handler方法上</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/logout&quot;</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>附带请求方式限制</strong></p><p>HTTP 协议定义了八种请求方式，在 SpringMVC 中封装到了下面这个枚举类：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">RequestMethod</span> <span class="token punctuation">{</span>
  <span class="token constant">GET</span><span class="token punctuation">,</span> <span class="token constant">HEAD</span><span class="token punctuation">,</span> <span class="token constant">POST</span><span class="token punctuation">,</span> <span class="token constant">PUT</span><span class="token punctuation">,</span> <span class="token constant">PATCH</span><span class="token punctuation">,</span> <span class="token constant">DELETE</span><span class="token punctuation">,</span> <span class="token constant">OPTIONS</span><span class="token punctuation">,</span> <span class="token constant">TRACE</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下：@RequestMapping(&quot;/logout&quot;) 任何请求方式都可以访问！</p><p>如果需要特定指定：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 精准设置访问地址 /user/login
     * method = RequestMethod.POST 可以指定单个或者多个请求方式!
     * 注意:违背请求方式会出现405异常!
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserController.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login success!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 精准设置访问地址 /user/register
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/register&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">,</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserController.register&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;register success!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：违背请求方式，会出现405异常！！！</p></li><li><p><strong>进阶注解</strong></p><p>还有 <code>@RequestMapping</code> 的 HTTP 方法特定快捷方式变体：</p><ul><li><code>@GetMapping</code></li><li><code>@PostMapping</code></li><li><code>@PutMapping</code></li><li><code>@DeleteMapping</code></li><li><code>@PatchMapping</code></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span>method<span class="token operator">=</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
<span class="token operator">||</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：进阶注解只能添加到handler方法上，无法添加到类上！</p></li><li><p><strong>常见配置问题</strong></p><p>出现原因：多个 handler 方法映射了同一个地址，导致 SpringMVC 在接收到这个地址的请求时该找哪个 handler 方法处理。</p><blockquote><p>There is already &#39;demo03MappingMethodHandler&#39; bean method com.atguigu.mvc.handler.Demo03MappingMethodHandler#empGet() <strong>mapped</strong>.</p></blockquote></li></ol><h3 id="_2-接收参数-重点" tabindex="-1"><a class="header-anchor" href="#_2-接收参数-重点" aria-hidden="true">#</a> 2. 接收参数（重点）</h3><h4 id="_2-1-param-和-json参数比较" tabindex="-1"><a class="header-anchor" href="#_2-1-param-和-json参数比较" aria-hidden="true">#</a> 2.1 param 和 json参数比较</h4><p>在 HTTP 请求中，我们可以选择不同的参数类型，如 param 类型和 JSON 类型。下面对这两种参数类型进行区别和对比：</p><ol><li><p>参数编码： </p><p>param 类型的参数会被编码为 ASCII 码。例如，假设 <code>name=john doe</code>，则会被编码为 <code>name=john%20doe</code>。而 JSON 类型的参数会被编码为 UTF-8。</p></li><li><p>参数顺序： </p><p>param 类型的参数没有顺序限制。但是，JSON 类型的参数是有序的。JSON 采用键值对的形式进行传递，其中键值对是有序排列的。</p></li><li><p>数据类型： </p><p>param 类型的参数仅支持字符串类型、数值类型和布尔类型等简单数据类型。而 JSON 类型的参数则支持更复杂的数据类型，如数组、对象等。</p></li><li><p>嵌套性： </p><p>param 类型的参数不支持嵌套。但是，JSON 类型的参数支持嵌套，可以传递更为复杂的数据结构。</p></li><li><p>可读性： </p><p>param 类型的参数格式比 JSON 类型的参数更加简单、易读。但是，JSON 格式在传递嵌套数据结构时更加清晰易懂。</p></li></ol><p>总的来说，param 类型的参数适用于单一的数据传递，而 JSON 类型的参数则更适用于更复杂的数据结构传递。根据具体的业务需求，需要选择合适的参数类型。在实际开发中，常见的做法是：在 GET 请求中采用 param 类型的参数，而在 POST 请求中采用 JSON 类型的参数传递。</p><h4 id="_2-2-param参数接收" tabindex="-1"><a class="header-anchor" href="#_2-2-param参数接收" aria-hidden="true">#</a> 2.2 param参数接收</h4><ol><li><p><strong>直接接值</strong></p><p>客户端请求</p><p><img src="/assets/image_plXEAfszjM-d9f25bbb.png" alt=""></p><p>handler接收参数</p><p>只要形参数名和类型与传递参数相同，即可自动接收!</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;param&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParamController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 前端请求: http://localhost:8080/param/value?name=xx&amp;age=18
     *
     * 可以利用形参列表,直接接收前端传递的param参数!
     *    要求: 参数名 = 形参名
     *          类型相同
     * 出现乱码正常，json接收具体解决！！
     * <span class="token keyword">@return</span> 返回前端数据
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/value&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setupForm</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name = &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, age = &quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> name <span class="token operator">+</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>@RequestParam注解</strong></p><p>可以使用 <code>@RequestParam</code> 注释将 Servlet 请求参数（即查询参数或表单数据）绑定到控制器中的方法参数。</p><p><code>@RequestParam</code>使用场景：</p><ul><li>指定绑定的请求参数名</li><li>要求请求参数必须传递</li><li>为请求参数提供默认值 基本用法：</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token doc-comment comment">/**
 * 前端请求: http://localhost:8080/param/data?name=xx&amp;stuAge=18
 * 
 *  使用@RequestParam注解标记handler方法的形参
 *  指定形参对应的请求参数@RequestParam(请求参数名称)
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/data&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">paramForm</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> 
                        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;stuAge&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name = &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, age = &quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> name<span class="token operator">+</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下，使用此批注的方法参数是必需的，但您可以通过将 <code>@RequestParam</code> 批注的 <code>required</code> 标志设置为 <code>false</code>！</p><p>如果没有没有设置非必须，也没有传递参数会出现：</p><p><img src="/assets/image_ckLWLe8fG6-002e01dc.png" alt=""></p><p>将参数设置非必须，并且设置默认值：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/data&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">paramForm</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> 
                        <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;stuAge&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">&quot;18&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;name = &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, age = &quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> name<span class="token operator">+</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>特殊场景接值</strong></p><ol><li><p>一名多值</p><p>多选框，提交的数据的时候一个key对应多个值，我们可以使用集合进行接收！</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>  <span class="token doc-comment comment">/**
   * 前端请求: http://localhost:8080/param/mul?hbs=吃&amp;hbs=喝
   *
   *  一名多值,可以使用集合接收即可!但是需要使用@RequestParam注解指定
   */</span>
  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/mul&quot;</span><span class="token punctuation">)</span>
  <span class="token annotation punctuation">@ResponseBody</span>
  <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">mulForm</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hbs<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hbs = &quot;</span> <span class="token operator">+</span> hbs<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> hbs<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>实体接收</p><p>Spring MVC 是 Spring 框架提供的 Web 框架，它允许开发者使用实体对象来接收 HTTP 请求中的参数。通过这种方式，可以在方法内部直接使用对象的属性来访问请求参数，而不需要每个参数都写一遍。下面是一个使用实体对象接收参数的示例：</p><p>定义一个用于接收参数的实体类：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>

  <span class="token comment">// getter 和 setter 略</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在控制器中，使用实体对象接收，示例代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;param&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParamController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在这里可以使用 user 对象的属性来接收请求参数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上述代码中，将请求参数name和age映射到实体类属性上！要求属性名必须等于参数名！否则无法映射！</p><p>使用postman传递参数测试：</p><p><img src="/assets/image_LvGYFzl7Ij-4b4242dd.png" alt=""></p></li></ol></li></ol><h4 id="_2-3-路径-参数接收" tabindex="-1"><a class="header-anchor" href="#_2-3-路径-参数接收" aria-hidden="true">#</a> 2.3 路径 参数接收</h4><p>路径传递参数是一种在 URL 路径中传递参数的方式。在 RESTful 的 Web 应用程序中，经常使用路径传递参数来表示资源的唯一标识符或更复杂的表示方式。而 Spring MVC 框架提供了 <code>@PathVariable</code> 注解来处理路径传递参数。</p><p><code>@PathVariable</code> 注解允许将 URL 中的占位符映射到控制器方法中的参数。</p><p>例如，如果我们想将 <code>/user/{id}</code> 路径下的 <code>{id}</code> 映射到控制器方法的一个参数中，则可以使用 <code>@PathVariable</code> 注解来实现。</p><p>下面是一个使用 <code>@PathVariable</code> 注解处理路径传递参数的示例：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token doc-comment comment">/**
 * 动态路径设计: /user/<span class="token punctuation">{</span>动态部分<span class="token punctuation">}</span>/<span class="token punctuation">{</span>动态部分<span class="token punctuation">}</span>   动态部分使用<span class="token punctuation">{</span><span class="token punctuation">}</span>包含即可! <span class="token punctuation">{</span><span class="token punctuation">}</span>内部动态标识!
 * 形参列表取值: @PathVariable Long id  如果形参名 = <span class="token punctuation">{</span>动态标识<span class="token punctuation">}</span> 自动赋值!
 *              @PathVariable(&quot;动态标识&quot;) Long id  如果形参名 != <span class="token punctuation">{</span>动态标识<span class="token punctuation">}</span> 可以通过指定动态标识赋值!
 *
 * 访问测试:  /param/user/1/root  -&gt; id = 1  uname = root
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user/{id}/{name}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span> 
                      <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> uname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id = &quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;, uname = &quot;</span> <span class="token operator">+</span> uname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;user_detail&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-json参数接收" tabindex="-1"><a class="header-anchor" href="#_2-4-json参数接收" aria-hidden="true">#</a> 2.4 json参数接收</h4><p>前端传递 JSON 数据时，Spring MVC 框架可以使用 <code>@RequestBody</code> 注解来将 JSON 数据转换为 Java 对象。<code>@RequestBody</code> 注解表示当前方法参数的值应该从请求体中获取，并且需要指定 value 属性来指示请求体应该映射到哪个参数上。其使用方式和示例代码如下：</p><ol><li><p>前端发送 JSON 数据的示例：（使用postman测试）</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>定义一个用于接收 JSON 数据的 Java 类，例如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>
  <span class="token comment">// getter 和 setter 略</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>在控制器中，使用 <code>@RequestBody</code> 注解来接收 JSON 数据，并将其转换为 Java 对象，例如：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/person&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addPerson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Person</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// 在这里可以使用 person 对象来操作 JSON 数据中包含的属性</span>
  <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上述代码中，<code>@RequestBody</code> 注解将请求体中的 JSON 数据映射到 <code>Person</code> 类型的 <code>person</code> 参数上，并将其作为一个对象来传递给 <code>addPerson()</code> 方法进行处理。</p></li><li><p>完善配置</p><p>测试：</p><p><img src="/assets/image_XLO-MAnues-8ebf1dcf.png" alt=""></p><p>问题：</p><p>org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/json;charset=UTF-8&#39; is not supported]</p><p><img src="/assets/image_T1gLO4uFgn-5f93a3e3.png" alt=""></p><p>原因：</p><ul><li>不支持json数据类型处理</li><li>没有json类型处理的工具（jackson） 解决： spring-mvc.xml 配置json转化器</li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/mvc<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 扫描controller对应的包,将handler加入到ioc--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.controller<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    
    <span class="token comment">&lt;!-- 
       注意: 导入mvc命名空间!
       mvc:annotation-driven 是一个整合标签
                             他会导入handlerMapping和handlerAdapter
                             他会导入json数据格式转化器等等!
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/&gt;</span></span>

     <span class="token comment">&lt;!-- viewResolver 不需要配置,因为我们不需要查找逻辑视图!!! --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>pom.xml 加入jackson依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>mvc:annotation说明</p><p>&lt;mvc:annotation是一个整合配置标签，一个标签将springmvc必备组件都加入到ioc容器中！其中包含handlerMapping和handlerAdapter以及json转化器等等！</p><p>让我们来查看下&lt;mvc:annotation具体的动作！</p><ul><li><p>先查看&lt;mvc:annotation标签最终对应解析的Java类</p><p><img src="/assets/image_eU-869Kx3r-58b9693f.png" alt=""></p></li><li><p>查看解析类中具体的动作即可</p><p>打开源码：org.springframework.web.servlet.config.MvcNamespaceHandler</p><p><img src="/assets/image_zxx3CTng-X-60cb583c.png" alt=""></p><p>打开源码：org.springframework.web.servlet.config.AnnotationDrivenBeanDefinitionParser</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">AnnotationDrivenBeanDefinitionParser</span> <span class="token keyword">implements</span> <span class="token class-name">BeanDefinitionParser</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">HANDLER_MAPPING_BEAN_NAME</span> <span class="token operator">=</span> <span class="token class-name">RequestMappingHandlerMapping</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">HANDLER_ADAPTER_BEAN_NAME</span> <span class="token operator">=</span> <span class="token class-name">RequestMappingHandlerAdapter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token class-name">ClassLoader</span> classLoader <span class="token operator">=</span> <span class="token class-name">AnnotationDrivenBeanDefinitionParser</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    javaxValidationPresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;jakarta.validation.Validator&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    romePresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.rometools.rome.feed.WireFeed&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jaxb2Present <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;jakarta.xml.bind.Binder&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jackson2Present <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.core.JsonGenerator&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jackson2XmlPresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jackson2SmilePresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.dataformat.smile.SmileFactory&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    jackson2CborPresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.fasterxml.jackson.dataformat.cbor.CBORFactory&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    gsonPresent <span class="token operator">=</span> <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token string">&quot;com.google.gson.Gson&quot;</span><span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">public</span> <span class="token class-name">BeanDefinition</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Element</span> element<span class="token punctuation">,</span> <span class="token class-name">ParserContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//handlerMapping加入到ioc容器</span>
        readerContext<span class="token punctuation">.</span><span class="token function">getRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token constant">HANDLER_MAPPING_BEAN_NAME</span><span class="token punctuation">,</span> handlerMappingDef<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//添加jackson转化器</span>
        <span class="token function">addRequestBodyAdvice</span><span class="token punctuation">(</span>handlerAdapterDef<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addResponseBodyAdvice</span><span class="token punctuation">(</span>handlerAdapterDef<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//handlerAdapter加入到ioc容器</span>
        readerContext<span class="token punctuation">.</span><span class="token function">getRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token constant">HANDLER_ADAPTER_BEAN_NAME</span><span class="token punctuation">,</span> handlerAdapterDef<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//具体添加jackson转化对象方法</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addRequestBodyAdvice</span><span class="token punctuation">(</span><span class="token class-name">RootBeanDefinition</span> beanDef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>jackson2Present<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            beanDef<span class="token punctuation">.</span><span class="token function">getPropertyValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;requestBodyAdvice&quot;</span><span class="token punctuation">,</span>
                                            <span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">JsonViewRequestBodyAdvice</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">addResponseBodyAdvice</span><span class="token punctuation">(</span><span class="token class-name">RootBeanDefinition</span> beanDef<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>jackson2Present<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            beanDef<span class="token punctuation">.</span><span class="token function">getPropertyValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;responseBodyAdvice&quot;</span><span class="token punctuation">,</span>
                                            <span class="token keyword">new</span> <span class="token class-name">RootBeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">JsonViewResponseBodyAdvice</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h3 id="_3-接收cookie数据" tabindex="-1"><a class="header-anchor" href="#_3-接收cookie数据" aria-hidden="true">#</a> 3. 接收Cookie数据</h3><p>可以使用 <code>@CookieValue</code> 注释将 HTTP Cookie 的值绑定到控制器中的方法参数。</p><p>考虑使用以下 cookie 的请求：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">JSESSIONID</span><span class="token operator">=</span><span class="token number">415</span><span class="token constant">A4AC178C59DACE0B2C9CA727CDD84</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下面的示例演示如何获取 cookie 值：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> cookie<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-接收请求头数据" tabindex="-1"><a class="header-anchor" href="#_4-接收请求头数据" aria-hidden="true">#</a> 4. 接收请求头数据</h3><p>可以使用 <code>@RequestHeader</code> 批注将请求标头绑定到控制器中的方法参数。</p><p>请考虑以下带有标头的请求：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Host</span>                    localhost<span class="token operator">:</span><span class="token number">8080</span>
<span class="token class-name">Accept</span>                  text<span class="token operator">/</span>html<span class="token punctuation">,</span>application<span class="token operator">/</span>xhtml<span class="token operator">+</span>xml<span class="token punctuation">,</span>application<span class="token operator">/</span>xml<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.9</span>
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Language</span>         fr<span class="token punctuation">,</span>en<span class="token operator">-</span>gb<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span>en<span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.3</span>
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Encoding</span>         gzip<span class="token punctuation">,</span>deflate
<span class="token class-name">Accept</span><span class="token operator">-</span><span class="token class-name">Charset</span>          <span class="token constant">ISO</span><span class="token operator">-</span><span class="token number">8859</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>utf<span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">;</span>q<span class="token operator">=</span><span class="token number">0.7</span>
<span class="token class-name">Keep</span><span class="token operator">-</span><span class="token class-name">Alive</span>              <span class="token number">300</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面的示例获取 <code>Accept-Encoding</code> 和 <code>Keep-Alive</code> 标头的值：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span>
    <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept-Encoding&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> encoding<span class="token punctuation">,</span> 
    <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Keep-Alive&quot;</span><span class="token punctuation">)</span> <span class="token keyword">long</span> keepAlive<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-原生api对象操作" tabindex="-1"><a class="header-anchor" href="#_5-原生api对象操作" aria-hidden="true">#</a> 5. 原生Api对象操作</h3><p><a href="https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/arguments.html" target="_blank" rel="noopener noreferrer">https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/arguments.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>下表描述了支持的控制器方法参数</p><table><thead><tr><th>Controller method argument 控制器方法参数</th><th>Description</th></tr></thead><tbody><tr><td><code>jakarta.servlet.ServletRequest</code>, <code>jakarta.servlet.ServletResponse</code></td><td>请求/响应对象</td></tr><tr><td><code>jakarta.servlet.http.HttpSession</code></td><td>强制存在会话。因此，这样的参数永远不会为 <code>null</code> 。</td></tr><tr><td><code>java.io.InputStream</code>, <code>java.io.Reader</code></td><td>用于访问由 Servlet API 公开的原始请求正文。</td></tr><tr><td><code>java.io.OutputStream</code>, <code>java.io.Writer</code></td><td>用于访问由 Servlet API 公开的原始响应正文。</td></tr><tr><td><code>@PathVariable</code></td><td>接收路径参数注解</td></tr><tr><td><code>@RequestParam</code></td><td>用于访问 Servlet 请求参数，包括多部分文件。参数值将转换为声明的方法参数类型。</td></tr><tr><td><code>@RequestHeader</code></td><td>用于访问请求标头。标头值将转换为声明的方法参数类型。</td></tr><tr><td><code>@CookieValue</code></td><td>用于访问Cookie。Cookie 值将转换为声明的方法参数类型。</td></tr><tr><td><code>@RequestBody</code></td><td>用于访问 HTTP 请求正文。正文内容通过使用 <code>HttpMessageConverter</code> 实现转换为声明的方法参数类型。</td></tr><tr><td><code>java.util.Map</code>, <code>org.springframework.ui.Model</code>, <code>org.springframework.ui.ModelMap</code></td><td>共享域对象，并在视图呈现过程中向模板公开。</td></tr><tr><td><code>Errors</code>, <code>BindingResult</code></td><td>验证和数据绑定中的错误信息获取对象！</td></tr></tbody></table><p>获取原生对象示例：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 如果想要获取请求或者响应对象,或者会话等,可以直接在形参列表传入,并且不分先后顺序!
 * 注意: 接收原生对象,并不影响参数接收!
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;api&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">api</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session <span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
                  <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;method = &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;api&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-共享域对象操作" tabindex="-1"><a class="header-anchor" href="#_6-共享域对象操作" aria-hidden="true">#</a> 6. 共享域对象操作</h3><h4 id="_6-1-属性-共享-域作用回顾" tabindex="-1"><a class="header-anchor" href="#_6-1-属性-共享-域作用回顾" aria-hidden="true">#</a> 6.1 属性（共享）域作用回顾</h4><p>在 JavaWeb 中，共享域指的是在 Servlet 中存储数据，以便在同一 Web 应用程序的多个组件中进行共享和访问。常见的共享域有四种：<code>ServletContext</code>、<code>HttpSession</code>、<code>HttpServletRequest</code>、<code>PageContext</code>。</p><ol><li><code>ServletContext</code> 共享域：<code>ServletContext</code> 对象可以在整个 Web 应用程序中共享数据，是最大的共享域。一般可以用于保存整个 Web 应用程序的全局配置信息，以及所有用户都共享的数据。在 <code>ServletContext</code> 中保存的数据是线程安全的。</li><li><code>HttpSession</code> 共享域：<code>HttpSession</code> 对象可以在同一用户发出的多个请求之间共享数据，但只能在同一个会话中使用。比如，可以将用户登录状态保存在 <code>HttpSession</code> 中，让用户在多个页面间保持登录状态。</li><li><code>HttpServletRequest</code> 共享域：<code>HttpServletRequest</code> 对象可以在同一个请求的多个处理器方法之间共享数据。比如，可以将请求的参数和属性存储在 <code>HttpServletRequest</code> 中，让处理器方法之间可以访问这些数据。</li><li><code>PageContext</code> 共享域：<code>PageContext</code> 对象是在 JSP 页面Servlet 创建时自动创建的。它可以在 JSP 的各个作用域中共享数据，包括<code>pageScope</code>、<code>requestScope</code>、<code>sessionScope</code>、<code>applicationScope</code> 等作用域。</li></ol><p>共享域的作用是提供了方便实用的方式在同一 Web 应用程序的多个组件之间传递数据，并且可以将数据保存在不同的共享域中，根据需要进行选择和使用。</p><p><img src="/assets/img010_ORhRMPYJ9v-c467e4ab.png" alt=""></p><h4 id="_6-2-request级别属性-共享-域" tabindex="-1"><a class="header-anchor" href="#_6-2-request级别属性-共享-域" aria-hidden="true">#</a> 6.2 Request级别属性（共享）域</h4><ol><li>使用 Model 类型的形参<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/request/model&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testAttrRequestModel</span><span class="token punctuation">(</span>
    
        <span class="token comment">// 在形参位置声明Model类型变量，用于存储模型数据</span>
        <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 我们将数据存入模型，SpringMVC 会帮我们把模型数据存入请求域</span>
    <span class="token comment">// 存入请求域这个动作也被称为暴露到请求域</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;requestScopeMessageModel&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;i am very happy[model]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>使用 ModelMap 类型的形参<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/request/model/map&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testAttrRequestModelMap</span><span class="token punctuation">(</span>
    
        <span class="token comment">// 在形参位置声明ModelMap类型变量，用于存储模型数据</span>
        <span class="token class-name">ModelMap</span> modelMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 我们将数据存入模型，SpringMVC 会帮我们把模型数据存入请求域</span>
    <span class="token comment">// 存入请求域这个动作也被称为暴露到请求域</span>
    modelMap<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;requestScopeMessageModelMap&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;i am very happy[model map]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>使用 Map 类型的形参<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/request/map&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testAttrRequestMap</span><span class="token punctuation">(</span>
    
        <span class="token comment">// 在形参位置声明Map类型变量，用于存储模型数据</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 我们将数据存入模型，SpringMVC 会帮我们把模型数据存入请求域</span>
    <span class="token comment">// 存入请求域这个动作也被称为暴露到请求域</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;requestScopeMessageMap&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i am very happy[map]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>使用原生 request 对象<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/request/original&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testAttrOriginalRequest</span><span class="token punctuation">(</span>
    
        <span class="token comment">// 拿到原生对象，就可以调用原生方法执行各种操作</span>
        <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;requestScopeMessageOriginal&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i am very happy[original]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>使用 ModelAndView 对象<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/request/mav&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">testAttrByModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 1.创建ModelAndView对象</span>
    <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2.存入模型数据</span>
    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;requestScopeMessageMAV&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i am very happy[mav]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3.设置视图名称</span>
    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="_6-3-session级别属性-共享-域" tabindex="-1"><a class="header-anchor" href="#_6-3-session级别属性-共享-域" aria-hidden="true">#</a> 6.3 Session级别属性（共享）域</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/session&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testAttrSession</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//直接对session对象操作,即对会话范围操作!</span>
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-4-application级别属性-共享-域" tabindex="-1"><a class="header-anchor" href="#_6-4-application级别属性-共享-域" aria-hidden="true">#</a> 6.4 Application级别属性（共享）域</h4><p>解释：springmvc会在初始化容器的时候，讲servletContext对象存储到ioc容器中！</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">ServletContext</span> servletContext<span class="token punctuation">;</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/attr/application&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">attrApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;appScopeMsg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i am hungry...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token string">&quot;target&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、springmvc响应数据" tabindex="-1"><a class="header-anchor" href="#三、springmvc响应数据" aria-hidden="true">#</a> 三、SpringMVC响应数据</h2><h3 id="_1-handler方法分析" tabindex="-1"><a class="header-anchor" href="#_1-handler方法分析" aria-hidden="true">#</a> 1. handler方法分析</h3><p>理解handler方法的作用和组成：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * TODO: 一个controller的方法是控制层的一个处理器,我们称为handler
 * TODO: handler需要使用@RequestMapping/@GetMapping系列,声明路径,在HandlerMapping中注册,供DS查找!
 * TODO: handler作用总结:
 *       1.接收请求参数(param,json,pathVariable,共享域等) 
 *       2.调用业务逻辑 
 *       3.响应前端数据(页面（不讲解模版页面跳转）,json,转发和重定向等)
 * TODO: handler如何处理呢
 *       1.接收参数: handler(形参列表: 主要的作用就是用来接收参数)
 *       2.调用业务: <span class="token punctuation">{</span> 方法体  可以向后调用业务方法 service.xx() <span class="token punctuation">}</span>
 *       3.响应数据: return 返回结果,可以快速响应前端数据
 */</span>
<span class="token annotation punctuation">@GetMapping</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handler</span><span class="token punctuation">(</span>简化请求参数接收<span class="token punctuation">)</span><span class="token punctuation">{</span>
    调用业务方法
    <span class="token keyword">return</span> 简化响应前端数据<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总结： 请求数据接收，我们都是通过handler的形参列表</p><p> 前端数据响应，我们都是通过handler的return关键字快速处理！</p><p> springmvc简化了参数接收和响应！</p><h3 id="_2-页面跳转控制" tabindex="-1"><a class="header-anchor" href="#_2-页面跳转控制" aria-hidden="true">#</a> 2. 页面跳转控制</h3><h4 id="_2-1-快速返回jsp视图" tabindex="-1"><a class="header-anchor" href="#_2-1-快速返回jsp视图" aria-hidden="true">#</a> 2.1 快速返回jsp视图</h4><ol><li><p>开发模式回顾</p><p>在 Web 开发中，有两种主要的开发模式：前后端分离和混合开发。</p><p>前后端分离模式：</p><p>指将前端的界面和后端的业务逻辑通过接口分离开发的一种方式。开发人员使用不同的技术栈和框架，前端开发人员主要负责页面的呈现和用户交互，后端开发人员主要负责业务逻辑和数据存储。前后端通信通过 API 接口完成，数据格式一般使用 JSON 或 XML。前后端分离模式可以提高开发效率，同时也有助于代码重用和维护。</p><p>混合开发模式：</p><p>指将前端和后端的代码集成在同一个项目中，共享相同的技术栈和框架。这种模式在小型项目中比较常见，可以减少学习成本和部署难度。但是，在大型项目中，这种模式会导致代码耦合性很高，维护和升级难度较大。</p><p>对于混合开发，我们就需要使用动态页面技术，动态展示Java的共享域数据！！</p></li><li><p>jsp技术了解</p><p>JSP（JavaServer Pages）是一种动态网页开发技术，它是由 Sun 公司提出的一种基于 Java 技术的 Web 页面制作技术，可以在 HTML 文件中嵌入 Java 代码，使得生成动态内容的编写更加简单。</p><p>JSP 最主要的作用是生成动态页面。它允许将 Java 代码嵌入到 HTML 页面中，以便使用 Java 进行数据库查询、处理表单数据和生成 HTML 等动态内容。另外，JSP 还可以与 Servlet 结合使用，实现更加复杂的 Web 应用程序开发。</p><p>JSP 的主要特点包括：</p><ol><li>简单：JSP 通过将 Java 代码嵌入到 HTML 页面中，使得生成动态内容的编写更加简单。</li><li>高效：JSP 首次运行时会被转换为 Servlet，然后编译为字节码，从而可以启用 Just-in-Time（JIT）编译器，实现更高效的运行。</li><li>多样化：JSP 支持多种标准标签库，包括 JSTL（JavaServer Pages 标准标签库）、EL（表达式语言）等，可以帮助开发人员更加方便的处理常见的 Web 开发需求。 总之，JSP 是一种简单高效、多样化的动态网页开发技术，它可以方便地生成动态页面和与 Servlet 结合使用，是 Java Web 开发中常用的技术之一。</li></ol></li><li><p>准备jsp页面和依赖</p><p>pom.xml依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- jsp需要依赖! jstl--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet.jsp.jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet.jsp.jstl-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>jsp页面创建</p><p>建议位置：/WEB-INF/下，避免外部直接访问！</p><p>位置：/WEB-INF/views/home.jsp</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span> language<span class="token operator">=</span><span class="token string">&quot;java&quot;</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span><span class="token class-name">Title</span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 可以获取共享域的数据<span class="token punctuation">,</span>动态展示<span class="token operator">!</span> jsp<span class="token operator">==</span> 后台vue <span class="token operator">--</span><span class="token operator">&gt;</span>
        $<span class="token punctuation">{</span>msg<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>快速响应模版页面</p><ol><li><p>配置jsp视图解析器</p><p>springmvc.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 配置动态页面语言jsp的视图解析器,快速查找jsp--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewClass<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.JstlView<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/views/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>handler返回视图</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 *  跳转到提交文件页面  /save/jump
 *  
 *  如果要返回jsp页面!
 *     1.方法返回值改成字符串类型
 *     2.返回逻辑视图名即可    
 *         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/views/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 *            + 逻辑视图名 +
 *         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;jump&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">jumpJsp</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FileController.jumpJsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;request data!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li></ol><h4 id="_2-2-转发和重定向" tabindex="-1"><a class="header-anchor" href="#_2-2-转发和重定向" aria-hidden="true">#</a> 2.2 转发和重定向</h4><p>在 Spring MVC 中，Handler 方法返回值来实现快速转发，可以使用 <code>redirect</code> 或者 <code>forward</code> 关键字来实现重定向。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/redirect-demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">redirectDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重定向到 /demo 路径 </span>
    <span class="token keyword">return</span> <span class="token string">&quot;redirect:/demo&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/forward-demo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">forwardDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 转发到 /demo 路径</span>
    <span class="token keyword">return</span> <span class="token string">&quot;forward:/demo&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//注意： 转发和重定向到项目下资源路径都是相同，都不需要添加项目根路径！填写项目下路径即可！</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总结：</p><ul><li>将方法的返回值，设置String类型</li><li>转发使用forward关键字，重定向使用redirect关键字</li><li>关键字: /路径</li><li>注意：如果是项目下的资源，转发和重定向都一样都是项目下路径！都不需要添加项目根路径！</li></ul><h3 id="_3-返回json数据-重点" tabindex="-1"><a class="header-anchor" href="#_3-返回json数据-重点" aria-hidden="true">#</a> 3. 返回JSON数据（重点）</h3><h4 id="_3-1-前置准备" tabindex="-1"><a class="header-anchor" href="#_3-1-前置准备" aria-hidden="true">#</a> 3.1 前置准备</h4><p>导入jackson依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加json数据转化器</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code> <span class="token comment">&lt;!-- 
   注意: 导入mvc命名空间!
   mvc:annotation-driven 是一个整合标签
                         他会导入handlerMapping和handlerAdapter
                         他会导入json数据格式转化器等等!
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-responsebody" tabindex="-1"><a class="header-anchor" href="#_3-2-responsebody" aria-hidden="true">#</a> 3.2 @ResponseBody</h4><ol><li><p>方法上使用@ResponseBody</p><p>可以在方法上使用 <code>@ResponseBody</code>注解，用于将方法返回的对象序列化为 JSON 或 XML 格式的数据，并发送给客户端。在前后端分离的项目中使用！</p><p>测试方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/accounts/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>具体来说，<code>@ResponseBody</code> 注解可以用来标识方法或者方法返回值，表示方法的返回值是要直接返回给客户端的数据，而不是由视图解析器来解析并渲染生成响应体（viewResolver没用）。</p><p>测试方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/user/detail&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> userParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;userParam = &quot;</span> <span class="token operator">+</span> userParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//返回的对象,会使用jackson的序列化工具,转成json返回给前端!</span>
    <span class="token keyword">return</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>返回结果：</p><p><img src="/assets/image_hPJueYv109-3e2bcbd9.png" alt=""></p></li><li><p>类上使用@ResponseBody</p><p>如果类中每个方法上都标记了 @ResponseBody 注解，那么这些注解就可以提取到类上。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ResponseBody</span>  <span class="token comment">//responseBody可以添加到类上,代表默认类中的所有方法都生效!</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;param&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ParamController</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="_3-3-restcontroller" tabindex="-1"><a class="header-anchor" href="#_3-3-restcontroller" aria-hidden="true">#</a> 3.3 @RestController</h4><p>类上的 @ResponseBody 注解可以和 @Controller 注解合并为 @RestController 注解。所以使用了 @RestController 注解就相当于给类中的每个方法都加了 @ResponseBody 注解。</p><p>RestController源码:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">RestController</span> <span class="token punctuation">{</span>
 
  <span class="token doc-comment comment">/**
   * The value may indicate a suggestion for a logical component name,
   * to be turned into a Spring bean in case of an autodetected component.
   * <span class="token keyword">@return</span> the suggested component name, if any (or empty String otherwise)
   * <span class="token keyword">@since</span> 4.0.1
   */</span>
  <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span>annotation <span class="token operator">=</span> <span class="token class-name">Controller</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
  <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-返回静态资源处理" tabindex="-1"><a class="header-anchor" href="#_4-返回静态资源处理" aria-hidden="true">#</a> 4. 返回静态资源处理</h3><ol><li><p><strong>静态资源概念</strong></p><p>资源本身已经是可以直接拿到浏览器上使用的程度了，<strong>不需要在服务器端做任何运算、处理</strong>。典型的静态资源包括：</p><ul><li>纯HTML文件</li><li>图片</li><li>CSS文件</li><li>JavaScript文件</li><li>……</li></ul></li><li><p><strong>静态资源访问和问题解决</strong></p><ul><li><p>web应用加入静态资源</p><p><img src="/assets/image_4C0oYuW6p5-d0d0e95c.png" alt=""></p></li></ul></li></ol><ul><li><p>手动构建确保编译</p><p><img src="/assets/image_rlTcHF-Uge-4d59fff8.png" alt=""></p><p><img src="/assets/image_nJdal6tcLm-8b6b40ea.png" alt=""></p><pre><code>![](image/image_wsWSmj8Yfr.png)
</code></pre><ul><li><p>访问静态资源</p><p><img src="/assets/image_j2NW4C8FO9-988b8532.png" alt=""></p></li><li><p>问题分析</p><ul><li>DispatcherServlet 的 url-pattern 配置的是“/”</li><li>url-pattern 配置“/”表示整个 Web 应用范围内所有请求都由 SpringMVC 来处理</li></ul></li><li><p>对 SpringMVC 来说，必须有对应的 @RequestMapping 才能找到处理请求的方法</p><ul><li>现在 images/mi.jpg 请求没有对应的 @RequestMapping 所以返回 404</li></ul></li><li><p>问题解决</p><p>在 SpringMVC 配置文件中增加配置：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/mvc<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 扫描controller对应的包,将handler加入到ioc--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.controller<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 加入这个配置，SpringMVC 就会在遇到没有 @RequestMapping 的请求时放它过去 --&gt;</span>
    <span class="token comment">&lt;!-- 所谓放它过去就是让这个请求去找它原本要访问的资源 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再次测试访问图片：</p><p><img src="/assets/image_Hi-upkttjY-872f6d5a.png" alt=""></p><p>新的问题：其他原本正常的handler请求访问不了了</p><p>handler无法访问</p><p>解决方案：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 开启 SpringMVC 的注解驱动功能。这个配置也被称为 SpringMVC 的标配。 --&gt;</span>
<span class="token comment">&lt;!-- 标配：因为 SpringMVC 环境下非常多的功能都要求必须打开注解驱动才能正常工作。 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h2 id="四、restful风格设计" tabindex="-1"><a class="header-anchor" href="#四、restful风格设计" aria-hidden="true">#</a> 四、RESTFul风格设计</h2><h3 id="_1-restful风格概述" tabindex="-1"><a class="header-anchor" href="#_1-restful风格概述" aria-hidden="true">#</a> 1. RESTFul风格概述</h3><h4 id="_1-1-restful风格简介" tabindex="-1"><a class="header-anchor" href="#_1-1-restful风格简介" aria-hidden="true">#</a> 1.1 RESTFul风格简介</h4><p><img src="/assets/image_e-dNiN_-8D-d23b6ad1.png" alt=""></p><p>RESTful（Representational State Transfer）是一种软件架构风格，用于设计网络应用程序和服务之间的通信。它是一种基于标准 HTTP 方法的简单和轻量级的通信协议，广泛应用于现代的Web服务开发。</p><p>通过遵循 RESTful 架构的设计原则，可以构建出易于理解、可扩展、松耦合和可重用的 Web 服务。RESTful API 的特点是简单、清晰，并且易于使用和理解，它们使用标准的 HTTP 方法和状态码进行通信，不需要额外的协议和中间件。</p><p>RESTful 架构通常用于构建 Web API，提供数据的传输和操作。它可以用于各种应用场景，包括客户端-服务器应用、单页应用（SPA）、移动应用程序和微服务架构等。</p><p>总而言之，RESTful 是一种基于 HTTP 和标准化的设计原则的软件架构风格，用于设计和实现可靠、可扩展和易于集成的 Web 服务和应用程序！</p><p><img src="/assets/image_xHIbi73wr9-3ca96f5a.png" alt=""></p><p>学习RESTful设计原则可以帮助我们更好去设计HTTP协议的API接口！！</p><h4 id="_1-2-restful风格特点" tabindex="-1"><a class="header-anchor" href="#_1-2-restful风格特点" aria-hidden="true">#</a> 1.2 RESTFul风格特点</h4><ol><li>每一个URI代表1种资源（URI 是名词）；</li><li>客户端使用GET、POST、PUT、DELETE 4个表示操作方式的动词对服务端资源进行操作：GET用来获取资源，POST用来新建资源（也可以用于更新资源），PUT用来更新资源，DELETE用来删除资源；</li><li>资源的表现形式是XML或者<strong>JSON</strong>；</li><li>客户端与服务端之间的交互在请求之间是无状态的，从客户端到服务端的每个请求都必须包含理解请求所必需的信息。</li></ol><h4 id="_1-3-restful风格设计规范" tabindex="-1"><a class="header-anchor" href="#_1-3-restful风格设计规范" aria-hidden="true">#</a> 1.3 <strong>RESTFul风格设计规范</strong></h4><ol><li><p><strong>HTTP协议请求方式要求</strong></p><p>REST 风格主张在项目设计、开发过程中，具体的操作符合<strong>HTTP协议定义的请求方式的语义</strong>。</p><table><thead><tr><th>操作</th><th>请求方式</th></tr></thead><tbody><tr><td>查询操作</td><td>GET</td></tr><tr><td>保存操作</td><td>POST</td></tr><tr><td>删除操作</td><td>DELETE</td></tr><tr><td>更新操作</td><td>PUT</td></tr></tbody></table></li><li><p><strong>URL路径风格要求</strong></p><p>REST风格下每个资源都应该有一个唯一的标识符，例如一个 URI（统一资源标识符）或者一个 URL（统一资源定位符）。资源的标识符应该能明确地说明该资源的信息，同时也应该是可被理解和解释的！</p><p>使用URL+请求方式确定具体的动作，他也是一种标准的HTTP协议请求！</p><table><thead><tr><th>操作</th><th>传统风格</th><th>REST 风格</th></tr></thead><tbody><tr><td>保存</td><td>/CRUD/saveEmp</td><td>URL 地址：/CRUD/emp 请求方式：POST</td></tr><tr><td>删除</td><td>/CRUD/removeEmp?empId=2</td><td>URL 地址：/CRUD/emp/2 请求方式：DELETE</td></tr><tr><td>更新</td><td>/CRUD/updateEmp</td><td>URL 地址：/CRUD/emp 请求方式：PUT</td></tr><tr><td>查询</td><td>/CRUD/editEmp?empId=2</td><td>URL 地址：/CRUD/emp/2 请求方式：GET</td></tr></tbody></table></li></ol><ul><li><p>总结</p><p>根据接口的具体动作，选择具体的HTTP协议请求方式</p><p>路径设计从原来携带动标识，改成名词，对应资源的唯一标识即可！</p></li></ul><h4 id="_1-4-restful风格好处" tabindex="-1"><a class="header-anchor" href="#_1-4-restful风格好处" aria-hidden="true">#</a> 1.4 RESTFul风格好处</h4><ol><li><p>含蓄，安全</p><p>使用问号键值对的方式给服务器传递数据太明显，容易被人利用来对系统进行破坏。使用 REST 风格携带数据不再需要明显的暴露数据的名称。</p></li><li><p>风格统一</p><p>URL 地址整体格式统一，从前到后始终都使用斜杠划分各个单词，用简单一致的格式表达语义。</p></li><li><p>无状态</p><p>在调用一个接口（访问、操作资源）的时候，可以不用考虑上下文，不用考虑当前状态，极大的降低了系统设计的复杂度。</p></li><li><p>严谨，规范</p><p>严格按照 HTTP1.1 协议中定义的请求方式本身的语义进行操作。</p></li><li><p>简洁，优雅</p><p>过去做增删改查操作需要设计4个不同的URL，现在一个就够了。</p><table><thead><tr><th>操作</th><th>传统风格</th><th>REST 风格</th></tr></thead><tbody><tr><td>保存</td><td>/CRUD/saveEmp</td><td>URL 地址：/CRUD/emp 请求方式：POST</td></tr><tr><td>删除</td><td>/CRUD/removeEmp?empId=2</td><td>URL 地址：/CRUD/emp/2 请求方式：DELETE</td></tr><tr><td>更新</td><td>/CRUD/updateEmp</td><td>URL 地址：/CRUD/emp 请求方式：PUT</td></tr><tr><td>查询</td><td>/CRUD/editEmp?empId=2</td><td>URL 地址：/CRUD/emp/2 请求方式：GET</td></tr></tbody></table></li><li><p>丰富的语义</p><p>通过 URL 地址就可以知道资源之间的关系。它能够把一句话中的很多单词用斜杠连起来，反过来说就是可以在 URL 地址中用一句话来充分表达语义。</p><blockquote><p><a href="http://localhost:8080/shop" title="http://localhost:8080/shop" target="_blank" rel="noopener noreferrer">http://localhost:8080/shop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="http://localhost:8080/shop/product" title="http://localhost:8080/shop/product" target="_blank" rel="noopener noreferrer">http://localhost:8080/shop/product<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="http://localhost:8080/shop/product/cellPhone" title="http://localhost:8080/shop/product/cellPhone" target="_blank" rel="noopener noreferrer">http://localhost:8080/shop/product/cellPhone<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="http://localhost:8080/shop/product/cellPhone/iPhone" title="http://localhost:8080/shop/product/cellPhone/iPhone" target="_blank" rel="noopener noreferrer">http://localhost:8080/shop/product/cellPhone/iPhone<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote></li></ol><h3 id="_2-restful风格实战" tabindex="-1"><a class="header-anchor" href="#_2-restful风格实战" aria-hidden="true">#</a> 2. RESTFul风格实战</h3><h4 id="_2-1-需求分析" tabindex="-1"><a class="header-anchor" href="#_2-1-需求分析" aria-hidden="true">#</a> 2.1 需求分析</h4><ul><li>数据结构： User {id 唯一标识,name 用户名，age 用户年龄}</li><li>功能分析 <ul><li>用户数据分页展示功能（条件：page 页数 默认1，size 每页数量 默认 10）</li><li>保存用户功能</li><li>根据用户id查询用户详情功能</li><li>根据用户id更新用户数据功能</li><li>根据用户id删除用户数据功能</li><li>多条件模糊查询用户功能（条件：keyword 模糊关键字，page 页数 默认1，size 每页数量 默认 10）</li></ul></li></ul><h4 id="_2-2-restful风格接口设计" tabindex="-1"><a class="header-anchor" href="#_2-2-restful风格接口设计" aria-hidden="true">#</a> 2.2 RESTFul风格接口设计</h4><ol><li><p><strong>接口设计</strong></p><table><thead><tr><th>功能</th><th>接口和请求方式</th><th>请求参数</th><th>返回值</th></tr></thead><tbody><tr><td>分页查询</td><td>GET /user</td><td>page=1&amp;size=10 param</td><td>{ 响应数据 }</td></tr><tr><td>用户添加</td><td>POST /user</td><td>{ user 数据 }</td><td>{响应数据}</td></tr><tr><td>用户详情</td><td>GET /user/1</td><td>路径参数</td><td>{响应数据}</td></tr><tr><td>用户更新</td><td>PUT /user</td><td>{ user 更新数据}</td><td>{响应数据}</td></tr><tr><td>用户删除</td><td>DELETE /user/1</td><td>路径参数</td><td>{响应数据}</td></tr><tr><td>条件模糊</td><td>GET /user/search</td><td>page=1&amp;size=10&amp;keywork=关键字</td><td>{响应数据}</td></tr></tbody></table></li><li><p><strong>问题讨论</strong></p><p>为什么查询用户详情，就使用路径传递参数，多条件模糊查询，就使用请求参数传递？</p><p>误区：restful风格下，不是所有请求参数都是路径传递！可以使用其他方式传递！</p><p>在 RESTful API 的设计中，路径和请求参数和请求体都是用来向服务器传递信息的方式。</p><ul><li>对于查询用户详情，使用路径传递参数是因为这是一个单一资源的查询，即查询一条用户记录。使用路径参数可以明确指定所请求的资源，便于服务器定位并返回对应的资源，也符合 RESTful 风格的要求。</li><li>而对于多条件模糊查询，使用请求参数传递参数是因为这是一个资源集合的查询，即查询多条用户记录。使用请求参数可以通过组合不同参数来限制查询结果，路径参数的组合和排列可能会很多，不如使用请求参数更加灵活和简洁。 此外，还有一些通用的原则可以遵循：</li><li>路径参数应该用于指定资源的唯一标识或者 ID，而请求参数应该用于指定查询条件或者操作参数。</li><li>请求参数应该限制在 10 个以内，过多的请求参数可能导致接口难以维护和使用。</li><li>对于敏感信息，最好使用 POST 和请求体来传递参数。</li></ul></li></ol><h4 id="_2-3-后台接口实现" tabindex="-1"><a class="header-anchor" href="#_2-3-后台接口实现" aria-hidden="true">#</a> 2.3 后台接口实现</h4><p>准备用户实体类：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * projectName: com.atguigu.pojo
 * 用户实体类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;User{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span>
                <span class="token string">&quot;, name=&#39;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>准备用户Controller:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.controller
 *
 * description: 用户模块的控制器
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 模拟分页查询业务接口
     */</span>
    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;page&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> page<span class="token punctuation">,</span>
                            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;page = &quot;</span> <span class="token operator">+</span> page <span class="token operator">+</span> <span class="token string">&quot;, size = &quot;</span> <span class="token operator">+</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分页查询业务!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;{&#39;status&#39;:&#39;ok&#39;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token doc-comment comment">/**
     * 模拟用户保存业务接口
     */</span>
    <span class="token annotation punctuation">@PostMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户保存业务!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;{&#39;status&#39;:&#39;ok&#39;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * 模拟用户详情业务接口
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">detailUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id = &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户详情业务!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;{&#39;status&#39;:&#39;ok&#39;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token doc-comment comment">/**
     * 模拟用户更新业务接口
     */</span>
    <span class="token annotation punctuation">@PutMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;user = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户更新业务!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;{&#39;status&#39;:&#39;ok&#39;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token doc-comment comment">/**
     * 模拟条件分页查询业务接口
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;search&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;page&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> page<span class="token punctuation">,</span>
                            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> size<span class="token punctuation">,</span>
                            <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>required<span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token class-name">String</span> keyword<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;page = &quot;</span> <span class="token operator">+</span> page <span class="token operator">+</span> <span class="token string">&quot;, size = &quot;</span> <span class="token operator">+</span> size <span class="token operator">+</span> <span class="token string">&quot;, keyword = &quot;</span> <span class="token operator">+</span> keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;条件分页查询业务!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;{&#39;status&#39;:&#39;ok&#39;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、基于restful风格增删改查练习" tabindex="-1"><a class="header-anchor" href="#五、基于restful风格增删改查练习" aria-hidden="true">#</a> 五、基于RESTFul风格增删改查练习</h2><h3 id="_1-案例功能和接口分析" tabindex="-1"><a class="header-anchor" href="#_1-案例功能和接口分析" aria-hidden="true">#</a> 1. 案例功能和接口分析</h3><h4 id="_1-1-功能预览" tabindex="-1"><a class="header-anchor" href="#_1-1-功能预览" aria-hidden="true">#</a> 1.1 功能预览</h4><p><img src="/assets/image_CloFbJri5w-a095987c.png" alt=""></p><h4 id="_1-2-接口分析" tabindex="-1"><a class="header-anchor" href="#_1-2-接口分析" aria-hidden="true">#</a> 1.2 接口分析</h4><ol><li>学习计划查询<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/* 
需求说明
    查询全部数据页数据
请求uri
    schedule
请求方式 
    get   
响应的json
    {
        &quot;code&quot;:200,
        &quot;flag&quot;:true,
        &quot;data&quot;:[
            {id:1,title:&#39;学习java&#39;,completed:true},
            {id:2,title:&#39;学习html&#39;,completed:true},
            {id:3,title:&#39;学习css&#39;,completed:true},
            {id:4,title:&#39;学习js&#39;,completed:true},
            {id:5,title:&#39;学习vue&#39;,completed:true}
        ]
    }
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>学习计划删除<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/* 
需求说明
    根据id删除日程
请求uri
    schedule/{id}
请求方式 
    delete
响应的json
    {
        &quot;code&quot;:200,
        &quot;flag&quot;:true,
        &quot;data&quot;:null
    }
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>学习计划保存<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/* 
需求说明
    增加日程
请求uri
    schedule
请求方式 
    post
请求体中的JSON
    {
        title: &#39;&#39;,
        completed: false
    }
响应的json
    {
        &quot;code&quot;:200,
        &quot;flag&quot;:true,
        &quot;data&quot;:null
    }
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>学习计划修改<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/* 
需求说明
    根据id修改数据
请求uri
    schedule
请求方式 
    put
请求体中的JSON
    {
        id: 1,
        title: &#39;&#39;,
        completed: false
    }
响应的json
    {
        &quot;code&quot;:200,
        &quot;flag&quot;:true,
        &quot;data&quot;:null
    }
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2-工程项目准备" tabindex="-1"><a class="header-anchor" href="#_2-工程项目准备" aria-hidden="true">#</a> 2. 工程项目准备</h3><h4 id="_2-1-前端项目搭建" tabindex="-1"><a class="header-anchor" href="#_2-1-前端项目搭建" aria-hidden="true">#</a> 2.1 前端项目搭建</h4><ol><li><p>导入前端工程</p></li><li><p>安装npm依赖</p><p>进入前端工程项目文件夹下！</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>启动前端程序</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="_2-2-后端项目搭建" tabindex="-1"><a class="header-anchor" href="#_2-2-后端项目搭建" aria-hidden="true">#</a> 2.2 后端项目搭建</h4><blockquote><p>数据库怎么办？使用HashMap模拟，所以不涉及和MyBatis、Spring的整合!</p></blockquote><ol><li><p>搭建后台项目</p><p>pom.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>6.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- springioc相关依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- web相关依赖  --&gt;</span>
    <span class="token comment">&lt;!-- 在 pom.xml 中引入 Jakarta EE Web API 的依赖 --&gt;</span>
    <span class="token comment">&lt;!--
        在 Spring Web MVC 6 中，Servlet API 迁移到了 Jakarta EE API，因此在配置 DispatcherServlet 时需要使用
         Jakarta EE 提供的相应类库和命名空间。错误信息 “‘org.springframework.web.servlet.DispatcherServlet’
         is not assignable to ‘javax.servlet.Servlet,jakarta.servlet.Servlet’” 表明你使用了旧版本的
         Servlet API，没有更新到 Jakarta EE 规范。
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.platform<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.jakartaee-web-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>9.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- springwebmvc相关依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>准备实体类</p><p>包：com.atguigu.pojo</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.pojo
 *
 * description: 任务实体类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Schedule</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> completed<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> title<span class="token punctuation">,</span> <span class="token class-name">Boolean</span> completed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>completed <span class="token operator">=</span> completed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token class-name">String</span> title<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">getCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> completed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCompleted</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> completed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>completed <span class="token operator">=</span> completed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Schedule{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span>
                <span class="token string">&quot;, title=&#39;&quot;</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, completed=&quot;</span> <span class="token operator">+</span> completed <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>准备R结果包装类</p><p>包：com.atguigu.utils</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.utils
 *
 * description: 返回结果类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> code <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment">//200成功状态码</span>

    <span class="token keyword">private</span> <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//返回状态</span>

    <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>  <span class="token comment">//返回具体数据</span>
    
     <span class="token keyword">public</span>  <span class="token keyword">static</span> <span class="token class-name">R</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">R</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">R</span>  <span class="token function">fail</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">R</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span> <span class="token comment">//错误码</span>
        r<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//错误状态</span>
        r<span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
     <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFlag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFlag</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setData</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>准备业务类</p><p>包：com.atguigu.service</p><ol><li>业务接口<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.service
 *
 * description: schedule业务接口
 */</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ScheduleService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 返回全部学习计划
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Schedule</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 保存学习计划
     * <span class="token keyword">@param</span> <span class="token parameter">schedule</span>
     */</span>
    <span class="token keyword">void</span> <span class="token function">saveSchedule</span><span class="token punctuation">(</span><span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 更新学习计划
     * <span class="token keyword">@param</span> <span class="token parameter">schedule</span>
     */</span>
    <span class="token keyword">void</span> <span class="token function">updateSchedule</span><span class="token punctuation">(</span><span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * 移除学习计划
     * <span class="token keyword">@param</span>
     */</span>
    <span class="token keyword">void</span> <span class="token function">removeById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>业务实现<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.service.impl
 *
 * description:
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleServiceImpl</span>  <span class="token keyword">implements</span> <span class="token class-name">ScheduleService</span> <span class="token punctuation">{</span>
    <span class="token comment">//准备假数据</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">Schedule</span><span class="token punctuation">&gt;</span></span> scheduleMap<span class="token punctuation">;</span>

        <span class="token keyword">private</span> <span class="token keyword">static</span>  <span class="token keyword">int</span> maxId <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

        <span class="token keyword">static</span> <span class="token punctuation">{</span>

            scheduleMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">Schedule</span> schedule <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

            schedule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;学习Java&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

            schedule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;学习H5&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

            schedule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;学习Css&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>
            schedule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;学习JavaScript&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

            schedule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schedule</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;学习Spring&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>    
    <span class="token doc-comment comment">/**
         * 返回全部学习计划
         *
         * <span class="token keyword">@return</span>
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Schedule</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>scheduleMap<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/**
         * 保存学习计划
         *
         * <span class="token keyword">@param</span> <span class="token parameter">schedule</span>
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveSchedule</span><span class="token punctuation">(</span><span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            maxId<span class="token operator">++</span><span class="token punctuation">;</span>
            schedule<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>maxId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>maxId<span class="token punctuation">,</span>schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/**
         * 更新学习计划
         *
         * <span class="token keyword">@param</span> <span class="token parameter">schedule</span>
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateSchedule</span><span class="token punctuation">(</span><span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>schedule<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/**
         * 移除学习计划
         *
         * <span class="token keyword">@param</span> <span class="token parameter">id</span>
         */</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            scheduleMap<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>准备spring-mvc.配置文件</p><p>位置：resources/spring-mvc.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/mvc<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- 扫描controller对应的包,将handler加入到ioc--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.controller,com.atguigu.service<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--
       注意: 导入mvc命名空间!
       mvc:annotation-driven 是一个整合标签
                             他会导入handlerMapping和handlerAdapter
                             他会导入json数据格式转化器等等!
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/&gt;</span></span>
     <span class="token comment">&lt;!-- viewResolver 不需要配置,因为我们不需要查找逻辑视图!!! --&gt;</span>

    <span class="token comment">&lt;!-- 加入这个配置，SpringMVC 就会在遇到没有 @RequestMapping 的请求时放它过去 --&gt;</span>
    <span class="token comment">&lt;!-- 所谓放它过去就是让这个请求去找它原本要访问的资源 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>准备 web.xml配置文件</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!-- 配置SpringMVC中负责处理请求的核心Servlet，也被称为SpringMVC的前端控制器 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- DispatcherServlet的全类名 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 通过初始化参数指定SpringMVC配置文件位置 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 如果不记得contextConfigLocation配置项的名称，可以到DispatcherServlet的父类FrameworkServlet中查找 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 使用classpath:说明这个路径从类路径的根目录开始才查找 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring-mvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 作为框架的核心组件，在启动过程中有大量的初始化操作要做，这些操作放在第一次请求时才执行非常不恰当 --&gt;</span>
    <span class="token comment">&lt;!-- 我们应该将DispatcherServlet设置为随Web应用一起启动 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 对DispatcherServlet来说，url-pattern有两种方式配置 --&gt;</span>
    <span class="token comment">&lt;!-- 方式一：配置“/”，表示匹配整个Web应用范围内所有请求。这里有一个硬性规定：不能写成“/*”。
      只有这一个地方有这个特殊要求，以后我们再配置Filter还是可以正常写“/*”。 --&gt;</span>
    <span class="token comment">&lt;!-- 方式二：配置“*.扩展名”，表示匹配整个Web应用范围内部分请求 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_3-增删改查实现" tabindex="-1"><a class="header-anchor" href="#_3-增删改查实现" aria-hidden="true">#</a> 3. 增删改查实现</h3><h4 id="_4-1-项目根路径设计" tabindex="-1"><a class="header-anchor" href="#_4-1-项目根路径设计" aria-hidden="true">#</a> 4.1 项目根路径设计</h4><p>因为前端项目设置了后台访问的项目根路径为 /rest </p><p>我们后台项目也对应的设置：</p><p><img src="/assets/image_fwsj8IhXZJ-641d59b3.png" alt=""></p><h4 id="_4-2-springmvc解决跨域问题" tabindex="-1"><a class="header-anchor" href="#_4-2-springmvc解决跨域问题" aria-hidden="true">#</a> 4.2 SpringMVC解决跨域问题</h4><p>假设我们有一个网站 <code>http://example.com</code>，现在需要跨域请求另外一个网站 <code>http://api.example.com</code> 中的数据。浏览器就会因为安全问题，拒绝客户端访问请求！</p><p>跨域问题是指在浏览器中发起跨域请求被浏览器拦截的问题。在同一个源域（同一协议、主机、端口），浏览器允许 JavaScript 发起跨域请求；在不同的源域下，浏览器对发起的异域请求会做出不同的限制。</p><p>常见的跨域问题的场景有：</p><ul><li>访问不同的子域名；</li><li>访问不同的端口号；</li><li>访问不同的协议（http、https）；</li><li>访问不同的域名；</li></ul><p>基于CORS方式，解决跨域思路：</p><p>CORS（Cross-Origin Resource Sharing）是 W3C 制定的一种跨域解决方案，它给出了跨域请求和响应的标准。服务器端代码需要在响应头中设置 Access-Control-Allow-Origin，并指定访问来源域名名或 * 通配符，表示允许的跨域请求。浏览器可以根据响应头信息，判断是否允许该请求。</p><p>SpringMVC基于CORS思路解决跨域方案：</p><ul><li><p>@CrossOrigin注解</p><p><code>@CrossOrigin</code> 注释在带注释的【控制器方法】 / 【控制器类】上启用跨源请求</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/account&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountController</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@CrossOrigin</span>
  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">retrieve</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下， <code>@CrossOrigin</code> 允许：</p><ul><li>All origins.</li><li>All headers.</li><li>All HTTP methods to which the controller method is mapped. 注解核心设置属性讲解：</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">TYPE</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">CrossOrigin</span> <span class="token punctuation">{</span>

  <span class="token doc-comment comment">/**
   * 设置哪些客户端地址可以跨域访问! 格式为: 协议://主机地址:端口号
   * <span class="token keyword">@return</span>
   */</span>
  <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;origins&quot;</span><span class="token punctuation">)</span>
  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">origins</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token doc-comment comment">/**
   * 设置哪些客户端的[自定义请求头]可以跨域访问!
   */</span>
  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">allowedHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token doc-comment comment">/**
   * 设置哪些服务端的自定义响应头,可以被客户端读取!
   */</span>
  <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">exposedHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token doc-comment comment">/**
   *设置哪些请求方法,可以跨域方式! 
   */</span>
  <span class="token class-name">RequestMethod</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token doc-comment comment">/**
   * 值为 true 或者 false
   * 客户端是否可以携带cookie!
   */</span>
  <span class="token class-name">String</span> <span class="token function">allowCredentials</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>xml全局跨域配置</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>cors</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">allowed-origins</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">allowed-methods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>GET, PUT<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">allowed-headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header1, header2, header3<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">exposed-headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header1, header2<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name">allow-credentials</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">allowed-origins</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://domain1.com<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>cors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_4-3-业务实现" tabindex="-1"><a class="header-anchor" href="#_4-3-业务实现" aria-hidden="true">#</a> 4.3 业务实现</h4><ol><li>查询业务<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.controller
 *
 * description: 学习计划controller
 */</span>
<span class="token annotation punctuation">@CrossOrigin</span>
<span class="token comment">/*
    @CrossOrigin 注释在带注释的控制器方法上启用跨源请求
    
    默认情况下， 
    @CrossOrigin 允许：
            All origins  任何请求主机地址
            All headers  任何请求头
            All HTTP methods to which the controller method is mapped.  任何请求方式!
   
    可以设置:
         @CrossOrigin(origins = &quot;https://domain2.com&quot;) 指定允许跨域请求的主机地址
 */</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;schedule&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScheduleController</span>
<span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ScheduleService</span> scheduleService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">showList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Schedule</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> scheduleService<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span>  <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>修改业务<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PutMapping</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">changeSchedule</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span><span class="token punctuation">{</span>
    scheduleService<span class="token punctuation">.</span><span class="token function">updateSchedule</span><span class="token punctuation">(</span>schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>删除业务<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">removeSchedule</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    scheduleService<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>保存业务<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span>
<span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">saveSchedule</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Schedule</span> schedule<span class="token punctuation">)</span><span class="token punctuation">{</span>
    scheduleService<span class="token punctuation">.</span><span class="token function">saveSchedule</span><span class="token punctuation">(</span>schedule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="六、springmvc其他扩展" tabindex="-1"><a class="header-anchor" href="#六、springmvc其他扩展" aria-hidden="true">#</a> 六、SpringMVC其他扩展</h2><h3 id="_1-异常处理机制" tabindex="-1"><a class="header-anchor" href="#_1-异常处理机制" aria-hidden="true">#</a> 1. 异常处理机制</h3><h4 id="_1-1-异常处理概念" tabindex="-1"><a class="header-anchor" href="#_1-1-异常处理概念" aria-hidden="true">#</a> 1.1 异常处理概念</h4><p>开发过程中是不可避免地会出现各种异常情况的，例如网络连接异常、数据格式异常、空指针异常等等。异常的出现可能导致程序的运行出现问题，甚至直接导致程序崩溃。因此，在开发过程中，合理处理异常、避免异常产生、以及对异常进行有效的调试是非常重要的。</p><p>对于异常的处理，一般分为两种方式：</p><ul><li>编程式异常处理：是指在代码中显式地编写处理异常的逻辑。它通常涉及到对异常类型的检测及其处理，例如使用 try-catch 块来捕获异常，然后在 catch 块中编写特定的处理代码，或者在 finally 块中执行一些清理操作。在编程式异常处理中，开发人员需要显式地进行异常处理，异常处理代码混杂在业务代码中，导致代码可读性较差。</li><li>声明式异常处理：则是将异常处理的逻辑从具体的业务逻辑中分离出来，通过配置等方式进行统一的管理和处理。在声明式异常处理中，开发人员只需要为方法或类标注相应的注解（如 <code>@Throws</code> 或 <code>@ExceptionHandler</code>），就可以处理特定类型的异常。相较于编程式异常处理，声明式异常处理可以使代码更加简洁、易于维护和扩展。</li></ul><p>站在宏观角度来看待声明式事务处理：</p><p>整个项目从架构这个层面设计的异常处理的统一机制和规范。</p><p>一个项目中会包含很多个模块，各个模块需要分工完成。如果张三负责的模块按照 A 方案处理异常，李四负责的模块按照 B 方案处理异常……各个模块处理异常的思路、代码、命名细节都不一样，那么就会让整个项目非常混乱。</p><p>使用声明式异常处理，可以统一项目处理异常思路，项目更加清晰明了！</p><h4 id="_1-2-声明式异常好处" tabindex="-1"><a class="header-anchor" href="#_1-2-声明式异常好处" aria-hidden="true">#</a> 1.2 声明式异常好处</h4><p><img src="/assets/image_vIgpMpZh_2-3e0d7736.png" alt=""></p><ul><li>使用声明式代替编程式来实现异常管理 <ul><li>让异常控制和核心业务解耦，二者各自维护，结构性更好</li></ul></li><li>整个项目层面使用同一套规则来管理异常 <ul><li>整个项目代码风格更加统一、简洁</li><li>便于团队成员之间的彼此协作</li></ul></li></ul><h4 id="_1-3-基于注解异常声明异常处理" tabindex="-1"><a class="header-anchor" href="#_1-3-基于注解异常声明异常处理" aria-hidden="true">#</a> 1.3 基于注解异常声明异常处理</h4><ol><li><p>声明异常处理控制器类</p><p>异常处理控制类，统一定义异常处理handler方法！</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.execptionhandler
 * 
 * description: 全局异常处理器,内部可以定义异常处理Handler!
 */</span>

<span class="token doc-comment comment">/**
 * @RestControllerAdvice = @ControllerAdvice + @ResponseBody
 * @ControllerAdvice 代表当前类的异常处理controller! 
 */</span>
<span class="token annotation punctuation">@RestControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>

  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>声明异常处理hander方法</p><p>异常处理handler方法和普通的handler方法参数接收和响应都一致！</p><p>只不过异常处理handler方法要映射异常，发生对应的异常会调用！</p><p>普通的handler方法要使用@RequestMapping注解映射路径，发生对应的路径调用！</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 异常处理handler 
 * @ExceptionHandler(HttpMessageNotReadableException.class) 
 * 该注解标记异常处理Handler,并且指定发生异常调用该方法!
 * 
 * 
 * <span class="token keyword">@param</span> <span class="token parameter">e</span> 获取异常对象!
 * <span class="token keyword">@return</span> 返回handler处理结果!
 */</span>
<span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">HttpMessageNotReadableException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handlerJsonDateException</span><span class="token punctuation">(</span><span class="token class-name">HttpMessageNotReadableException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 当发生空指针异常会触发此方法!
 * <span class="token keyword">@param</span> <span class="token parameter">e</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">NullPointerException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handlerNullException</span><span class="token punctuation">(</span><span class="token class-name">NullPointerException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * 所有异常都会触发此方法!但是如果有具体的异常处理Handler! 
 * 具体异常处理Handler优先级更高!
 * 例如: 发生NullPointerException异常!
 *       会触发handlerNullException方法,不会触发handlerException方法!
 * <span class="token keyword">@param</span> <span class="token parameter">e</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">handlerException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>配置文件扫描控制器类配置</p><p>确保异常处理控制类被扫描</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code> <span class="token comment">&lt;!-- 扫描controller对应的包,将handler加入到ioc--&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.controller,
    com.atguigu.exceptionhandler<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2-拦截器使用" tabindex="-1"><a class="header-anchor" href="#_2-拦截器使用" aria-hidden="true">#</a> 2. 拦截器使用</h3><h4 id="_2-1-拦截器概念" tabindex="-1"><a class="header-anchor" href="#_2-1-拦截器概念" aria-hidden="true">#</a> 2.1 拦截器概念</h4><p>拦截器和过滤器解决问题</p><ul><li><p>生活中</p><p>为了提高乘车效率，在乘客进入站台前统一检票</p><p><img src="/assets/img008_Cu_s178zpF-ee92a48e.png" alt=""></p></li><li><p>程序中</p><p>在程序中，使用拦截器在请求到达具体 handler 方法前，统一执行检测</p><p><img src="/assets/img009_ZoPtaL048I-034b0918.png" alt=""></p></li></ul><p>拦截器 VS 过滤器：</p><ul><li>相似点 <ul><li>拦截：必须先把请求拦住，才能执行后续操作</li><li>过滤：拦截器或过滤器存在的意义就是对请求进行统一处理</li><li>放行：对请求执行了必要操作后，放请求过去，让它访问原本想要访问的资源</li></ul></li><li>不同点 <ul><li>工作平台不同 <ul><li>过滤器工作在 Servlet 容器中</li><li>拦截器工作在 SpringMVC 的基础上</li></ul></li><li>拦截的范围 <ul><li>过滤器：能够拦截到的最大范围是整个 Web 应用</li><li>拦截器：能够拦截到的最大范围是整个 SpringMVC 负责的请求</li></ul></li><li>IOC 容器支持 <ul><li>过滤器：想得到 IOC 容器需要调用专门的工具方法，是间接的</li><li>拦截器：它自己就在 IOC 容器中，所以可以直接从 IOC 容器中装配组件，也就是可以直接得到 IOC 容器的支持</li></ul></li></ul></li></ul><p>选择：</p><p>功能需要如果用 SpringMVC 的拦截器能够实现，就不使用过滤器。</p><p><img src="/assets/image_h_FVVk92VB-c75a330d.png" alt=""></p><h4 id="_2-2-拦截器使用" tabindex="-1"><a class="header-anchor" href="#_2-2-拦截器使用" aria-hidden="true">#</a> 2.2 拦截器使用</h4><ol><li><p>创建拦截器类</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Process01Interceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token comment">// 在处理请求的目标 handler 方法前执行</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;request = &quot;</span> <span class="token operator">+</span> request <span class="token operator">+</span> <span class="token string">&quot;, response = &quot;</span> <span class="token operator">+</span> response <span class="token operator">+</span> <span class="token string">&quot;, handler = &quot;</span> <span class="token operator">+</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Process01Interceptor.preHandle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         
        <span class="token comment">// 返回true：放行</span>
        <span class="token comment">// 返回false：不放行</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token comment">// 在目标 handler 方法之后，handler报错不执行!</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;request = &quot;</span> <span class="token operator">+</span> request <span class="token operator">+</span> <span class="token string">&quot;, response = &quot;</span> <span class="token operator">+</span> response <span class="token operator">+</span> <span class="token string">&quot;, handler = &quot;</span> <span class="token operator">+</span> handler <span class="token operator">+</span> <span class="token string">&quot;, modelAndView = &quot;</span> <span class="token operator">+</span> modelAndView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Process01Interceptor.postHandle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token comment">// 渲染视图之后执行(最后),一定执行!</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;request = &quot;</span> <span class="token operator">+</span> request <span class="token operator">+</span> <span class="token string">&quot;, response = &quot;</span> <span class="token operator">+</span> response <span class="token operator">+</span> <span class="token string">&quot;, handler = &quot;</span> <span class="token operator">+</span> handler <span class="token operator">+</span> <span class="token string">&quot;, ex = &quot;</span> <span class="token operator">+</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Process01Interceptor.afterCompletion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>单个拦截器执行顺序:</p><ul><li>preHandle() 方法</li><li>目标 handler 方法</li><li>postHandle() 方法</li><li>渲染视图(返回json没有此步骤)</li><li>afterCompletion() 方法</li></ul></li><li><p>拦截器配置</p><p>springmvc.xml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 配置拦截器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 默认拦截器,拦截所有请求--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.interceptor.Process01Interceptor<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>配置详解</p><ol><li>默认拦截全部<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 具体配置拦截器可以指定拦截的请求地址 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 精确匹配 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/one<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mvc.interceptor.Process03Interceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>精准配置<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 具体配置拦截器可以指定拦截的请求地址 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 精确匹配 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/one<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mvc.interceptor.Process03Interceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- /*匹配路径中的一层 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/*<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mvc.interceptor.Process04Interceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- /**匹配路径中的多层 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/**<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mvc.interceptor.Process05Interceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>排除配置<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- /**匹配路径中的多层 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/**<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 使用 mvc:exclude-mapping 标签配置不拦截的地址 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>exclude-mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/common/request/two/bbb<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.mvc.interceptor.Process05Interceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>多个拦截器执行顺序</p><ol><li>preHandle() 方法：SpringMVC 会把所有拦截器收集到一起，然后按照配置顺序调用各个 preHandle() 方法。</li><li>postHandle() 方法：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 postHandle() 方法。</li><li>afterCompletion() 方法：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 afterCompletion() 方法。</li></ol></li></ol><h4 id="_2-3-拦截器作用位置图解" tabindex="-1"><a class="header-anchor" href="#_2-3-拦截器作用位置图解" aria-hidden="true">#</a> 2.3 拦截器作用位置图解</h4><p><img src="/assets/image_ykneI-kQzc-010c44e9.png" alt=""></p><h4 id="_2-4-拦截器案例" tabindex="-1"><a class="header-anchor" href="#_2-4-拦截器案例" aria-hidden="true">#</a> 2.4 拦截器案例</h4><p>一个网站有 56个资源，其中一个为登陆资源，两个无须登录即可访问，另外三个需要登录后才能访问。如果不登录就访问那三个资源，需要拦截，并且提示登录后访问访问！</p><p>提示：登陆为模拟登陆，存储一个user可以到session即可！</p><p>访问资源的请求地址可参考：</p><ul><li>登陆资源：/public/resource/login</li><li>公共资源1：/public/resource/one</li><li>公共资源2：/public/resouce/two</li><li>私密资源1：/private/resouce/one</li><li>私密资源2：/private/resouce/two</li><li>私密资源3：/private/resouce/three</li></ul><p>案例实现：</p><ol><li>声明资源类 <ol><li>PublicController<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.controller
 * description: 公有资源控制类
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;public/resource&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PublicController</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 模拟登录,将假用户数据存储到session中!
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span><span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login success!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;public one&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">two</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;public two&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>PrivateController<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;private/resource&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrivateController</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;private one&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">two</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;private two&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">three</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;private two&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li>声明拦截器类<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * projectName: com.atguigu.interceptor
 *
 * description: 登录保护拦截器
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginProtectInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 登录保护方法
     * <span class="token keyword">@param</span> <span class="token parameter">request</span> current HTTP request
     * <span class="token keyword">@param</span> <span class="token parameter">response</span> current HTTP response
     * <span class="token keyword">@param</span> <span class="token parameter">handler</span> chosen handler to execute, for type and/or instance evaluation
     * <span class="token keyword">@return</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Exception</span></span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token class-name">Object</span> user <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//没有登录</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;请先登录,再访问! &lt;a href=&#39;/public/resource/login&#39;&gt;点击此处登录&lt;/a&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//拦截,不到达目标地址</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>配置拦截器类<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 配置拦截器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/private/**<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.interceptor.LoginProtectInterceptor<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_3-参数校验" tabindex="-1"><a class="header-anchor" href="#_3-参数校验" aria-hidden="true">#</a> 3. 参数校验</h3><blockquote><p>在 Web 应用三层架构体系中，表述层负责接收浏览器提交的数据，业务逻辑层负责数据的处理。为了能够让业务逻辑层基于正确的数据进行处理，我们需要在表述层对数据进行检查，将错误的数据隔绝在业务逻辑层之外。</p></blockquote><ol><li><p><strong>校验概述</strong></p><p>JSR 303 是 Java 为 Bean 数据合法性校验提供的标准框架，它已经包含在 JavaEE 6.0 标准中。JSR 303 通过在 Bean 属性上标注类似于 @NotNull、@Max 等标准的注解指定校验规则，并通过标准的验证接口对Bean进行验证。</p><table><thead><tr><th>注解</th><th>规则</th></tr></thead><tbody><tr><td>@Null</td><td>标注值必须为 null</td></tr><tr><td>@NotNull</td><td>标注值不可为 null</td></tr><tr><td>@AssertTrue</td><td>标注值必须为 true</td></tr><tr><td>@AssertFalse</td><td>标注值必须为 false</td></tr><tr><td>@Min(value)</td><td>标注值必须大于或等于 value</td></tr><tr><td>@Max(value)</td><td>标注值必须小于或等于 value</td></tr><tr><td>@DecimalMin(value)</td><td>标注值必须大于或等于 value</td></tr><tr><td>@DecimalMax(value)</td><td>标注值必须小于或等于 value</td></tr><tr><td>@Size(max,min)</td><td>标注值大小必须在 max 和 min 限定的范围内</td></tr><tr><td>@Digits(integer,fratction)</td><td>标注值值必须是一个数字，且必须在可接受的范围内</td></tr><tr><td>@Past</td><td>标注值只能用于日期型，且必须是过去的日期</td></tr><tr><td>@Future</td><td>标注值只能用于日期型，且必须是将来的日期</td></tr><tr><td>@Pattern(value)</td><td>标注值必须符合指定的正则表达式</td></tr><tr><td>JSR 303 只是一套标准，需要提供其实现才可以使用。Hibernate Validator 是 JSR 303 的一个参考实现，除支持所有标准的校验注解外，它还支持以下的扩展注解：</td><td></td></tr></tbody></table><table><thead><tr><th>注解</th><th>规则</th></tr></thead><tbody><tr><td>@Email</td><td>标注值必须是格式正确的 Email 地址</td></tr><tr><td>@Length</td><td>标注值字符串大小必须在指定的范围内</td></tr><tr><td>@NotEmpty</td><td>标注值字符串不能是空字符串</td></tr><tr><td>@Range</td><td>标注值必须在指定的范围内</td></tr></tbody></table><p>Spring 4.0 版本已经拥有自己独立的数据校验框架，同时支持 JSR 303 标准的校验框架。Spring 在进行数据绑定时，可同时调用校验框架完成数据校验工作。在SpringMVC 中，可直接通过注解驱动 mvc:annotation-driven 的方式进行数据校验。Spring 的 LocalValidatorFactoryBean 既实现了 Spring 的 Validator 接口，也实现了 JSR 303 的 Validator 接口。只要在Spring容器中定义了一个LocalValidatorFactoryBean，即可将其注入到需要数据校验的 Bean中。Spring本身并没有提供JSR 303的实现，所以必须将JSR 303的实现者的jar包放到类路径下。</p><p>配置 <strong>mvc:annotation-driven</strong> 后，SpringMVC 会默认装配好一个 LocalValidatorFactoryBean，通过在处理方法的入参上标注 @Validated 注解即可让 SpringMVC 在完成数据绑定后执行数据校验的工作。</p></li><li><p><strong>操作演示</strong></p><ul><li><p>导入依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 校验注解 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.platform<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.jakartaee-web-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>9.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        
<span class="token comment">&lt;!-- 校验注解实现--&gt;</span>        
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator-annotation-processor --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator-annotation-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>8.0.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>应用校验注解</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Email</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Min</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>validator<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Length</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * projectName: com.atguigu.pojo
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token comment">//age   1 &lt;=  age &lt; = 150</span>
    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token comment">//name 3 &lt;= name.length &lt;= 6</span>
    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">//email 邮箱格式</span>
    <span class="token annotation punctuation">@Email</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>handler标记和绑定错误收集</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * @Validated 代表应用校验注解! 必须添加!
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Validated</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">User</span> user<span class="token punctuation">,</span>
                       <span class="token comment">//在实体类参数和 BindingResult 之间不能有任何其他参数, BindingResult可以接受错误信息,避免信息抛出!</span>
                       <span class="token class-name">BindingResult</span> result<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token comment">//判断是否有信息绑定错误! 有可以自行处理!</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> errorMsg <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getFieldError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> errorMsg<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//没有,正常处理业务即可</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;正常&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>测试效果</p><p><img src="/assets/image_ciuI5tAmH6-658ce1a4.png" alt=""></p></li></ul></li><li><p><strong>易混总结</strong></p><p>@NotNull、@NotEmpty、@NotBlank 都是用于在数据校验中检查字段值是否为空的注解，但是它们的用法和校验规则有所不同。</p><ol><li><p>@NotNull (包装类型不为null)</p><p>@NotNull 注解是 JSR 303 规范中定义的注解，当被标注的字段值为 null 时，会认为校验失败而抛出异常。该注解不能用于字符串类型的校验，若要对字符串进行校验，应该使用 @NotBlank 或 @NotEmpty 注解。</p></li><li><p>@NotEmpty (集合类型长度大于0)</p><p>@NotEmpty 注解同样是 JSR 303 规范中定义的注解，对于 CharSequence、Collection、Map 或者数组对象类型的属性进行校验，校验时会检查该属性是否为 Null 或者 size()==0，如果是的话就会校验失败。但是对于其他类型的属性，该注解无效。需要注意的是只校验空格前后的字符串，如果该字符串中间只有空格，不会被认为是空字符串，校验不会失败。</p></li><li><p>@NotBlank （字符串，不为null，切不为&quot; &quot;字符串）</p><p>@NotBlank 注解是 Hibernate Validator 附加的注解，对于字符串类型的属性进行校验，校验时会检查该属性是否为 Null 或 “” 或者只包含空格，如果是的话就会校验失败。需要注意的是，@NotBlank 注解只能用于字符串类型的校验。 总之，这三种注解都是用于校验字段值是否为空的注解，但是其校验规则和用法有所不同。在进行数据校验时，需要根据具体情况选择合适的注解进行校验。</p></li></ol></li></ol><h3 id="_4-文件上传和下载" tabindex="-1"><a class="header-anchor" href="#_4-文件上传和下载" aria-hidden="true">#</a> 4.文件上传和下载 </h3><h4 id="_4-1-文件上传" tabindex="-1"><a class="header-anchor" href="#_4-1-文件上传" aria-hidden="true">#</a> 4.1 文件上传</h4><ol><li><p><strong>文件上传表单页面</strong></p><p>位置：index.html</p><ul><li>第一点：请求方式必须是 POST</li><li>第二点：请求体的编码方式必须是 multipart/form-data（通过 form 标签的 enctype 属性设置）</li><li>第三点：使用 input 标签、type 属性设置为 file 来生成文件上传框</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/save/picture<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      昵称：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nickName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>龙猫<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      头像：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headPicture<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      背景：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>backgroundPicture<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>springmvc环境要求</strong></p><p>pom.xml添加依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置文件上传处理器(springmvc配置)</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 文件上传处理器,可处理 multipart/* 请求并将其转换为 MultipartFile 对象--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.support.StandardServletMultipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>CommonsMultipartResolver的bean的id，必须是：multipartResolver 如果不是这个值，会在上传文件时报错 在 <code>web.xml</code> 文件中添加 Multipart 配置</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>yourAppServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>multipart-config</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 定义文件上传时所需的最大值，单位为字节 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>max-file-size</span><span class="token punctuation">&gt;</span></span>10485760<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>max-file-size</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 定义单个上传文件的最大值，单位为字节 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>max-request-size</span><span class="token punctuation">&gt;</span></span>20971520<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>max-request-size</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 定义内存中存储文件的最大值，超过此大小的文件会写入到硬盘中 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file-size-threshold</span><span class="token punctuation">&gt;</span></span>5242880<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file-size-threshold</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>multipart-config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>低版本web.xml约束文件，会爆红，不管担心，继续启动即可！</p><blockquote><p>历史：Spring MVC 6之前，通常使用的是 <code>CommonsMultipartResolver</code> 来解析文件上传请求。但是在 Spring MVC 6中，此类已被移除，Spring 官方推荐使用 <code>StandardServletMultipartResolver</code> 或 <code>MockMultipartResolver</code> 来替代。</p></blockquote></li><li><p><strong>handler方法接收数据</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 上传的文件使用 MultipartFile 类型接收其相关数据
 * <span class="token keyword">@param</span> <span class="token parameter">nickName</span>
 * <span class="token keyword">@param</span> <span class="token parameter">picture</span>
 * <span class="token keyword">@param</span> <span class="token parameter">backgroundPicture</span>
 * <span class="token keyword">@return</span>
 * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span>
 */</span>
<span class="token annotation punctuation">@PostMapping</span> <span class="token punctuation">(</span><span class="token string">&quot;picture&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">String</span> nickName<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;headPicture&quot;</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> picture<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;backgroundPicture&quot;</span><span class="token punctuation">)</span><span class="token class-name">MultipartFile</span> backgroundPicture<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nickName<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">String</span> inputName <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传表单项的 name 属性值：&quot;</span> <span class="token operator">+</span> inputName<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取这个数据通常都是为了获取文件本身的扩展名</span>
    <span class="token class-name">String</span> originalFilename <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件在用户本地原始的文件名：&quot;</span> <span class="token operator">+</span> originalFilename<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> contentType <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件的内容类型：&quot;</span> <span class="token operator">+</span> contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> empty <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件是否为空：&quot;</span> <span class="token operator">+</span> empty<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">long</span> size <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件大小：&quot;</span> <span class="token operator">+</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;文件二进制数据的字节数组：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;读取文件数据的输入流对象：&quot;</span> <span class="token operator">+</span> inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Resource</span> resource <span class="token operator">=</span> picture<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;代表当前 MultiPartFile 对象的资源对象&quot;</span> <span class="token operator">+</span> resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>MultipartFile接口</strong></p><p><img src="/assets/img014_ciD7FfevEJ-7e8b1bea.png" alt=""></p></li><li><p><strong>文件转存</strong></p><ol><li><p>底层机制</p><p><img src="/assets/img015_U98i7AFmF--cfdd5e7b.png" alt=""></p></li><li><p>本地转存</p><p><img src="/assets/img016_NDUl5QE_QR-5af51b43.png" alt=""></p><p>转存代码演示：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>……
 
<span class="token comment">// 1、准备好保存文件的目标目录</span>
<span class="token comment">// ①File 对象要求目标路径是一个物理路径（在硬盘空间里能够直接找到文件的路径）</span>
<span class="token comment">// ②项目在不同系统平台上运行，要求能够自动兼容、适配不同系统平台的路径格式</span>
<span class="token comment">//      例如：Window系统平台的路径是 D:/aaa/bbb 格式</span>
<span class="token comment">//      例如：Linux系统平台的路径是 /ttt/uuu/vvv 格式</span>
<span class="token comment">//      所以我们需要根据『不会变的虚拟路径』作为基准动态获取『跨平台的物理路径』</span>
<span class="token comment">// ③虚拟路径：浏览器通过 Tomcat 服务器访问 Web 应用中的资源时使用的路径</span>
<span class="token class-name">String</span> destFileFolderVirtualPath <span class="token operator">=</span> <span class="token string">&quot;/head-picture&quot;</span><span class="token punctuation">;</span>
 
<span class="token comment">// ④调用 ServletContext 对象的方法将虚拟路径转换为真实物理路径</span>
<span class="token class-name">String</span> destFileFolderRealPath <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span>destFileFolderVirtualPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// 2、生成保存文件的文件名</span>
<span class="token comment">// ①为了避免同名的文件覆盖已有文件，不使用 originalFilename，所以需要我们生成文件名</span>
<span class="token comment">// ②我们生成文件名包含两部分：文件名本身和扩展名</span>
<span class="token comment">// ③声明变量生成文件名本身</span>
<span class="token class-name">String</span> generatedFileName <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// ④根据 originalFilename 获取文件的扩展名</span>
<span class="token class-name">String</span> fileExtname <span class="token operator">=</span> originalFilename<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>originalFilename<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// ⑤拼装起来就是我们生成的整体文件名</span>
<span class="token class-name">String</span> destFileName <span class="token operator">=</span> generatedFileName <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> fileExtname<span class="token punctuation">;</span>
 
<span class="token comment">// 3、拼接保存文件的路径，由两部分组成</span>
<span class="token comment">//      第一部分：文件所在目录</span>
<span class="token comment">//      第二部分：文件名</span>
<span class="token class-name">String</span> destFilePath <span class="token operator">=</span> destFileFolderRealPath <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> destFileName<span class="token punctuation">;</span>
 
<span class="token comment">// 4、创建 File 对象，对应文件具体保存的位置</span>
<span class="token class-name">File</span> destFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>destFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// 5、执行转存</span>
picture<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span>destFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
……
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>缺陷</p><ul><li>Web 应用重新部署时通常都会清理旧的构建结果，此时用户以前上传的文件会被删除，导致数据丢失。</li><li>项目运行很长时间后，会导致上传的文件积累非常多，体积非常大，从而拖慢 Tomcat 运行速度。</li><li>当服务器以集群模式运行时，文件上传到集群中的某一个实例，其他实例中没有这个文件，就会造成数据不一致。</li><li>不支持动态扩容，一旦系统增加了新的硬盘或新的服务器实例，那么上传、下载时使用的路径都需要跟着变化，导致 Java 代码需要重新编写、重新编译，进而导致整个项目重新部署。 <img src="/assets/img018_Fd9zEfZjJZ-6050678e.png" alt=""></li></ul></li><li><p>文件服务器转存（推荐）</p><p><img src="/assets/img019_0pV4kR24fK-9896d993.png" alt=""></p><p>好处</p><ul><li>不受 Web 应用重新部署影响</li><li>在应用服务器集群环境下不会导致数据不一致</li><li>针对文件读写进行专门的优化，性能有保障</li><li>能够实现动态扩容 <img src="/assets/img020_TUZbWX5oA6-1470b8a9.png" alt=""><strong>文件服务器类型</strong></li><li>第三方平台： <ul><li>阿里的 OSS 对象存储服务</li><li>七牛云</li></ul></li><li>自己搭建服务器：FastDFS 等</li></ul></li><li><p>上传到其他模块</p><p>这种情况肯定出现在分布式架构中，常规业务功能不会这么做，采用这个方案的一定是特殊情况，这种情况极其少见。</p><p><img src="/assets/img021_GYdAmeWInU-c984c08e.png" alt=""></p><p>在 MultipartFile 接口中有一个对应的方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Return a Resource representation of this MultipartFile. This can be used
 * as input to the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">RestTemplate</span></span></span><span class="token punctuation">}</span> or the <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token class-name">WebClient</span></span></span><span class="token punctuation">}</span> to expose
 * content length and the filename along with the InputStream.
 * <span class="token keyword">@return</span> this MultipartFile adapted to the Resource contract
 * <span class="token keyword">@since</span> 5.1
 */</span>
<span class="token keyword">default</span> <span class="token class-name">Resource</span> <span class="token function">getResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MultipartFileResource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注释中说：这个 Resource 对象代表当前 MultipartFile 对象，输入给 RestTemplate 或 WebClient。而 RestTemplate 或 WebClient 就是用来在 Java 程序中向服务器端发出请求的组件。</p></li></ol></li></ol><h4 id="_4-2-文件下载" tabindex="-1"><a class="header-anchor" href="#_4-2-文件下载" aria-hidden="true">#</a> 4.2 文件下载</h4><p>在 Spring MVC 中，<code>ResponseEntity</code> 是用于表示 HTTP 响应的一个类，它既能设置响应体的内容，也能设置响应头相关的信息。</p><p><code>ResponseEntity</code> 可以封装一个 HTTP 响应，包括响应体、响应头和响应状态码等属性，并将其发送回客户端。它提供了一种灵活的方式来表示 HTTP 响应，可以用于处理 RESTful API、文件下载、异常处理等应用场景。</p><p>演示json数据返回：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{age}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;二狗子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>演示文件下载代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">ServletContext</span> servletContext<span class="token punctuation">;</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/download/file&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1.获取要下载的文件的输入流对象</span>
    <span class="token comment">// 这里指定的路径以 Web 应用根目录为基准</span>
    <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/images/mi.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2.将要下载的文件读取到字节数组中</span>
        <span class="token comment">// ①获取目标文件的长度</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> inputStream<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ②根据目标文件长度创建字节数组</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// ③将目标文件读取到字节数组中</span>
        inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.封装响应消息头</span>
        <span class="token comment">// ①创建MultiValueMap接口类型的对象，实现类是HttpHeaders</span>
        <span class="token class-name">MultiValueMap</span> responseHeaderMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ②存入下载文件所需要的响应消息头</span>
        responseHeaderMap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;attachment; filename=mi.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ③创建ResponseEntity对象</span>
        <span class="token class-name">ResponseEntity</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> responseEntity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> responseHeaderMap<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.返回responseEntity对象</span>
        <span class="token keyword">return</span> responseEntity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>inputStream <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、springmvc底层原理" tabindex="-1"><a class="header-anchor" href="#七、springmvc底层原理" aria-hidden="true">#</a> 七、SpringMVC底层原理</h2><h3 id="_1-启动配置流程" tabindex="-1"><a class="header-anchor" href="#_1-启动配置流程" aria-hidden="true">#</a> 1. 启动配置流程</h3><h4 id="_1-1-servlet-生命周期回顾" tabindex="-1"><a class="header-anchor" href="#_1-1-servlet-生命周期回顾" aria-hidden="true">#</a> 1.1 Servlet 生命周期回顾</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUsAAAB3CAIAAAAFGvWrAAANLUlEQVR42u2db4weRR3H9+56BcufKmJFaVJt7sqDSVGhgtdUG2vEUNpYEislmhRjehepYO6iL0i4xORQXwh3Qa2kxwtzEQNJX9CmXBshNv4h12AxIi1y7V0qTQrGAiqo2Ovd9fF5dp9nn5nd38zOPM8+uzsz38+Lps/es7sz8+z32dndmc/TUS6XPQCApXQg4QBYDJ3wucX/vfLWn86+c/qdC/+qvLxy6XtXXrn6+vd/8pKu9+RdYACABkTCz7w9M/XaM/MXL0SWd3cuXX/trauW9+Zd5pDDAx37t5X33pZ3OQAoLNGEV+L9u7OToq57R0fHZ1fe3nLIK8ncPO7/r/9QKwFFwgFIgEv4+YV3nzr18/jZm6VyJr9jzdcvXbIsXHLijWNHX3u27JXXXbPxxms2JO2xGm+vFuyZsfUPlaaajqg84ZWNr5kexhcAcBou4S+em3rp3PPhyydHDob/3zG8Nfz/DStu+cSK9eHL8Re//5XSQGdH1+MvP3LPjd9L2GEldzu9ianBNPr6SDgACXAJf3r28X+cf4P987HJP1f+/dTtH2cXXnXpB7b0fC18+eMXhu9bN+L/54H71j2YtEf2HB5dHnTd+0ZP+d8AQUQPeZs3j3/6/vs7fvib7cFy/w/7tp+cKj3cSHhk9dnwZbg5AByES/gTf9kT6aKTCa901O/62O7w5U/+OHzvTSOVeEc2LUx7LYzsNXhl0UiJya9/7q3+Z+ho/W2Nt4RvCM/hwtVxDgeOk0LCAzQS7hPEtxbzxgm4hn/e9fiI1mPcWFxPuNLqALiIXi994e9XXXxr+WUfnL9r4/bIhnQT7lPvsXvMObhB9CQcRHzC21m/kGcSrrA6AA6id6dt7uWPLl39+sLpa79x55ciG1JNOHf7PIwmd3F+eGDA21v5byyi1bt002u946XanTq2l66wOgDuofe0bO7E6stvOPufl1bu2tFswsP+uU/jWpxZ2t94lhaJqP+mteE6zL10YvX6MtxpAw6jMeKlEm/2ZTzkAICioTFqFQkHwDg0Zp4cO8LdhEPCASg+GrNHH3vyAPsSCQeg+GB+OAA2g4QDYDNIOAA2g4QDYDNIOAA204aEz89fPPO38pv/LL87V93Bsks6rn5f56oPed3deVcWAOdIP+ELR/7gLS5Gl3Z1Ldl0c6ubDuaFi8agyv+aMtkLpGpjcHc9NnpiV1bVFDUpPdUHFJE0E/76uTc/vOLqhWePkn9d8oW+4A3N76DZhDMD3PNSxDETXJvacaMKSV9kaaYPCTef1BJ+YX7+V79/fuumDZKEHzzy3Bc/c8tSpruu6XhThJ+y0vBG5aSI89Pdz8yXWT/9Hd106GQqTVFW66UB+ZJawl+ZfXX69Jk7bt0oSfhTz/y2tHrV9T0fCRfqOd5U4QLWyGI+ijiRtUp7fxqZavc1BBJuDqkl/MjRF97+93+DhN/z09ErLl82N3f+pt7rjr/6147Ozjs3fO7mb95dSfjyKy7b1LcuXEvP8TbD2l1GSqNrh4aqPd/a9FD/rw+Utx1gDG0np7ZMNmKdgyLu5PD0dcIwsG6a/sb09ljV2C7+5KnSg9zXV/CXvtHKKvsYk1VQaaKbzS1iXlCFiX5VMiYdzMk1hNQSfvDXzy0sLoYJ/+6Xd3R3d//giV8Mf3Xn/Pz8o4f2/+iXE5WEL+nq2vr5Rm9cz/HGJbze8Q0PUo+7VGVOoczpLHtFnPB0Vy3K8TAmjS8fqmq9VBGiFx1rhjx2c37xyAtpujpUYeh9RYoOCk1bEv7tvWOPDAxWFlai/rNvDVX+c++e0Uf374snPKCphI9ET1hkwqmeeaaKOFHCo8vZsMWq1itIJbsF7qX8giRWHVFhelT2BQpNW3rp8YTv3jO61094pJce0MaECy9JM1PECdJAhCrYdioJT7gQj1ZHVBgPCTeettxpq+R5z+5qsOMJj9xpC2hzwuvvzEkRF+lA1++lz0Y7xrViKidc0kvnLheox11EdajCKF0RgEKT89OygLQTzhnaZpnTWW6KOPKemuROm1LC2V3zd9rC0gkfnkeqIyhM9JlA/X4iuy9QbIwa8dIc7X88XAi47wAXKgyUMGrUarNY6lVmrzoa3WxcIwMWzDwxGeYCAc+nAQlmjwJgM0g4ADaDhANgM0g4ADaDhANgM0g4ADaDp2UA2IwTI15SxQ1DG9rEFhwYtVrDfkMb+/5D3maFkW2utInLWOlpCxCplCw2tLGD8BNHpzvTJm5jpactIMED0SyFNrRxhUssqRtt4jhGedqqCMxkcllaVavmgqGNT63M1uY5ZK1zG6M8bUIPQZIszXPE0BY5l0ptba60iesY5WkTuYSUXGtVLDe0RTveSh1xy9uk9SPbcIzytEkSruBaY7Ziq6FNcA5P/vQsbhPXMcrTJuudSmVprhja+ONabmtzpU1cxyhPmyc2kyXJ0jw3DG30vXTBdbgr1jq3MXnEC3pi8XbQeB5uNTg26pg1apU2k2XUVAVC1g46Y9psAscGjWkzT2AmQzuIQJtQYPYoADaDhANgM0g4ADaDhANgM0g4ADaDhANgM6Y9LQMA6GDWiJeUKIr6J3u9mRGgWaRI5gJTg5xMHrWaehslrtSYA5mx3owdQl7Y8RxoFlmVUhtimFfCi+dpSxVu1kP2ejNu7kc6JiTt+st/oNnNZtFqwDZPE2h3wovnaUuTxkGXj94s5qvJuhublHBHmyW9aqWy/bYmPBtPGzU3Ud8rNuHdTci9wtXJDYbHbx56s6ktk/xhzfTS4vv1+JmY9T9IT36RLbDtPFnedoApjMSyVvBmiR08TEn4Q0pdGqd8TMq1edwiXlcVK4bgsxN9OkZ52ogTSVNesR5OG8BPQiI3yH/9Zq834y442Y9RVFpWw1CvIZ1wags9Y6T/StpLL3yzCCrFlYSRw6lK4zzFY9JL0ObR7UAVg5ZeCOfTGeVpqx1EwnOVp+gVE6l/RBvc8nS8C5qp3syTfKqxFUsPCS1u8e3Ru56NtrNKwgveLMmVqr/04kopiTRO8ZjsTbqSibWDyF3XI3hDlr30dnnauKOo/qk14RWTJ5zYoOgSKjO9mUA5Tq4o8TSSCRfe5GXauVc14cVtluRKSRIuk8apHZOSo0jQDiJ3nZdTwrPwtM2Mjc0ODsbOQdpeMfqr//DYWM+g/00f2yDTePnozWKqM+Y6jSotZSxjVmMkTNQWiHZWuNNW8GYRVCp0UUXaRFUa5ykek0naPLodqGJoqukM87QRj1yb8IrRl3Ls2sSdk/DrN3u9GX9Lid8OtSJ3o4cxloXv7evv98a9YWl9I+3cKAx3n9Lj61boZolVyi/J2v7x8fhTfD1pnMIxmazNi7WDoBjRjgvxQbM4OeKlCcy1nqVuLCv4QykNtC49Wt9XPgeQk6NWmyLLwyFN0k54i8NZikR2H2mOYkjMPLEdWEeFmPqlrQVmjwJgM0g4ADaDhANgM0g4ADaDhANgM0g4ADaDp2UA2AxGvOiS7pAubi5W1hTFVwfaiDujVrO3iCUPNlEccqHzc6I61UTCHcBiT5tgamF2FrHkhCuNN9P4SXCymk6M3AIiLPa0MUd2PhaxdBLO7S9x50Q1kXCnMczTxvRCI9Pl5EKv0sOZW8R4FwCh+GJmBsaVKOxERCa1MteXR8nSDg8QYjO/dtw8UNpAJm5tYAxGedqEU94ThV65WMTYd1CKr97oGwRuMPasLXV90dWMz4aPzzQmi6ckGAAFxyhPm0hbo+QDq5KtRSwSYFoeQOhD6iWtSbm4jrfS9QZ/g16sHxb6GP1dzCpJgkDBMcrTJkm4gg+M2Uo2FrEWEx66wahzePIHQrg5kXAHMcrTJuulS4Ve+VjEdBKu5AZLcn3R1Ww24eilW4FhnjbGgMXf+5EKvWq952wtYsSdNlnCPYEbTHAvXXAdTsrShGKzhISLWxuYg8kjXhzpN2o8D28njrS2dZg1apXthop+48FCdMa0pbtbF1vbMkybecJ0Qwv8Y7K2gNY2H8weBcBmkHAAbAYJB8BmkHAAbAYJB8BmkHAAbMa0p2UAAB3MGvHCY9MoK8lsUGvqCPIAo1abIf1BZkg4aA8me9q0j/6UfEZZDhRHwkFrmOxpyynhGuK01kHCQWuY62nz6eO8R7xxjZvcOVnedkBsLAsnmfOTN/musx82f0VFcRq3iHc3xWaJRueVk3UEQBtzPW3sdCdKmdZDS5xoY5lIk8YrGupuF2VxGq15o3bEK9M8ulgAaGOxpy0wn7JnQLHtRKRJu43dRz3JGuK0mOZN4mMj34BeOmgNiz1tAcG5Osi5VsK5m2kT3s76u/XEaVHNm2hHHhIO2oK9nraZsbHZwUEuzOKECzVppKdNWZxGr07tiO6lw44GWsU0Txt7Qy3J0xb/CS+hsYx/e+Q3vyIXw1ritJjmTbCj6E8wUXUEQB+TR7xkRVIXHvkDxcXkUavZQD1Ez0mcBoA2mHkiI+gv5/Pj3gCkAWaPAmAzSDgANoOEA2Az/wcuKmzVYvctugAAAABJRU5ErkJggg==" alt=""></p><table><thead><tr><th>生命周期环节</th><th>调用的方法</th><th>时机</th><th>次数</th></tr></thead><tbody><tr><td>创建对象</td><td>无参构造器</td><td>默认：第一次请求 修改：Web应用启动时</td><td>一次</td></tr><tr><td>初始化</td><td>init(ServletConfig servletConfig)</td><td>创建对象后</td><td>一次</td></tr><tr><td>处理请求</td><td>service(ServletRequest servletRequest, ServletResponse servletResponse)</td><td>接收到请求后</td><td>多次</td></tr><tr><td>清理操作</td><td>destroy()</td><td>Web应用卸载之前</td><td>一次</td></tr></tbody></table><h4 id="_1-2-初始化操作调用路线图" tabindex="-1"><a class="header-anchor" href="#_1-2-初始化操作调用路线图" aria-hidden="true">#</a> 1.2 初始化操作调用路线图</h4><p>类和接口之间的关系:</p><p><img src="/assets/img116_feXAAVNpoZ-f989cbd1.png" alt=""></p><p>调用线路图:</p><p>调用线路图所示是方法调用的顺序，但是实际运行的时候本质上都是调用 DispatcherServlet 对象的方法。包括这里涉及到的接口的方法，也不是去调用接口中的『抽象方法』。毕竟抽象方法是没法执行的。抽象方法一定是在某个实现类中有具体实现才能被调用。</p><p>而对于最终的实现类：DispatcherServlet 来说，所有父类的方法最后也都是在 DispatcherServlet 对象中被调用的。</p><p><img src="/assets/img005_WfQZAJl_k4-9c71571c.png" alt=""></p><h4 id="_1-3-springmvc-ioc-容器创建" tabindex="-1"><a class="header-anchor" href="#_1-3-springmvc-ioc-容器创建" aria-hidden="true">#</a> 1.3 SpringMVC IoC 容器创建</h4><p>所在类：org.springframework.web.servlet.FrameworkServlet</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">createWebApplicationContext</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">ApplicationContext</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> contextClass <span class="token operator">=</span> <span class="token function">getContextClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ConfigurableWebApplicationContext</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span>contextClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ApplicationContextException</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Fatal initialization error in servlet with name &#39;&quot;</span> <span class="token operator">+</span> <span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        <span class="token string">&quot;&#39;: custom WebApplicationContext class [&quot;</span> <span class="token operator">+</span> contextClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        <span class="token string">&quot;] is not of type ConfigurableWebApplicationContext&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
    <span class="token comment">// 通过反射创建 IOC 容器对象</span>
  <span class="token class-name">ConfigurableWebApplicationContext</span> wac <span class="token operator">=</span>
      <span class="token punctuation">(</span><span class="token class-name">ConfigurableWebApplicationContext</span><span class="token punctuation">)</span> <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">instantiateClass</span><span class="token punctuation">(</span>contextClass<span class="token punctuation">)</span><span class="token punctuation">;</span>

  wac<span class="token punctuation">.</span><span class="token function">setEnvironment</span><span class="token punctuation">(</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 设置父容器</span>
  wac<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">String</span> configLocation <span class="token operator">=</span> <span class="token function">getContextConfigLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>configLocation <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wac<span class="token punctuation">.</span><span class="token function">setConfigLocation</span><span class="token punctuation">(</span>configLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 配置并且刷新：在这个过程中就会去读XML配置文件并根据配置文件创建bean、加载各种组件</span>
  <span class="token function">configureAndRefreshWebApplicationContext</span><span class="token punctuation">(</span>wac<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> wac<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-将-springmvc-ioc容器对象存入应用域" tabindex="-1"><a class="header-anchor" href="#_1-4-将-springmvc-ioc容器对象存入应用域" aria-hidden="true">#</a> 1.4 将 SpringMVC IoC容器对象存入应用域</h4><p>所在类：org.springframework.web.servlet.FrameworkServlet</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">initWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">WebApplicationContext</span> rootContext <span class="token operator">=</span>
      <span class="token class-name">WebApplicationContextUtils</span><span class="token punctuation">.</span><span class="token function">getWebApplicationContext</span><span class="token punctuation">(</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">WebApplicationContext</span> wac <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>webApplicationContext <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wac <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>webApplicationContext<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>wac <span class="token keyword">instanceof</span> <span class="token class-name">ConfigurableWebApplicationContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ConfigurableWebApplicationContext</span> cwac <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConfigurableWebApplicationContext</span><span class="token punctuation">)</span> wac<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cwac<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cwac<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//springmvc容器认另一个容器（spring）作为父容器</span>
          cwac<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">configureAndRefreshWebApplicationContext</span><span class="token punctuation">(</span>cwac<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>wac <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wac <span class="token operator">=</span> <span class="token function">findWebApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>wac <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建 IOC 容器</span>
    wac <span class="token operator">=</span> <span class="token function">createWebApplicationContext</span><span class="token punctuation">(</span>rootContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>refreshEventReceived<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRefreshMonitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onRefresh</span><span class="token punctuation">(</span>wac<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>publishContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取存入应用域时专用的属性名</span>
    <span class="token class-name">String</span> attrName <span class="token operator">=</span> <span class="token function">getServletContextAttributeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 存入</span>
    <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>attrName<span class="token punctuation">,</span> wac<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> wac<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看到这一点的意义：SpringMVC 有一个工具方法，可以从应用域获取 IOC 容器对象的引用。</p><p>工具类：org.springframework.web.context.support.<strong>WebApplicationContextUtils</strong></p><p>工具方法：<strong>getWebApplicationContext</strong>()</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Nullable</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">WebApplicationContext</span> <span class="token function">getWebApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ServletContext</span> sc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">getWebApplicationContext</span><span class="token punctuation">(</span>sc<span class="token punctuation">,</span> <span class="token class-name">WebApplicationContext</span><span class="token punctuation">.</span><span class="token constant">ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用：将来假如我们自己开发时，在IOC容器之外需要从IOC容器中获取bean，那么就可以通过这个工具方法获取IOC容器对象的引用。IOC容器之外的场景会有很多，比如在一个我们自己创建的Filter中。</p><h4 id="_1-5-请求映射初始化" tabindex="-1"><a class="header-anchor" href="#_1-5-请求映射初始化" aria-hidden="true">#</a> 1.5 请求映射初始化</h4><p>FrameworkServlet.createWebApplicationContext()→configureAndRefreshWebApplicationContext()→wac.refresh()→触发刷新事件→org.springframework.web.servlet.DispatcherServlet.initStrategies()→org.springframework.web.servlet.DispatcherServlet.initHandlerMappings()</p><p><img src="/assets/img006_vnMiRnTzrm-46daedd7.png" alt=""></p><h4 id="_1-6-小结" tabindex="-1"><a class="header-anchor" href="#_1-6-小结" aria-hidden="true">#</a> 1.6 小结</h4><p>整个启动过程我们关心如下要点：</p><ul><li>DispatcherServlet 本质上是一个 Servlet，所以天然的遵循 Servlet 的生命周期。所以宏观上是 Servlet 生命周期来进行调度。</li><li>DispatcherServlet 的父类是 FrameworkServlet。 <ul><li>FrameworkServlet 负责框架本身相关的创建和初始化。</li><li>DispatcherServlet 负责请求处理相关的初始化。</li></ul></li><li>FrameworkServlet 创建 IOC 容器对象之后会存入应用域。</li><li>FrameworkServlet 完成初始化会调用 IOC 容器的刷新方法。</li><li>刷新方法完成触发刷新事件，在刷新事件的响应函数中，调用 DispatcherServlet 的初始化方法。</li><li>在 DispatcherServlet 的初始化方法中初始化了请求映射等。</li></ul><h3 id="_2-请求处理流程原理" tabindex="-1"><a class="header-anchor" href="#_2-请求处理流程原理" aria-hidden="true">#</a> 2. 请求处理流程原理</h3><h4 id="_2-1-总体阶段" tabindex="-1"><a class="header-anchor" href="#_2-1-总体阶段" aria-hidden="true">#</a> 2.1 总体阶段</h4><ol><li><p>流程描述</p><ul><li>目标 handler 方法执行<strong>前</strong><ul><li>建立调用链，确定整个执行流程</li><li>拦截器的 preHandle() 方法</li><li>注入请求参数</li><li>准备目标 handler 方法所需所有参数</li></ul></li><li><strong>调用</strong>目标 handler 方法</li><li>目标 handler 方法执行<strong>后</strong><ul><li>拦截器的 postHandle() 方法</li><li>渲染视图</li><li>拦截器的 afterCompletion() 方法</li></ul></li></ul></li><li><p>核心代码</p><p>整个请求处理过程都是doDispatch()方法在宏观上协调和调度，把握了这个方法就理解了 SpringMVC 总体上是如何处理请求的。</p><p>所在类：<strong>DispatcherServlet</strong></p><p>所在方法：doDispatch()</p><p>核心方法中的核心代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Actually invoke the handler.</span>
mv <span class="token operator">=</span> ha<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="_2-2-调用前阶段" tabindex="-1"><a class="header-anchor" href="#_2-2-调用前阶段" aria-hidden="true">#</a> 2.2 调用前阶段</h4><ol><li><p>建立调用链</p><p>全类名：org.springframework.web.servlet.HandlerExecutionChain</p><p><img src="/assets/img003_2YuoobIwMF-e2cb157a.png" alt=""></p><p>拦截器索引默认是 -1，说明开始的时候，它指向第一个拦截器前面的位置。每执行一个拦截器，就把索引向前移动一个位置。所以这个索引每次都是指向当前拦截器。所以它相当于拦截器的<strong>指针</strong>。</p></li><li><p>对应操作</p><p>所在类：org.springframework.web.servlet.handler.AbstractHandlerMapping</p><p>所在方法：getHandlerExecutionChain()</p><p>关键操作：</p><ul><li><p>把目标handler对象存入</p></li><li><p>把当前请求要经过的拦截器存入</p><p><img src="/assets/img004_ydSfnkOq6R-f3d33928.png" alt=""></p><p>结论：调用链是由拦截器和目标 handler 对象组成的。</p></li></ul></li><li><p>调用拦截器preHandle()</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：doDispatch()</p><p><img src="/assets/img007_A_9AZHyoTN-13e284b9.png" alt=""></p><p>具体调用细节：正序调用</p><p>所在类：org.springframework.web.servlet.HandlerExecutionChain</p><p>所在方法：applyPreHandle</p><p><img src="/assets/img008_htFE6CSadg-500f000f.png" alt=""></p><p>从这部分代码我们也能看到，为什么拦截器中的 preHandle() 方法通过返回布尔值能够控制是否放行。</p><ul><li>每一个拦截器的 preHandle() 方法都返回 true：applyPreHandle() 方法返回 true，被取反就不执行 if 分支，继续执行后续操作，这就是放行。</li><li>任何一个拦截器的 preHandle() 方法返回 false：applyPreHandle() 方法返回 false，被取反执行 if 分支，return，导致 doDispatch() 方法结束，不执行后续操作，就是不放行。</li></ul></li><li><p>注入请求参数</p><p>相关组件：</p><p>接口：org.springframework.web.servlet.HandlerAdapter</p><p>作用：字面含义是适配器的意思，具体功能有三个</p><ul><li>将请求参数绑定到实体类对象中</li><li>给目标 handler 方法准备所需的其他参数，例如： <ul><li>Model、ModelMap、Map……</li><li>原生 Servlet API：request、response、session……</li><li>BindingResult</li><li>@RequestParam 注解标记的零散请求参数</li><li>@PathVariable 注解标记的路径变量</li></ul></li><li>调用目标 handler 方法 所以 HandlerAdapter 这个适配器是将底层的 HTTP 报文、原生的 request 对象进行解析和封装，『适配』到我们定义的 handler 方法上。 创建并获取这个组件</li></ul><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：doDispatch()</p><p><img src="/assets/img009_LAQfA_01-A-d8c3b298.png" alt=""></p><p>具体操作：调用目标 handler 方法</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：doDispatch()</p><p><img src="/assets/img010_O3sCPwLR6_-37012ab2.png" alt=""></p><p>具体操作：注入请求参数</p><p><img src="/assets/img011_nwOb9QEP_8-3f625ce6.png" alt=""></p><p>通过反射给对应属性注入请求参数应该是下面的过程：</p><ul><li>获取请求参数名称</li><li>将请求参数名称首字母设定为大写</li><li>在首字母大写后的名称前附加 set，得到目标方法名</li><li>通过反射调用 setXxx() 方法</li></ul></li></ol><h4 id="_2-3调用后阶段" tabindex="-1"><a class="header-anchor" href="#_2-3调用后阶段" aria-hidden="true">#</a> 2.3调用后阶段</h4><ol><li><p>调用拦截器的 postHandle() 方法</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：doDispatch()</p><p><img src="/assets/img014_wAV36G4Yvi-56d1888a.png" alt=""></p><p>调用细节：从拦截器集合长度 - 1 开始循环，循环到 0 为止。所以是<strong>倒序</strong>执行，从而让各个拦截器形成<strong>嵌套执行</strong>的效果，和AOP有异曲同工之妙。</p><p><img src="/assets/img015_YPEZAdac0w-2a1eeb3f.png" alt=""></p></li><li><p>渲染视图</p><p>所有后续操作的入口:</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：doDispatch()</p><p><img src="/assets/img016_Ma3QoHPrlV-5b5e0b09.png" alt=""></p><p>后续细节1：处理异常:</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：processDispatchResult()</p><p><img src="/assets/img017_0mgDXuRD9X-b49635fe.png" alt=""></p><p>后续细节2：渲染视图:</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：processDispatchResult()</p><p><img src="/assets/img018_QKs8RvbiNR-59bc6d0f.png" alt=""></p><p>补充细节：模型数据存入请求域的具体位置</p><p>所在类：org.thymeleaf.context.WebEngineContext.RequestAttributesVariablesMap</p><p>所在方法：setVariable()</p><p><img src="/assets/img020_6YXuHbo-6o-ff60d57c.png" alt=""></p></li><li><p>调用拦截器的 afterCompletion() 方法</p><p>所在类：org.springframework.web.servlet.DispatcherServlet</p><p>所在方法：processDispatchResult()</p><p><img src="/assets/img019_jnu2SgB4zG-750eedd6.png" alt=""></p><p>调用细节：从拦截器索引开始循环，直到循环变量 i 被减到 0 为止。这样的效果是前面执行拦截器到哪里，就从哪里倒回去执行；前面没有执行的拦截器，现在也不执行。</p><p><img src="/assets/img021_N1iTvQ8D3e-b8c9a556.png" alt=""></p></li></ol><h4 id="_2-4-所有断点总结" tabindex="-1"><a class="header-anchor" href="#_2-4-所有断点总结" aria-hidden="true">#</a> 2.4 所有断点总结</h4><p>断点位置基准：SpringMVC 版本采用 6.0.6 且源码已经下载，包含注释。</p><table><thead><tr><th>所在类</th><th>所在方法</th><th>断点行数</th><th>作用</th></tr></thead><tbody><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1057</td><td>创建调用链对象</td></tr><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1064</td><td>创建 HandlerAdapter 对象</td></tr><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1076</td><td>调用拦截器 preHandle()方法</td></tr><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1081</td><td>执行目标 handler 方法</td></tr><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1088</td><td>调用拦截器 postHandle()方法</td></tr><tr><td>DispatcherServlet</td><td>doDispatch()</td><td>1098</td><td>执行所有后续操作</td></tr><tr><td>DispatcherServlet</td><td>processDispatchResult()</td><td>1145</td><td>处理异常</td></tr><tr><td>DispatcherServlet</td><td>processDispatchResult()</td><td>1159</td><td>渲染视图</td></tr><tr><td>DispatcherServlet</td><td>processDispatchResult()</td><td>1177</td><td>调用拦截器 afterCompletion()方法</td></tr></tbody></table><h3 id="_3-contextloaderlistener" tabindex="-1"><a class="header-anchor" href="#_3-contextloaderlistener" aria-hidden="true">#</a> 3. ContextLoaderListener</h3><h4 id="_3-1-配置分离相关问题" tabindex="-1"><a class="header-anchor" href="#_3-1-配置分离相关问题" aria-hidden="true">#</a> 3.1 配置分离相关问题</h4><p>目前情况：DispatcherServlet 加载 spring-mvc.xml，此时整个 Web 应用中只创建一个 IoC 容器。将来整合Mybatis、配置声明式事务，全部在 spring-mvc.xml 配置文件中配置也是可以的。可是这样会导致配置文件太长，不容易维护。</p><p>所以想到把配置文件分开：</p><ul><li>SpringMVC相关：spring-mvc.xml 配置文件</li><li>Spring和Mybatis相关：spring-persist.xml 配置文件 (命名随意，分离思维)</li></ul><p>配置文件分开之后，可以让 DispatcherServlet 加载多个配置文件。例如：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>dispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring-*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果希望这两个配置文件使用不同的机制来加载：</p><ul><li>DispatcherServlet 加载 spring-mvc.xml 配置文件：它们和处理浏览器请求相关</li><li>ContextLoaderListener 加载 spring-persist.xml 配置文件：不需要处理浏览器请求，需要配置持久化层相关功能</li></ul><p>此时会带来一个新的问题：在一个 Web 应用中就会出现两个 IOC 容器</p><ul><li>DispatcherServlet 创建一个 IOC 容器</li><li>ContextLoaderListener 创建一个 IOC 容器</li></ul><p>注意：本节我们探讨的这个技术方案并不是『必须』这样做，而仅仅是『可以』这样做。</p><h4 id="_3-2-配置contextloaderlistener" tabindex="-1"><a class="header-anchor" href="#_3-2-配置contextloaderlistener" aria-hidden="true">#</a> 3.2 配置ContextLoaderListener</h4><ol><li><p>创建 spring-persist.xml</p><p><img src="/assets/img022_lw63yzM-MW-d8d8849f.png" alt=""></p></li><li><p>配置 ContextLoaderListener</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 通过全局初始化参数指定 Spring 配置文件的位置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring-persist.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 指定全类名，配置监听器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ContextLoaderListener</p><p><img src="/assets/img023_gMZk-O9CJH-3eb45e08.png" alt=""></p><table><thead><tr><th>方法名</th><th>执行时机</th><th>作用</th></tr></thead><tbody><tr><td>contextInitialized()</td><td>Web 应用启动时执行</td><td>创建并初始化 IOC 容器</td></tr><tr><td>contextDestroyed()</td><td>Web 应用卸载时执行</td><td>关闭 IOC 容器</td></tr></tbody></table></li><li><p>ContextLoader</p><p>ContextLoader 类是 ContextLoaderListener 类的父类。</p><p>指定配置文件位置的参数名:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * Name of servlet context parameter (i.e., <span class="token punctuation">{</span><span class="token keyword">@value</span><span class="token punctuation">}</span>) that can specify the
 * config location for the root context, falling back to the implementation&#39;s
 * default otherwise.
 * <span class="token keyword">@see</span> <span class="token reference"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">XmlWebApplicationContext</span><span class="token punctuation">#</span><span class="token field">DEFAULT_CONFIG_LOCATION</span></span>
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">CONFIG_LOCATION_PARAM</span> <span class="token operator">=</span> <span class="token string">&quot;contextConfigLocation&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>初始化 IOC 容器</p><p>方法名：initWebApplicationContext()</p><p>创建 IOC 容器</p><p>方法名：createWebApplicationContext()</p></li></ol><h4 id="_3-3-探讨两个ioc容器之间关系" tabindex="-1"><a class="header-anchor" href="#_3-3-探讨两个ioc容器之间关系" aria-hidden="true">#</a> 3.3 探讨两个IoC容器之间关系</h4><p>打印两个 IOC 容器对象的 toString() 方法：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Object</span> springIOC <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;org.springframework.web.context.WebApplicationContext.ROOT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>springIOC<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Object</span> springMVCIOC <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;org.springframework.web.servlet.FrameworkServlet.CONTEXT.dispatcherServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>springMVCIOC<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>打印效果是：</p><blockquote><p>**Root **WebApplicationContext, started on Thu Jun 17 14:49:17 CST 2021 …… WebApplicationContext for namespace &#39;dispatcherServlet-servlet&#39;, started on Thu Jun 17 14:49:18 CST 2021, <strong>parent</strong>: Root WebApplicationContext</p></blockquote><p>结论：两个组件分别创建的 IOC 容器是<strong>父子</strong>关系。</p><ul><li>父容器：ContextLoaderListener 创建的 IOC 容器</li><li>子容器：DispatcherServlet 创建的 IOC 容器</li></ul><p>父子关系是如何决定的？</p><ul><li>Tomcat 在读取 web.xml 之后，加载组件的顺序就是监听器、过滤器、Servlet。</li><li>ContextLoaderListener 初始化时如果检查到有已经存在的根级别 IOC 容器，那么会抛出异常。</li><li>DispatcherServlet 创建的 IOC 容器会在初始化时先检查当前环境下是否存在已经创建好的 IOC 容器。 <ul><li>如果有：则将已存在的这个 IOC 容器设置为自己的父容器</li><li>如果没有：则将自己设置为 root 级别的 IOC 容器</li></ul></li></ul><p>DispatcherServlet 创建的 IOC 容器设置父容器的源码截图：</p><p>所在类：org.springframework.web.servlet.FrameworkServlet</p><p>所在方法：createWebApplicationContext()</p><p><img src="/assets/img024__fEN2w3a99-1faec76d.png" alt=""></p><h4 id="_3-4-两个ioc容器之间bean访问" tabindex="-1"><a class="header-anchor" href="#_3-4-两个ioc容器之间bean访问" aria-hidden="true">#</a> 3.4 两个IoC容器之间Bean访问</h4><p><img src="/assets/img113_B0qo4n9vts-2899e6bf.png" alt=""></p><p>spring-mvc.xml配置方式：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.spring.component.controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>spring-persist.xml配置方式：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.spring.component.service,com.atguigu.spring.component.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>所以bean所属IOC容器的关系：</p><ul><li>父容器 <ul><li>EmpService</li><li>EmpDao</li></ul></li><li>子容器 <ul><li>EmpController</li></ul></li></ul><p>结论：子容器中的 EmpController 装配父容器中的 EmpService 能够正常工作。说明子容器可以访问父容器中的bean。</p><p>分析：“子可用父，父不能用子”的根本原因是子容器中有一个属性 &lt;span style=&quot;color:blue;font-weight:bold;&quot;&gt;getParent()&lt;/span&gt; 可以获取到父容器这个对象的引用。</p><p>源码依据：</p><ul><li>在 AbstractApplicationContext 类中，有 parent 属性</li><li>在 AbstractApplicationContext 类中，有获取 parent 属性的 getParent() 方法</li><li>子容器可以通过 getParent() 方法获取到父容器对象的引用</li><li>进而调用父容器中类似 “getBean()” 这样的方法获取到需要的 bean 完成装配</li><li>而父容器中并没有类似 “getChildren()“ 这样的方法，所以没法拿到子容器对象的引用</li></ul><h4 id="_3-5-有可能重复对象" tabindex="-1"><a class="header-anchor" href="#_3-5-有可能重复对象" aria-hidden="true">#</a> 3.5 有可能重复对象</h4><p><img src="/assets/img115_DlCdffhvJZ-ce035613.png" alt=""></p><p>查看日志确认是否重复创建了对象</p><blockquote><p>Root WebApplicationContext: initialization started ……</p></blockquote><p>Creating shared instance of singleton bean &#39;helloDao&#39; Creating shared instance of singleton bean &#39;helloHandler&#39; Creating shared instance of singleton bean &#39;helloService&#39;</p><p>…… Root WebApplicationContext initialized in 1150 ms Refreshing WebApplicationContext for namespace &#39;dispatcherServlet-servlet&#39; ……</p><p>Creating shared instance of singleton bean &#39;helloDao&#39; Creating shared instance of singleton bean &#39;helloHandler&#39; Creating shared instance of singleton bean &#39;helloService&#39;</p><p>重复创建对象的问题</p><ul><li>浪费内存空间</li><li>两个 IOC 容器能力是不同的 <ul><li><p>spring-mvc.xml：仅配置和处理请求相关的功能。所以不能给 service 类附加声明式事务功能。</p><p>结论：基于 spring-mvc.xml 配置文件创建的 EmpService 的 bean 不带有声明式事务的功能</p><p>影响：DispatcherServlet 处理浏览器请求时会调用自己创建的 EmpController，然后再调用自己创建的EmpService，而这个 EmpService 是没有事务的，所以处理请求时&lt;span style=&quot;color:blue;font-weight:bold;&quot;&gt;没有事务功能的支持&lt;/span&gt;。</p></li><li><p>spring-persist.xml：配置声明式事务。所以可以给 service 类附加声明式事务功能。</p><p>结论：基于 spring-persist.xml 配置文件创建的 EmpService 有声明式事务的功能</p><p>影响：由于 DispatcherServlet 的 IOC 容器会优先使用自己创建的 EmpController，进而装配自己创建的EmpService，所以基于 spring-persist.xml 配置文件创建的有声明式事务的 EmpService 用不上。</p></li></ul></li></ul><p>解决重复创建对象的问题</p><p>解决方案一[建议使用]</p><p>让两个配置文件配置自动扫描的包时，各自扫描各自的组件。</p><ul><li>SpringMVC 就扫描 XxxHandler、XXXController</li><li>Spring 扫描 XxxService 和 XxxDao</li></ul><p>解决方案二</p><p>如果由于某种原因，必须扫描同一个包，确实存在重复创建对象的问题，可以采取下面的办法处理。</p><ul><li>spring-mvc.xml 配置文件在整体扫描的基础上进一步配置：仅包含被 @Controller 注解标记的类。</li><li>spring-persist.xml 配置在整体扫描的基础上进一步配置：排除被 @Controller 注解标记的类。</li></ul><p>具体spring-mvc.xml配置文件中的配置方式如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 两个Spring的配置文件扫描相同的包 --&gt;</span>
<span class="token comment">&lt;!-- 为了解决重复创建对象的问题，需要进一步制定扫描组件时的规则 --&gt;</span>
<span class="token comment">&lt;!-- 目标：『仅』包含@Controller注解标记的类 --&gt;</span>
<span class="token comment">&lt;!-- use-default-filters=&quot;false&quot;表示关闭默认规则，表示什么都不扫描，此时不会把任何组件加入IOC容器；
        再配合context:include-filter实现“『仅』包含”效果 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.spring.component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">use-default-filters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- context:include-filter标签配置一个“扫描组件时要包含的类”的规则，追加到默认规则中 --&gt;</span>
    <span class="token comment">&lt;!-- type属性：指定规则的类型，根据什么找到要包含的类，现在使用annotation表示基于注解来查找 --&gt;</span>
    <span class="token comment">&lt;!-- expression属性：规则的表达式。如果type属性选择了annotation，那么expression属性配置注解的全类名 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>具体spring-persist.xml配置文件中的配置方式如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- 两个Spring的配置文件扫描相同的包 --&gt;</span>
<span class="token comment">&lt;!-- 在默认规则的基础上排除标记了@Controller注解的类 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.spring.component<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 配置具体排除规则：把标记了@Controller注解的类排除在扫描范围之外 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-小结" tabindex="-1"><a class="header-anchor" href="#_3-5-小结" aria-hidden="true">#</a> 3.5 小结</h4><ul><li>DispatcherServlet 和 ContextLoaderListener 并存 <ul><li>DispatcherServlet 负责加载 SpringMVC 的配置文件，例如：spring-mvc.xml</li><li>ContextLoaderListener 负责加载 Spring 的配置文件，例如：spring-persist.xml</li></ul></li><li>两个 IOC 容器的关系： <ul><li>ContextLoaderListener 创建的容器是父容器</li><li>DispatcherServlet 创建的容器是子容器</li></ul></li><li>bean 的装配 <ul><li>子容器可以访问父容器中的 bean</li><li>父容器不能访问子容器中的 bean</li></ul></li><li>两个容器扫描同一个包会导致重复创建对象 <ul><li>解决办法一：各自扫描各自的包</li><li>解决办法二： <ul><li>DispatcherServlet 创建的容器仅扫描 handler</li><li>ContextLoaderListener 创建的容器不扫描 handler</li></ul></li></ul></li></ul><p>通过遵循 RESTful 架构的设计原则，可以构建出易于理解、可扩展、松耦合和可重用的 Web 服务。RESTful API 的特点是简单、清晰，并且易于使用和理解，它们使用标准的 HTTP 方法和状态码进行通信，不需要额外的协议和中间件。</p><p>RESTful 架构通常用于构建 Web API，提供数据的传输和操作。它可以用于各种应用场景，包括客户端-服务器应用、单页应用（SPA）、移动应用程序和微服务架构等。</p><p>总而言之，RESTful 是一种基于 HTTP 和标准化的设计原则的软件架构风格，用于设计和实现可靠、可扩展和易于集成的 Web 服务和应用程序</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1409117198@qq.com">laohai</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-8007fa1b.js" defer></script>
  </body>
</html>
